function sk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fs(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ok={exports:{}},Gg={},ak={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),gM=Symbol.for("react.portal"),yM=Symbol.for("react.fragment"),vM=Symbol.for("react.strict_mode"),_M=Symbol.for("react.profiler"),bM=Symbol.for("react.provider"),TM=Symbol.for("react.context"),xM=Symbol.for("react.forward_ref"),SM=Symbol.for("react.suspense"),EM=Symbol.for("react.memo"),wM=Symbol.for("react.lazy"),qS=Symbol.iterator;function CM(t){return t===null||typeof t!="object"?null:(t=qS&&t[qS]||t["@@iterator"],typeof t=="function"?t:null)}var lk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uk=Object.assign,ck={};function Wc(t,e,n){this.props=t,this.context=e,this.refs=ck,this.updater=n||lk}Wc.prototype.isReactComponent={};Wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dk(){}dk.prototype=Wc.prototype;function Mb(t,e,n){this.props=t,this.context=e,this.refs=ck,this.updater=n||lk}var Fb=Mb.prototype=new dk;Fb.constructor=Mb;uk(Fb,Wc.prototype);Fb.isPureReactComponent=!0;var WS=Array.isArray,hk=Object.prototype.hasOwnProperty,Bb={current:null},fk={key:!0,ref:!0,__self:!0,__source:!0};function pk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hk.call(e,r)&&!fk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wf,type:t,key:s,ref:o,props:i,_owner:Bb.current}}function AM(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ub(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function IM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GS=/\/+/g;function dv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IM(""+t.key):e.toString(36)}function Xp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wf:case gM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dv(o,0):r,WS(i)?(n="",t!=null&&(n=t.replace(GS,"$&/")+"/"),Xp(i,e,n,"",function(u){return u})):i!=null&&(Ub(i)&&(i=AM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(GS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",WS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+dv(s,a);o+=Xp(s,e,n,l,i)}else if(l=CM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+dv(s,a++),o+=Xp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(t,e,n){if(t==null)return t;var r=[],i=0;return Xp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Yp={transition:null},DM={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Yp,ReactCurrentOwner:Bb};function mk(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:gp,forEach:function(t,e,n){gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!Ub(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Wc;lt.Fragment=yM;lt.Profiler=_M;lt.PureComponent=Mb;lt.StrictMode=vM;lt.Suspense=SM;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DM;lt.act=mk;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hk.call(e,l)&&!fk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wf,type:t.type,key:i,ref:s,props:r,_owner:o}};lt.createContext=function(t){return t={$$typeof:TM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bM,_context:t},t.Consumer=t};lt.createElement=pk;lt.createFactory=function(t){var e=pk.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:xM,render:t}};lt.isValidElement=Ub;lt.lazy=function(t){return{$$typeof:wM,_payload:{_status:-1,_result:t},_init:kM}};lt.memo=function(t,e){return{$$typeof:EM,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Yp.transition;Yp.transition={};try{t()}finally{Yp.transition=e}};lt.unstable_act=mk;lt.useCallback=function(t,e){return kr.current.useCallback(t,e)};lt.useContext=function(t){return kr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return kr.current.useEffect(t,e)};lt.useId=function(){return kr.current.useId()};lt.useImperativeHandle=function(t,e,n){return kr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return kr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return kr.current.useReducer(t,e,n)};lt.useRef=function(t){return kr.current.useRef(t)};lt.useState=function(t){return kr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return kr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return kr.current.useTransition()};lt.version="18.3.1";ak.exports=lt;var N=ak.exports;const Ls=No(N),wm=sk({__proto__:null,default:Ls},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=N,RM=Symbol.for("react.element"),OM=Symbol.for("react.fragment"),LM=Object.prototype.hasOwnProperty,NM=PM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MM={key:!0,ref:!0,__self:!0,__source:!0};function gk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LM.call(e,r)&&!MM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RM,type:t,key:s,ref:o,props:i,_owner:NM.current}}Gg.Fragment=OM;Gg.jsx=gk;Gg.jsxs=gk;ok.exports=Gg;var I=ok.exports,O_={},yk={exports:{}},vi={},vk={exports:{}},_k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,fe){var ye=ee.length;ee.push(fe);e:for(;0<ye;){var ke=ye-1>>>1,Se=ee[ke];if(0<i(Se,fe))ee[ke]=fe,ee[ye]=Se,ye=ke;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var fe=ee[0],ye=ee.pop();if(ye!==fe){ee[0]=ye;e:for(var ke=0,Se=ee.length,De=Se>>>1;ke<De;){var Ie=2*(ke+1)-1,Ve=ee[Ie],qe=Ie+1,Pt=ee[qe];if(0>i(Ve,ye))qe<Se&&0>i(Pt,Ve)?(ee[ke]=Pt,ee[qe]=ye,ke=qe):(ee[ke]=Ve,ee[Ie]=ye,ke=Ie);else if(qe<Se&&0>i(Pt,ye))ee[ke]=Pt,ee[qe]=ye,ke=qe;else break e}}return fe}function i(ee,fe){var ye=ee.sortIndex-fe.sortIndex;return ye!==0?ye:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,m=3,x=!1,_=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ee){for(var fe=n(u);fe!==null;){if(fe.callback===null)r(u);else if(fe.startTime<=ee)r(u),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(u)}}function O(ee){if(g=!1,S(ee),!_)if(n(l)!==null)_=!0,ue(L);else{var fe=n(u);fe!==null&&le(O,fe.startTime-ee)}}function L(ee,fe){_=!1,g&&(g=!1,E(P),P=-1),x=!0;var ye=m;try{for(S(fe),f=n(l);f!==null&&(!(f.expirationTime>fe)||ee&&!$());){var ke=f.callback;if(typeof ke=="function"){f.callback=null,m=f.priorityLevel;var Se=ke(f.expirationTime<=fe);fe=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(l)&&r(l),S(fe)}else r(l);f=n(l)}if(f!==null)var De=!0;else{var Ie=n(u);Ie!==null&&le(O,Ie.startTime-fe),De=!1}return De}finally{f=null,m=ye,x=!1}}var R=!1,D=null,P=-1,M=5,B=-1;function $(){return!(t.unstable_now()-B<M)}function V(){if(D!==null){var ee=t.unstable_now();B=ee;var fe=!0;try{fe=D(!0,ee)}finally{fe?F():(R=!1,D=null)}}else R=!1}var F;if(typeof w=="function")F=function(){w(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=V,F=function(){ce.postMessage(null)}}else F=function(){k(V,0)};function ue(ee){D=ee,R||(R=!0,F())}function le(ee,fe){P=k(function(){ee(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,ue(L))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var fe=3;break;default:fe=m}var ye=m;m=fe;try{return ee()}finally{m=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=m;m=ee;try{return fe()}finally{m=ye}},t.unstable_scheduleCallback=function(ee,fe,ye){var ke=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ke+ye:ke):ye=ke,ee){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ye+Se,ee={id:c++,callback:fe,priorityLevel:ee,startTime:ye,expirationTime:Se,sortIndex:-1},ye>ke?(ee.sortIndex=ye,e(u,ee),n(l)===null&&ee===n(u)&&(g?(E(P),P=-1):g=!0,le(O,ye-ke))):(ee.sortIndex=Se,e(l,ee),_||x||(_=!0,ue(L))),ee},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ee){var fe=m;return function(){var ye=m;m=fe;try{return ee.apply(this,arguments)}finally{m=ye}}}})(_k);vk.exports=_k;var FM=vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=N,pi=FM;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,jh={};function ql(t,e){bc(t,e),bc(t+"Capture",e)}function bc(t,e){for(jh[t]=e,t=0;t<e.length;t++)bk.add(e[t])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L_=Object.prototype.hasOwnProperty,UM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KS={},XS={};function jM(t){return L_.call(XS,t)?!0:L_.call(KS,t)?!1:UM.test(t)?XS[t]=!0:(KS[t]=!0,!1)}function $M(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zM(t,e,n,r){if(e===null||typeof e>"u"||$M(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){er[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];er[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){er[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){er[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){er[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){er[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){er[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){er[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){er[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jb=/[\-:]([a-z])/g;function $b(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jb,$b);er[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jb,$b);er[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jb,$b);er[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){er[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});er.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){er[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function zb(t,e,n,r){var i=er.hasOwnProperty(e)?er[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zM(e,n,i,r)&&(n=null),r||i===null?jM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mo=BM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Fu=Symbol.for("react.portal"),Bu=Symbol.for("react.fragment"),Hb=Symbol.for("react.strict_mode"),N_=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),xk=Symbol.for("react.context"),Vb=Symbol.for("react.forward_ref"),M_=Symbol.for("react.suspense"),F_=Symbol.for("react.suspense_list"),qb=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),Sk=Symbol.for("react.offscreen"),YS=Symbol.iterator;function Rd(t){return t===null||typeof t!="object"?null:(t=YS&&t[YS]||t["@@iterator"],typeof t=="function"?t:null)}var on=Object.assign,hv;function rh(t){if(hv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hv=e&&e[1]||""}return`
`+hv+t}var fv=!1;function pv(t,e){if(!t||fv)return"";fv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rh(t):""}function HM(t){switch(t.tag){case 5:return rh(t.type);case 16:return rh("Lazy");case 13:return rh("Suspense");case 19:return rh("SuspenseList");case 0:case 2:case 15:return t=pv(t.type,!1),t;case 11:return t=pv(t.type.render,!1),t;case 1:return t=pv(t.type,!0),t;default:return""}}function B_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bu:return"Fragment";case Fu:return"Portal";case N_:return"Profiler";case Hb:return"StrictMode";case M_:return"Suspense";case F_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xk:return(t.displayName||"Context")+".Consumer";case Tk:return(t._context.displayName||"Context")+".Provider";case Vb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qb:return e=t.displayName||null,e!==null?e:B_(t.type)||"Memo";case oa:e=t._payload,t=t._init;try{return B_(t(e))}catch{}}return null}function VM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B_(e);case 8:return e===Hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ia(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ek(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qM(t){var e=Ek(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vp(t){t._valueTracker||(t._valueTracker=qM(t))}function wk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ek(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function U_(t,e){var n=e.checked;return on({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function QS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ia(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ck(t,e){e=e.checked,e!=null&&zb(t,"checked",e,!1)}function j_(t,e){Ck(t,e);var n=Ia(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$_(t,e.type,n):e.hasOwnProperty("defaultValue")&&$_(t,e.type,Ia(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $_(t,e,n){(e!=="number"||Cm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ih=Array.isArray;function ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ia(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function z_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return on({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(ih(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ia(n)}}function Ak(t,e){var n=Ia(e.value),r=Ia(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ik(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ik(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _p,kk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_p.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $h(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WM=["Webkit","ms","Moz","O"];Object.keys(vh).forEach(function(t){WM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vh[e]=vh[t]})});function Dk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vh.hasOwnProperty(t)&&vh[t]?(""+e).trim():e+"px"}function Pk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GM=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V_(t,e){if(e){if(GM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function q_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W_=null;function Wb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var G_=null,tc=null,nc=null;function tE(t){if(t=If(t)){if(typeof G_!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Jg(e),G_(t.stateNode,t.type,e))}}function Rk(t){tc?nc?nc.push(t):nc=[t]:tc=t}function Ok(){if(tc){var t=tc,e=nc;if(nc=tc=null,tE(t),e)for(t=0;t<e.length;t++)tE(e[t])}}function Lk(t,e){return t(e)}function Nk(){}var mv=!1;function Mk(t,e,n){if(mv)return t(e,n);mv=!0;try{return Lk(t,e,n)}finally{mv=!1,(tc!==null||nc!==null)&&(Nk(),Ok())}}function zh(t,e){var n=t.stateNode;if(n===null)return null;var r=Jg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var K_=!1;if(Eo)try{var Od={};Object.defineProperty(Od,"passive",{get:function(){K_=!0}}),window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{K_=!1}function KM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _h=!1,Am=null,Im=!1,X_=null,XM={onError:function(t){_h=!0,Am=t}};function YM(t,e,n,r,i,s,o,a,l){_h=!1,Am=null,KM.apply(XM,arguments)}function QM(t,e,n,r,i,s,o,a,l){if(YM.apply(this,arguments),_h){if(_h){var u=Am;_h=!1,Am=null}else throw Error(he(198));Im||(Im=!0,X_=u)}}function Wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nE(t){if(Wl(t)!==t)throw Error(he(188))}function JM(t){var e=t.alternate;if(!e){if(e=Wl(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nE(i),t;if(s===r)return nE(i),e;s=s.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function Bk(t){return t=JM(t),t!==null?Uk(t):null}function Uk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uk(t);if(e!==null)return e;t=t.sibling}return null}var jk=pi.unstable_scheduleCallback,rE=pi.unstable_cancelCallback,ZM=pi.unstable_shouldYield,e8=pi.unstable_requestPaint,xn=pi.unstable_now,t8=pi.unstable_getCurrentPriorityLevel,Gb=pi.unstable_ImmediatePriority,$k=pi.unstable_UserBlockingPriority,km=pi.unstable_NormalPriority,n8=pi.unstable_LowPriority,zk=pi.unstable_IdlePriority,Kg=null,Us=null;function r8(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(Kg,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:o8,i8=Math.log,s8=Math.LN2;function o8(t){return t>>>=0,t===0?32:31-(i8(t)/s8|0)|0}var bp=64,Tp=4194304;function sh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sh(a):(s&=o,s!==0&&(r=sh(s)))}else o=n&~i,o!==0?r=sh(o):s!==0&&(r=sh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),i=1<<n,r|=t[n],e&=~i;return r}function a8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ss(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=a8(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Y_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hk(){var t=bp;return bp<<=1,!(bp&4194240)&&(bp=64),t}function gv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function u8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ss(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var At=0;function Vk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qk,Xb,Wk,Gk,Kk,Q_=!1,xp=[],va=null,_a=null,ba=null,Hh=new Map,Vh=new Map,ca=[],c8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iE(t,e){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Hh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function Ld(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=If(e),e!==null&&Xb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function d8(t,e,n,r,i){switch(e){case"focusin":return va=Ld(va,t,e,n,r,i),!0;case"dragenter":return _a=Ld(_a,t,e,n,r,i),!0;case"mouseover":return ba=Ld(ba,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hh.set(s,Ld(Hh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vh.set(s,Ld(Vh.get(s)||null,t,e,n,r,i)),!0}return!1}function Xk(t){var e=dl(t.target);if(e!==null){var n=Wl(e);if(n!==null){if(e=n.tag,e===13){if(e=Fk(n),e!==null){t.blockedOn=e,Kk(t.priority,function(){Wk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=J_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);W_=r,n.target.dispatchEvent(r),W_=null}else return e=If(n),e!==null&&Xb(e),t.blockedOn=n,!1;e.shift()}return!0}function sE(t,e,n){Qp(t)&&n.delete(e)}function h8(){Q_=!1,va!==null&&Qp(va)&&(va=null),_a!==null&&Qp(_a)&&(_a=null),ba!==null&&Qp(ba)&&(ba=null),Hh.forEach(sE),Vh.forEach(sE)}function Nd(t,e){t.blockedOn===e&&(t.blockedOn=null,Q_||(Q_=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,h8)))}function qh(t){function e(i){return Nd(i,t)}if(0<xp.length){Nd(xp[0],t);for(var n=1;n<xp.length;n++){var r=xp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(va!==null&&Nd(va,t),_a!==null&&Nd(_a,t),ba!==null&&Nd(ba,t),Hh.forEach(e),Vh.forEach(e),n=0;n<ca.length;n++)r=ca[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ca.length&&(n=ca[0],n.blockedOn===null);)Xk(n),n.blockedOn===null&&ca.shift()}var rc=Mo.ReactCurrentBatchConfig,Pm=!0;function f8(t,e,n,r){var i=At,s=rc.transition;rc.transition=null;try{At=1,Yb(t,e,n,r)}finally{At=i,rc.transition=s}}function p8(t,e,n,r){var i=At,s=rc.transition;rc.transition=null;try{At=4,Yb(t,e,n,r)}finally{At=i,rc.transition=s}}function Yb(t,e,n,r){if(Pm){var i=J_(t,e,n,r);if(i===null)Cv(t,e,r,Rm,n),iE(t,r);else if(d8(i,t,e,n,r))r.stopPropagation();else if(iE(t,r),e&4&&-1<c8.indexOf(t)){for(;i!==null;){var s=If(i);if(s!==null&&qk(s),s=J_(t,e,n,r),s===null&&Cv(t,e,r,Rm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cv(t,e,r,null,n)}}var Rm=null;function J_(t,e,n,r){if(Rm=null,t=Wb(r),t=dl(t),t!==null)if(e=Wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rm=t,null}function Yk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t8()){case Gb:return 1;case $k:return 4;case km:case n8:return 16;case zk:return 536870912;default:return 16}default:return 16}}var ga=null,Qb=null,Jp=null;function Qk(){if(Jp)return Jp;var t,e=Qb,n=e.length,r,i="value"in ga?ga.value:ga.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jp=i.slice(t,1<r?1-r:void 0)}function Zp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function oE(){return!1}function _i(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sp:oE,this.isPropagationStopped=oE,this}return on(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var Gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jb=_i(Gc),Af=on({},Gc,{view:0,detail:0}),m8=_i(Af),yv,vv,Md,Xg=on({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Md&&(Md&&t.type==="mousemove"?(yv=t.screenX-Md.screenX,vv=t.screenY-Md.screenY):vv=yv=0,Md=t),yv)},movementY:function(t){return"movementY"in t?t.movementY:vv}}),aE=_i(Xg),g8=on({},Xg,{dataTransfer:0}),y8=_i(g8),v8=on({},Af,{relatedTarget:0}),_v=_i(v8),_8=on({},Gc,{animationName:0,elapsedTime:0,pseudoElement:0}),b8=_i(_8),T8=on({},Gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x8=_i(T8),S8=on({},Gc,{data:0}),lE=_i(S8),E8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C8[t])?!!e[t]:!1}function Zb(){return A8}var I8=on({},Af,{key:function(t){if(t.key){var e=E8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zb,charCode:function(t){return t.type==="keypress"?Zp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k8=_i(I8),D8=on({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uE=_i(D8),P8=on({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zb}),R8=_i(P8),O8=on({},Gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),L8=_i(O8),N8=on({},Xg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M8=_i(N8),F8=[9,13,27,32],e2=Eo&&"CompositionEvent"in window,bh=null;Eo&&"documentMode"in document&&(bh=document.documentMode);var B8=Eo&&"TextEvent"in window&&!bh,Jk=Eo&&(!e2||bh&&8<bh&&11>=bh),cE=" ",dE=!1;function Zk(t,e){switch(t){case"keyup":return F8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uu=!1;function U8(t,e){switch(t){case"compositionend":return eD(e);case"keypress":return e.which!==32?null:(dE=!0,cE);case"textInput":return t=e.data,t===cE&&dE?null:t;default:return null}}function j8(t,e){if(Uu)return t==="compositionend"||!e2&&Zk(t,e)?(t=Qk(),Jp=Qb=ga=null,Uu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jk&&e.locale!=="ko"?null:e.data;default:return null}}var $8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$8[t.type]:e==="textarea"}function tD(t,e,n,r){Rk(r),e=Om(e,"onChange"),0<e.length&&(n=new Jb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Th=null,Wh=null;function z8(t){hD(t,0)}function Yg(t){var e=zu(t);if(wk(e))return t}function H8(t,e){if(t==="change")return e}var nD=!1;if(Eo){var bv;if(Eo){var Tv="oninput"in document;if(!Tv){var fE=document.createElement("div");fE.setAttribute("oninput","return;"),Tv=typeof fE.oninput=="function"}bv=Tv}else bv=!1;nD=bv&&(!document.documentMode||9<document.documentMode)}function pE(){Th&&(Th.detachEvent("onpropertychange",rD),Wh=Th=null)}function rD(t){if(t.propertyName==="value"&&Yg(Wh)){var e=[];tD(e,Wh,t,Wb(t)),Mk(z8,e)}}function V8(t,e,n){t==="focusin"?(pE(),Th=e,Wh=n,Th.attachEvent("onpropertychange",rD)):t==="focusout"&&pE()}function q8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yg(Wh)}function W8(t,e){if(t==="click")return Yg(e)}function G8(t,e){if(t==="input"||t==="change")return Yg(e)}function K8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:K8;function Gh(t,e){if(ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!L_.call(e,i)||!ds(t[i],e[i]))return!1}return!0}function mE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gE(t,e){var n=mE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mE(n)}}function iD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sD(){for(var t=window,e=Cm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cm(t.document)}return e}function t2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X8(t){var e=sD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iD(n.ownerDocument.documentElement,n)){if(r!==null&&t2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gE(n,s);var o=gE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y8=Eo&&"documentMode"in document&&11>=document.documentMode,ju=null,Z_=null,xh=null,e1=!1;function yE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e1||ju==null||ju!==Cm(r)||(r=ju,"selectionStart"in r&&t2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xh&&Gh(xh,r)||(xh=r,r=Om(Z_,"onSelect"),0<r.length&&(e=new Jb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ju)))}function Ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $u={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},xv={},oD={};Eo&&(oD=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function Qg(t){if(xv[t])return xv[t];if(!$u[t])return t;var e=$u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oD)return xv[t]=e[n];return t}var aD=Qg("animationend"),lD=Qg("animationiteration"),uD=Qg("animationstart"),cD=Qg("transitionend"),dD=new Map,vE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(t,e){dD.set(t,e),ql(e,[t])}for(var Sv=0;Sv<vE.length;Sv++){var Ev=vE[Sv],Q8=Ev.toLowerCase(),J8=Ev[0].toUpperCase()+Ev.slice(1);Oa(Q8,"on"+J8)}Oa(aD,"onAnimationEnd");Oa(lD,"onAnimationIteration");Oa(uD,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(cD,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z8=new Set("cancel close invalid load scroll toggle".split(" ").concat(oh));function _E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QM(r,e,void 0,t),t.currentTarget=null}function hD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_E(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_E(i,a,u),s=l}}}if(Im)throw t=X_,Im=!1,X_=null,t}function zt(t,e){var n=e[s1];n===void 0&&(n=e[s1]=new Set);var r=t+"__bubble";n.has(r)||(fD(e,t,2,!1),n.add(r))}function wv(t,e,n){var r=0;e&&(r|=4),fD(n,t,r,e)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[wp]){t[wp]=!0,bk.forEach(function(n){n!=="selectionchange"&&(Z8.has(n)||wv(n,!1,t),wv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wp]||(e[wp]=!0,wv("selectionchange",!1,e))}}function fD(t,e,n,r){switch(Yk(e)){case 1:var i=f8;break;case 4:i=p8;break;default:i=Yb}n=i.bind(null,e,n,t),i=void 0,!K_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=dl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Mk(function(){var u=s,c=Wb(n),f=[];e:{var m=dD.get(t);if(m!==void 0){var x=Jb,_=t;switch(t){case"keypress":if(Zp(n)===0)break e;case"keydown":case"keyup":x=k8;break;case"focusin":_="focus",x=_v;break;case"focusout":_="blur",x=_v;break;case"beforeblur":case"afterblur":x=_v;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=aE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=y8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=R8;break;case aD:case lD:case uD:x=b8;break;case cD:x=L8;break;case"scroll":x=m8;break;case"wheel":x=M8;break;case"copy":case"cut":case"paste":x=x8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=uE}var g=(e&4)!==0,k=!g&&t==="scroll",E=g?m!==null?m+"Capture":null:m;g=[];for(var w=u,S;w!==null;){S=w;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,E!==null&&(O=zh(w,E),O!=null&&g.push(Xh(w,O,S)))),k)break;w=w.return}0<g.length&&(m=new x(m,_,null,n,c),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==W_&&(_=n.relatedTarget||n.fromElement)&&(dl(_)||_[wo]))break e;if((x||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,x?(_=n.relatedTarget||n.toElement,x=u,_=_?dl(_):null,_!==null&&(k=Wl(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(x=null,_=u),x!==_)){if(g=aE,O="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=uE,O="onPointerLeave",E="onPointerEnter",w="pointer"),k=x==null?m:zu(x),S=_==null?m:zu(_),m=new g(O,w+"leave",x,n,c),m.target=k,m.relatedTarget=S,O=null,dl(c)===u&&(g=new g(E,w+"enter",_,n,c),g.target=S,g.relatedTarget=k,O=g),k=O,x&&_)t:{for(g=x,E=_,w=0,S=g;S;S=bu(S))w++;for(S=0,O=E;O;O=bu(O))S++;for(;0<w-S;)g=bu(g),w--;for(;0<S-w;)E=bu(E),S--;for(;w--;){if(g===E||E!==null&&g===E.alternate)break t;g=bu(g),E=bu(E)}g=null}else g=null;x!==null&&bE(f,m,x,g,!1),_!==null&&k!==null&&bE(f,k,_,g,!0)}}e:{if(m=u?zu(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var L=H8;else if(hE(m))if(nD)L=G8;else{L=q8;var R=V8}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=W8);if(L&&(L=L(t,u))){tD(f,L,n,c);break e}R&&R(t,m,u),t==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&$_(m,"number",m.value)}switch(R=u?zu(u):window,t){case"focusin":(hE(R)||R.contentEditable==="true")&&(ju=R,Z_=u,xh=null);break;case"focusout":xh=Z_=ju=null;break;case"mousedown":e1=!0;break;case"contextmenu":case"mouseup":case"dragend":e1=!1,yE(f,n,c);break;case"selectionchange":if(Y8)break;case"keydown":case"keyup":yE(f,n,c)}var D;if(e2)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Uu?Zk(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Jk&&n.locale!=="ko"&&(Uu||P!=="onCompositionStart"?P==="onCompositionEnd"&&Uu&&(D=Qk()):(ga=c,Qb="value"in ga?ga.value:ga.textContent,Uu=!0)),R=Om(u,P),0<R.length&&(P=new lE(P,t,null,n,c),f.push({event:P,listeners:R}),D?P.data=D:(D=eD(n),D!==null&&(P.data=D)))),(D=B8?U8(t,n):j8(t,n))&&(u=Om(u,"onBeforeInput"),0<u.length&&(c=new lE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=D))}hD(f,e)})}function Xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Om(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zh(t,n),s!=null&&r.unshift(Xh(t,s,i)),s=zh(t,e),s!=null&&r.push(Xh(t,s,i))),t=t.return}return r}function bu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=zh(n,s),l!=null&&o.unshift(Xh(n,l,a))):i||(l=zh(n,s),l!=null&&o.push(Xh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var e6=/\r\n?/g,t6=/\u0000|\uFFFD/g;function TE(t){return(typeof t=="string"?t:""+t).replace(e6,`
`).replace(t6,"")}function Cp(t,e,n){if(e=TE(e),TE(t)!==e&&n)throw Error(he(425))}function Lm(){}var t1=null,n1=null;function r1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i1=typeof setTimeout=="function"?setTimeout:void 0,n6=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,r6=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(t){return xE.resolve(null).then(t).catch(i6)}:i1;function i6(t){setTimeout(function(){throw t})}function Av(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qh(e)}function Ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kc=Math.random().toString(36).slice(2),Os="__reactFiber$"+Kc,Yh="__reactProps$"+Kc,wo="__reactContainer$"+Kc,s1="__reactEvents$"+Kc,s6="__reactListeners$"+Kc,o6="__reactHandles$"+Kc;function dl(t){var e=t[Os];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wo]||n[Os]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SE(t);t!==null;){if(n=t[Os])return n;t=SE(t)}return e}t=n,n=t.parentNode}return null}function If(t){return t=t[Os]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Jg(t){return t[Yh]||null}var o1=[],Hu=-1;function La(t){return{current:t}}function Vt(t){0>Hu||(t.current=o1[Hu],o1[Hu]=null,Hu--)}function Ut(t,e){Hu++,o1[Hu]=t.current,t.current=e}var ka={},fr=La(ka),jr=La(!1),Dl=ka;function Tc(t,e){var n=t.type.contextTypes;if(!n)return ka;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $r(t){return t=t.childContextTypes,t!=null}function Nm(){Vt(jr),Vt(fr)}function EE(t,e,n){if(fr.current!==ka)throw Error(he(168));Ut(fr,e),Ut(jr,n)}function pD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,VM(t)||"Unknown",i));return on({},n,r)}function Mm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ka,Dl=fr.current,Ut(fr,t),Ut(jr,jr.current),!0}function wE(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=pD(t,e,Dl),r.__reactInternalMemoizedMergedChildContext=t,Vt(jr),Vt(fr),Ut(fr,t)):Vt(jr),Ut(jr,n)}var lo=null,Zg=!1,Iv=!1;function mD(t){lo===null?lo=[t]:lo.push(t)}function a6(t){Zg=!0,mD(t)}function Na(){if(!Iv&&lo!==null){Iv=!0;var t=0,e=At;try{var n=lo;for(At=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lo=null,Zg=!1}catch(i){throw lo!==null&&(lo=lo.slice(t+1)),jk(Gb,Na),i}finally{At=e,Iv=!1}}return null}var Vu=[],qu=0,Fm=null,Bm=0,Ci=[],Ai=0,Pl=null,fo=1,po="";function rl(t,e){Vu[qu++]=Bm,Vu[qu++]=Fm,Fm=t,Bm=e}function gD(t,e,n){Ci[Ai++]=fo,Ci[Ai++]=po,Ci[Ai++]=Pl,Pl=t;var r=fo;t=po;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var s=32-ss(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fo=1<<32-ss(e)+i|n<<i|r,po=s+t}else fo=1<<s|n<<i|r,po=t}function n2(t){t.return!==null&&(rl(t,1),gD(t,1,0))}function r2(t){for(;t===Fm;)Fm=Vu[--qu],Vu[qu]=null,Bm=Vu[--qu],Vu[qu]=null;for(;t===Pl;)Pl=Ci[--Ai],Ci[Ai]=null,po=Ci[--Ai],Ci[Ai]=null,fo=Ci[--Ai],Ci[Ai]=null}var di=null,ui=null,Kt=!1,rs=null;function yD(t,e){var n=ki(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,di=t,ui=Ta(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,di=t,ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pl!==null?{id:fo,overflow:po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ki(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,di=t,ui=null,!0):!1;default:return!1}}function a1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l1(t){if(Kt){var e=ui;if(e){var n=e;if(!CE(t,e)){if(a1(t))throw Error(he(418));e=Ta(n.nextSibling);var r=di;e&&CE(t,e)?yD(r,n):(t.flags=t.flags&-4097|2,Kt=!1,di=t)}}else{if(a1(t))throw Error(he(418));t.flags=t.flags&-4097|2,Kt=!1,di=t}}}function AE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;di=t}function Ap(t){if(t!==di)return!1;if(!Kt)return AE(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r1(t.type,t.memoizedProps)),e&&(e=ui)){if(a1(t))throw vD(),Error(he(418));for(;e;)yD(t,e),e=Ta(e.nextSibling)}if(AE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ui=Ta(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ui=null}}else ui=di?Ta(t.stateNode.nextSibling):null;return!0}function vD(){for(var t=ui;t;)t=Ta(t.nextSibling)}function xc(){ui=di=null,Kt=!1}function i2(t){rs===null?rs=[t]:rs.push(t)}var l6=Mo.ReactCurrentBatchConfig;function Fd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Ip(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function IE(t){var e=t._init;return e(t._payload)}function _D(t){function e(E,w){if(t){var S=E.deletions;S===null?(E.deletions=[w],E.flags|=16):S.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=wa(E,w),E.index=0,E.sibling=null,E}function s(E,w,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<w?(E.flags|=2,w):S):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,S,O){return w===null||w.tag!==6?(w=Nv(S,E.mode,O),w.return=E,w):(w=i(w,S),w.return=E,w)}function l(E,w,S,O){var L=S.type;return L===Bu?c(E,w,S.props.children,O,S.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===oa&&IE(L)===w.type)?(O=i(w,S.props),O.ref=Fd(E,w,S),O.return=E,O):(O=om(S.type,S.key,S.props,null,E.mode,O),O.ref=Fd(E,w,S),O.return=E,O)}function u(E,w,S,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Mv(S,E.mode,O),w.return=E,w):(w=i(w,S.children||[]),w.return=E,w)}function c(E,w,S,O,L){return w===null||w.tag!==7?(w=Sl(S,E.mode,O,L),w.return=E,w):(w=i(w,S),w.return=E,w)}function f(E,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Nv(""+w,E.mode,S),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yp:return S=om(w.type,w.key,w.props,null,E.mode,S),S.ref=Fd(E,null,w),S.return=E,S;case Fu:return w=Mv(w,E.mode,S),w.return=E,w;case oa:var O=w._init;return f(E,O(w._payload),S)}if(ih(w)||Rd(w))return w=Sl(w,E.mode,S,null),w.return=E,w;Ip(E,w)}return null}function m(E,w,S,O){var L=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:a(E,w,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yp:return S.key===L?l(E,w,S,O):null;case Fu:return S.key===L?u(E,w,S,O):null;case oa:return L=S._init,m(E,w,L(S._payload),O)}if(ih(S)||Rd(S))return L!==null?null:c(E,w,S,O,null);Ip(E,S)}return null}function x(E,w,S,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(S)||null,a(w,E,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case yp:return E=E.get(O.key===null?S:O.key)||null,l(w,E,O,L);case Fu:return E=E.get(O.key===null?S:O.key)||null,u(w,E,O,L);case oa:var R=O._init;return x(E,w,S,R(O._payload),L)}if(ih(O)||Rd(O))return E=E.get(S)||null,c(w,E,O,L,null);Ip(w,O)}return null}function _(E,w,S,O){for(var L=null,R=null,D=w,P=w=0,M=null;D!==null&&P<S.length;P++){D.index>P?(M=D,D=null):M=D.sibling;var B=m(E,D,S[P],O);if(B===null){D===null&&(D=M);break}t&&D&&B.alternate===null&&e(E,D),w=s(B,w,P),R===null?L=B:R.sibling=B,R=B,D=M}if(P===S.length)return n(E,D),Kt&&rl(E,P),L;if(D===null){for(;P<S.length;P++)D=f(E,S[P],O),D!==null&&(w=s(D,w,P),R===null?L=D:R.sibling=D,R=D);return Kt&&rl(E,P),L}for(D=r(E,D);P<S.length;P++)M=x(D,E,P,S[P],O),M!==null&&(t&&M.alternate!==null&&D.delete(M.key===null?P:M.key),w=s(M,w,P),R===null?L=M:R.sibling=M,R=M);return t&&D.forEach(function($){return e(E,$)}),Kt&&rl(E,P),L}function g(E,w,S,O){var L=Rd(S);if(typeof L!="function")throw Error(he(150));if(S=L.call(S),S==null)throw Error(he(151));for(var R=L=null,D=w,P=w=0,M=null,B=S.next();D!==null&&!B.done;P++,B=S.next()){D.index>P?(M=D,D=null):M=D.sibling;var $=m(E,D,B.value,O);if($===null){D===null&&(D=M);break}t&&D&&$.alternate===null&&e(E,D),w=s($,w,P),R===null?L=$:R.sibling=$,R=$,D=M}if(B.done)return n(E,D),Kt&&rl(E,P),L;if(D===null){for(;!B.done;P++,B=S.next())B=f(E,B.value,O),B!==null&&(w=s(B,w,P),R===null?L=B:R.sibling=B,R=B);return Kt&&rl(E,P),L}for(D=r(E,D);!B.done;P++,B=S.next())B=x(D,E,P,B.value,O),B!==null&&(t&&B.alternate!==null&&D.delete(B.key===null?P:B.key),w=s(B,w,P),R===null?L=B:R.sibling=B,R=B);return t&&D.forEach(function(V){return e(E,V)}),Kt&&rl(E,P),L}function k(E,w,S,O){if(typeof S=="object"&&S!==null&&S.type===Bu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case yp:e:{for(var L=S.key,R=w;R!==null;){if(R.key===L){if(L=S.type,L===Bu){if(R.tag===7){n(E,R.sibling),w=i(R,S.props.children),w.return=E,E=w;break e}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===oa&&IE(L)===R.type){n(E,R.sibling),w=i(R,S.props),w.ref=Fd(E,R,S),w.return=E,E=w;break e}n(E,R);break}else e(E,R);R=R.sibling}S.type===Bu?(w=Sl(S.props.children,E.mode,O,S.key),w.return=E,E=w):(O=om(S.type,S.key,S.props,null,E.mode,O),O.ref=Fd(E,w,S),O.return=E,E=O)}return o(E);case Fu:e:{for(R=S.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(E,w.sibling),w=i(w,S.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Mv(S,E.mode,O),w.return=E,E=w}return o(E);case oa:return R=S._init,k(E,w,R(S._payload),O)}if(ih(S))return _(E,w,S,O);if(Rd(S))return g(E,w,S,O);Ip(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,S),w.return=E,E=w):(n(E,w),w=Nv(S,E.mode,O),w.return=E,E=w),o(E)):n(E,w)}return k}var Sc=_D(!0),bD=_D(!1),Um=La(null),jm=null,Wu=null,s2=null;function o2(){s2=Wu=jm=null}function a2(t){var e=Um.current;Vt(Um),t._currentValue=e}function u1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ic(t,e){jm=t,s2=Wu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ur=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(s2!==t)if(t={context:t,memoizedValue:e,next:null},Wu===null){if(jm===null)throw Error(he(308));Wu=t,jm.dependencies={lanes:0,firstContext:t}}else Wu=Wu.next=t;return e}var hl=null;function l2(t){hl===null?hl=[t]:hl.push(t)}function TD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,l2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Co(t,r)}function Co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var aa=!1;function u2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Co(t,n)}return i=r.interleaved,i===null?(e.next=e,l2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Co(t,n)}function em(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kb(t,n)}}function kE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $m(t,e,n,r){var i=t.updateQueue;aa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,x=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(m=e,x=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(x,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,m=typeof _=="function"?_.call(x,f,m):_,m==null)break e;f=on({},f,m);break e;case 2:aa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else x={eventTime:x,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=x,l=f):c=c.next=x,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ol|=o,t.lanes=o,t.memoizedState=f}}function DE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var kf={},js=La(kf),Qh=La(kf),Jh=La(kf);function fl(t){if(t===kf)throw Error(he(174));return t}function c2(t,e){switch(Ut(Jh,e),Ut(Qh,t),Ut(js,kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=H_(e,t)}Vt(js),Ut(js,e)}function Ec(){Vt(js),Vt(Qh),Vt(Jh)}function SD(t){fl(Jh.current);var e=fl(js.current),n=H_(e,t.type);e!==n&&(Ut(Qh,t),Ut(js,n))}function d2(t){Qh.current===t&&(Vt(js),Vt(Qh))}var nn=La(0);function zm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kv=[];function h2(){for(var t=0;t<kv.length;t++)kv[t]._workInProgressVersionPrimary=null;kv.length=0}var tm=Mo.ReactCurrentDispatcher,Dv=Mo.ReactCurrentBatchConfig,Rl=0,sn=null,Nn=null,$n=null,Hm=!1,Sh=!1,Zh=0,u6=0;function ir(){throw Error(he(321))}function f2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ds(t[n],e[n]))return!1;return!0}function p2(t,e,n,r,i,s){if(Rl=s,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tm.current=t===null||t.memoizedState===null?f6:p6,t=n(r,i),Sh){s=0;do{if(Sh=!1,Zh=0,25<=s)throw Error(he(301));s+=1,$n=Nn=null,e.updateQueue=null,tm.current=m6,t=n(r,i)}while(Sh)}if(tm.current=Vm,e=Nn!==null&&Nn.next!==null,Rl=0,$n=Nn=sn=null,Hm=!1,e)throw Error(he(300));return t}function m2(){var t=Zh!==0;return Zh=0,t}function Is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?sn.memoizedState=$n=t:$n=$n.next=t,$n}function Fi(){if(Nn===null){var t=sn.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=$n===null?sn.memoizedState:$n.next;if(e!==null)$n=e,Nn=t;else{if(t===null)throw Error(he(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},$n===null?sn.memoizedState=$n=t:$n=$n.next=t}return $n}function ef(t,e){return typeof e=="function"?e(t):e}function Pv(t){var e=Fi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=Nn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Rl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,sn.lanes|=c,Ol|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ds(r,e.memoizedState)||(Ur=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,sn.lanes|=s,Ol|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rv(t){var e=Fi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ds(s,e.memoizedState)||(Ur=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ED(){}function wD(t,e){var n=sn,r=Fi(),i=e(),s=!ds(r.memoizedState,i);if(s&&(r.memoizedState=i,Ur=!0),r=r.queue,g2(ID.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$n!==null&&$n.memoizedState.tag&1){if(n.flags|=2048,tf(9,AD.bind(null,n,r,i,e),void 0,null),Vn===null)throw Error(he(349));Rl&30||CD(n,e,i)}return i}function CD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AD(t,e,n,r){e.value=n,e.getSnapshot=r,kD(e)&&DD(t)}function ID(t,e,n){return n(function(){kD(e)&&DD(t)})}function kD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ds(t,n)}catch{return!0}}function DD(t){var e=Co(t,1);e!==null&&os(e,t,1,-1)}function PE(t){var e=Is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:t},e.queue=t,t=t.dispatch=h6.bind(null,sn,t),[e.memoizedState,t]}function tf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PD(){return Fi().memoizedState}function nm(t,e,n,r){var i=Is();sn.flags|=t,i.memoizedState=tf(1|e,n,void 0,r===void 0?null:r)}function e0(t,e,n,r){var i=Fi();r=r===void 0?null:r;var s=void 0;if(Nn!==null){var o=Nn.memoizedState;if(s=o.destroy,r!==null&&f2(r,o.deps)){i.memoizedState=tf(e,n,s,r);return}}sn.flags|=t,i.memoizedState=tf(1|e,n,s,r)}function RE(t,e){return nm(8390656,8,t,e)}function g2(t,e){return e0(2048,8,t,e)}function RD(t,e){return e0(4,2,t,e)}function OD(t,e){return e0(4,4,t,e)}function LD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ND(t,e,n){return n=n!=null?n.concat([t]):null,e0(4,4,LD.bind(null,e,t),n)}function y2(){}function MD(t,e){var n=Fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FD(t,e){var n=Fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BD(t,e,n){return Rl&21?(ds(n,e)||(n=Hk(),sn.lanes|=n,Ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ur=!0),t.memoizedState=n)}function c6(t,e){var n=At;At=n!==0&&4>n?n:4,t(!0);var r=Dv.transition;Dv.transition={};try{t(!1),e()}finally{At=n,Dv.transition=r}}function UD(){return Fi().memoizedState}function d6(t,e,n){var r=Ea(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jD(t))$D(e,n);else if(n=TD(t,e,n,r),n!==null){var i=Ar();os(n,t,r,i),zD(n,e,r)}}function h6(t,e,n){var r=Ea(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jD(t))$D(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ds(a,o)){var l=e.interleaved;l===null?(i.next=i,l2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TD(t,e,i,r),n!==null&&(i=Ar(),os(n,t,r,i),zD(n,e,r))}}function jD(t){var e=t.alternate;return t===sn||e!==null&&e===sn}function $D(t,e){Sh=Hm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kb(t,n)}}var Vm={readContext:Mi,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},f6={readContext:Mi,useCallback:function(t,e){return Is().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:RE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nm(4194308,4,LD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nm(4194308,4,t,e)},useInsertionEffect:function(t,e){return nm(4,2,t,e)},useMemo:function(t,e){var n=Is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d6.bind(null,sn,t),[r.memoizedState,t]},useRef:function(t){var e=Is();return t={current:t},e.memoizedState=t},useState:PE,useDebugValue:y2,useDeferredValue:function(t){return Is().memoizedState=t},useTransition:function(){var t=PE(!1),e=t[0];return t=c6.bind(null,t[1]),Is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sn,i=Is();if(Kt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Vn===null)throw Error(he(349));Rl&30||CD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,RE(ID.bind(null,r,s,t),[t]),r.flags|=2048,tf(9,AD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Is(),e=Vn.identifierPrefix;if(Kt){var n=po,r=fo;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p6={readContext:Mi,useCallback:MD,useContext:Mi,useEffect:g2,useImperativeHandle:ND,useInsertionEffect:RD,useLayoutEffect:OD,useMemo:FD,useReducer:Pv,useRef:PD,useState:function(){return Pv(ef)},useDebugValue:y2,useDeferredValue:function(t){var e=Fi();return BD(e,Nn.memoizedState,t)},useTransition:function(){var t=Pv(ef)[0],e=Fi().memoizedState;return[t,e]},useMutableSource:ED,useSyncExternalStore:wD,useId:UD,unstable_isNewReconciler:!1},m6={readContext:Mi,useCallback:MD,useContext:Mi,useEffect:g2,useImperativeHandle:ND,useInsertionEffect:RD,useLayoutEffect:OD,useMemo:FD,useReducer:Rv,useRef:PD,useState:function(){return Rv(ef)},useDebugValue:y2,useDeferredValue:function(t){var e=Fi();return Nn===null?e.memoizedState=t:BD(e,Nn.memoizedState,t)},useTransition:function(){var t=Rv(ef)[0],e=Fi().memoizedState;return[t,e]},useMutableSource:ED,useSyncExternalStore:wD,useId:UD,unstable_isNewReconciler:!1};function es(t,e){if(t&&t.defaultProps){e=on({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function c1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:on({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t0={isMounted:function(t){return(t=t._reactInternals)?Wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ar(),i=Ea(t),s=vo(r,i);s.payload=e,n!=null&&(s.callback=n),e=xa(t,s,i),e!==null&&(os(e,t,i,r),em(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ar(),i=Ea(t),s=vo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xa(t,s,i),e!==null&&(os(e,t,i,r),em(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ar(),r=Ea(t),i=vo(n,r);i.tag=2,e!=null&&(i.callback=e),e=xa(t,i,r),e!==null&&(os(e,t,r,n),em(e,t,r))}};function OE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gh(n,r)||!Gh(i,s):!0}function HD(t,e,n){var r=!1,i=ka,s=e.contextType;return typeof s=="object"&&s!==null?s=Mi(s):(i=$r(e)?Dl:fr.current,r=e.contextTypes,s=(r=r!=null)?Tc(t,i):ka),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function LE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t0.enqueueReplaceState(e,e.state,null)}function d1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},u2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mi(s):(s=$r(e)?Dl:fr.current,i.context=Tc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(c1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t0.enqueueReplaceState(i,i.state,null),$m(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wc(t,e){try{var n="",r=e;do n+=HM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ov(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var g6=typeof WeakMap=="function"?WeakMap:Map;function VD(t,e,n){n=vo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wm||(Wm=!0,x1=r),h1(t,e)},n}function qD(t,e,n){n=vo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){h1(t,e),typeof r!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function NE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new g6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=D6.bind(null,t,e,n),e.then(t,t))}function ME(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vo(-1,1),e.tag=2,xa(n,e,1))),n.lanes|=1),t)}var y6=Mo.ReactCurrentOwner,Ur=!1;function Sr(t,e,n,r){e.child=t===null?bD(e,null,n,r):Sc(e,t.child,n,r)}function BE(t,e,n,r,i){n=n.render;var s=e.ref;return ic(e,i),r=p2(t,e,n,r,s,i),n=m2(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ao(t,e,i)):(Kt&&n&&n2(e),e.flags|=1,Sr(t,e,r,i),e.child)}function UE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!w2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,WD(t,e,s,r,i)):(t=om(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gh,n(o,r)&&t.ref===e.ref)return Ao(t,e,i)}return e.flags|=1,t=wa(s,r),t.ref=e.ref,t.return=e,e.child=t}function WD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gh(s,r)&&t.ref===e.ref)if(Ur=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ur=!0);else return e.lanes=t.lanes,Ao(t,e,i)}return f1(t,e,n,r,i)}function GD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ku,si),si|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Ku,si),si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ut(Ku,si),si|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ut(Ku,si),si|=r;return Sr(t,e,i,n),e.child}function KD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f1(t,e,n,r,i){var s=$r(n)?Dl:fr.current;return s=Tc(e,s),ic(e,i),n=p2(t,e,n,r,s,i),r=m2(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ao(t,e,i)):(Kt&&r&&n2(e),e.flags|=1,Sr(t,e,n,i),e.child)}function jE(t,e,n,r,i){if($r(n)){var s=!0;Mm(e)}else s=!1;if(ic(e,i),e.stateNode===null)rm(t,e),HD(e,n,r),d1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mi(u):(u=$r(n)?Dl:fr.current,u=Tc(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&LE(e,o,r,u),aa=!1;var m=e.memoizedState;o.state=m,$m(e,r,o,i),l=e.memoizedState,a!==r||m!==l||jr.current||aa?(typeof c=="function"&&(c1(e,n,c,r),l=e.memoizedState),(a=aa||OE(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:es(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mi(l):(l=$r(n)?Dl:fr.current,l=Tc(e,l));var x=n.getDerivedStateFromProps;(c=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&LE(e,o,r,l),aa=!1,m=e.memoizedState,o.state=m,$m(e,r,o,i);var _=e.memoizedState;a!==f||m!==_||jr.current||aa?(typeof x=="function"&&(c1(e,n,x,r),_=e.memoizedState),(u=aa||OE(e,n,u,r,m,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return p1(t,e,n,r,s,i)}function p1(t,e,n,r,i,s){KD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wE(e,n,!1),Ao(t,e,s);r=e.stateNode,y6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Sc(e,t.child,null,s),e.child=Sc(e,null,a,s)):Sr(t,e,a,s),e.memoizedState=r.state,i&&wE(e,n,!0),e.child}function XD(t){var e=t.stateNode;e.pendingContext?EE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EE(t,e.context,!1),c2(t,e.containerInfo)}function $E(t,e,n,r,i){return xc(),i2(i),e.flags|=256,Sr(t,e,n,r),e.child}var m1={dehydrated:null,treeContext:null,retryLane:0};function g1(t){return{baseLanes:t,cachePool:null,transitions:null}}function YD(t,e,n){var r=e.pendingProps,i=nn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ut(nn,i&1),t===null)return l1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=i0(o,r,0,null),t=Sl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=g1(n),e.memoizedState=m1,t):v2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return v6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wa(a,s):(s=Sl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?g1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=m1,r}return s=t.child,t=s.sibling,r=wa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function v2(t,e){return e=i0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kp(t,e,n,r){return r!==null&&i2(r),Sc(e,t.child,null,n),t=v2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ov(Error(he(422))),kp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=i0({mode:"visible",children:r.children},i,0,null),s=Sl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Sc(e,t.child,null,o),e.child.memoizedState=g1(o),e.memoizedState=m1,s);if(!(e.mode&1))return kp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(he(419)),r=Ov(s,r,void 0),kp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ur||a){if(r=Vn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Co(t,i),os(r,t,i,-1))}return E2(),r=Ov(Error(he(421))),kp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=P6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ui=Ta(i.nextSibling),di=e,Kt=!0,rs=null,t!==null&&(Ci[Ai++]=fo,Ci[Ai++]=po,Ci[Ai++]=Pl,fo=t.id,po=t.overflow,Pl=e),e=v2(e,r.children),e.flags|=4096,e)}function zE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),u1(t.return,e,n)}function Lv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function QD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Sr(t,e,r.children,n),r=nn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zE(t,n,e);else if(t.tag===19)zE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ut(nn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lv(e,!0,n,null,s);break;case"together":Lv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ao(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=wa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _6(t,e,n){switch(e.tag){case 3:XD(e),xc();break;case 5:SD(e);break;case 1:$r(e.type)&&Mm(e);break;case 4:c2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ut(Um,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ut(nn,nn.current&1),e.flags|=128,null):n&e.child.childLanes?YD(t,e,n):(Ut(nn,nn.current&1),t=Ao(t,e,n),t!==null?t.sibling:null);Ut(nn,nn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(nn,nn.current),r)break;return null;case 22:case 23:return e.lanes=0,GD(t,e,n)}return Ao(t,e,n)}var JD,y1,ZD,eP;JD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y1=function(){};ZD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fl(js.current);var s=null;switch(n){case"input":i=U_(t,i),r=U_(t,r),s=[];break;case"select":i=on({},i,{value:void 0}),r=on({},r,{value:void 0}),s=[];break;case"textarea":i=z_(t,i),r=z_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lm)}V_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&zt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bd(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b6(t,e,n){var r=e.pendingProps;switch(r2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(e),null;case 1:return $r(e.type)&&Nm(),sr(e),null;case 3:return r=e.stateNode,Ec(),Vt(jr),Vt(fr),h2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ap(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rs!==null&&(w1(rs),rs=null))),y1(t,e),sr(e),null;case 5:d2(e);var i=fl(Jh.current);if(n=e.type,t!==null&&e.stateNode!=null)ZD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return sr(e),null}if(t=fl(js.current),Ap(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Os]=e,r[Yh]=s,t=(e.mode&1)!==0,n){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(i=0;i<oh.length;i++)zt(oh[i],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":QS(r,s),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zt("invalid",r);break;case"textarea":ZS(r,s),zt("invalid",r)}V_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cp(r.textContent,a,t),i=["children",""+a]):jh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&zt("scroll",r)}switch(n){case"input":vp(r),JS(r,s,!0);break;case"textarea":vp(r),eE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ik(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Os]=e,t[Yh]=r,JD(t,e,!1,!1),e.stateNode=t;e:{switch(o=q_(n,r),n){case"dialog":zt("cancel",t),zt("close",t),i=r;break;case"iframe":case"object":case"embed":zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<oh.length;i++)zt(oh[i],t);i=r;break;case"source":zt("error",t),i=r;break;case"img":case"image":case"link":zt("error",t),zt("load",t),i=r;break;case"details":zt("toggle",t),i=r;break;case"input":QS(t,r),i=U_(t,r),zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=on({},r,{value:void 0}),zt("invalid",t);break;case"textarea":ZS(t,r),i=z_(t,r),zt("invalid",t);break;default:i=r}V_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Pk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$h(t,l):typeof l=="number"&&$h(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&zt("scroll",t):l!=null&&zb(t,s,l,o))}switch(n){case"input":vp(t),JS(t,r,!1);break;case"textarea":vp(t),eE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ia(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ec(t,!!r.multiple,s,!1):r.defaultValue!=null&&ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sr(e),null;case 6:if(t&&e.stateNode!=null)eP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=fl(Jh.current),fl(js.current),Ap(e)){if(r=e.stateNode,n=e.memoizedProps,r[Os]=e,(s=r.nodeValue!==n)&&(t=di,t!==null))switch(t.tag){case 3:Cp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Os]=e,e.stateNode=r}return sr(e),null;case 13:if(Vt(nn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&ui!==null&&e.mode&1&&!(e.flags&128))vD(),xc(),e.flags|=98560,s=!1;else if(s=Ap(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[Os]=e}else xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sr(e),s=!1}else rs!==null&&(w1(rs),rs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nn.current&1?Mn===0&&(Mn=3):E2())),e.updateQueue!==null&&(e.flags|=4),sr(e),null);case 4:return Ec(),y1(t,e),t===null&&Kh(e.stateNode.containerInfo),sr(e),null;case 10:return a2(e.type._context),sr(e),null;case 17:return $r(e.type)&&Nm(),sr(e),null;case 19:if(Vt(nn),s=e.memoizedState,s===null)return sr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bd(s,!1);else{if(Mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zm(t),o!==null){for(e.flags|=128,Bd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(nn,nn.current&1|2),e.child}t=t.sibling}s.tail!==null&&xn()>Cc&&(e.flags|=128,r=!0,Bd(s,!1),e.lanes=4194304)}else{if(!r)if(t=zm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Kt)return sr(e),null}else 2*xn()-s.renderingStartTime>Cc&&n!==1073741824&&(e.flags|=128,r=!0,Bd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xn(),e.sibling=null,n=nn.current,Ut(nn,r?n&1|2:n&1),e):(sr(e),null);case 22:case 23:return S2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?si&1073741824&&(sr(e),e.subtreeFlags&6&&(e.flags|=8192)):sr(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function T6(t,e){switch(r2(e),e.tag){case 1:return $r(e.type)&&Nm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ec(),Vt(jr),Vt(fr),h2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d2(e),null;case 13:if(Vt(nn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(nn),null;case 4:return Ec(),null;case 10:return a2(e.type._context),null;case 22:case 23:return S2(),null;case 24:return null;default:return null}}var Dp=!1,lr=!1,x6=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Gu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fn(t,e,r)}else n.current=null}function v1(t,e,n){try{n()}catch(r){fn(t,e,r)}}var HE=!1;function S6(t,e){if(t1=Pm,t=sD(),t2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,m=null;t:for(;;){for(var x;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n1={focusedElem:t,selectionRange:n},Pm=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,k=_.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:es(e.type,g),k);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(O){fn(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return _=HE,HE=!1,_}function Eh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&v1(e,n,s)}i=i.next}while(i!==r)}}function n0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tP(t){var e=t.alternate;e!==null&&(t.alternate=null,tP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Os],delete e[Yh],delete e[s1],delete e[s6],delete e[o6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nP(t){return t.tag===5||t.tag===3||t.tag===4}function VE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function b1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lm));else if(r!==4&&(t=t.child,t!==null))for(b1(t,e,n),t=t.sibling;t!==null;)b1(t,e,n),t=t.sibling}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}var Kn=null,ts=!1;function Xo(t,e,n){for(n=n.child;n!==null;)rP(t,e,n),n=n.sibling}function rP(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(Kg,n)}catch{}switch(n.tag){case 5:lr||Gu(n,e);case 6:var r=Kn,i=ts;Kn=null,Xo(t,e,n),Kn=r,ts=i,Kn!==null&&(ts?(t=Kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kn.removeChild(n.stateNode));break;case 18:Kn!==null&&(ts?(t=Kn,n=n.stateNode,t.nodeType===8?Av(t.parentNode,n):t.nodeType===1&&Av(t,n),qh(t)):Av(Kn,n.stateNode));break;case 4:r=Kn,i=ts,Kn=n.stateNode.containerInfo,ts=!0,Xo(t,e,n),Kn=r,ts=i;break;case 0:case 11:case 14:case 15:if(!lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&v1(n,e,o),i=i.next}while(i!==r)}Xo(t,e,n);break;case 1:if(!lr&&(Gu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fn(n,e,a)}Xo(t,e,n);break;case 21:Xo(t,e,n);break;case 22:n.mode&1?(lr=(r=lr)||n.memoizedState!==null,Xo(t,e,n),lr=r):Xo(t,e,n);break;default:Xo(t,e,n)}}function qE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x6),e.forEach(function(r){var i=R6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kn=a.stateNode,ts=!1;break e;case 3:Kn=a.stateNode.containerInfo,ts=!0;break e;case 4:Kn=a.stateNode.containerInfo,ts=!0;break e}a=a.return}if(Kn===null)throw Error(he(160));rP(s,o,i),Kn=null,ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iP(e,t),e=e.sibling}function iP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zi(e,t),Cs(t),r&4){try{Eh(3,t,t.return),n0(3,t)}catch(g){fn(t,t.return,g)}try{Eh(5,t,t.return)}catch(g){fn(t,t.return,g)}}break;case 1:Zi(e,t),Cs(t),r&512&&n!==null&&Gu(n,n.return);break;case 5:if(Zi(e,t),Cs(t),r&512&&n!==null&&Gu(n,n.return),t.flags&32){var i=t.stateNode;try{$h(i,"")}catch(g){fn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ck(i,s),q_(a,o);var u=q_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Pk(i,f):c==="dangerouslySetInnerHTML"?kk(i,f):c==="children"?$h(i,f):zb(i,c,f,u)}switch(a){case"input":j_(i,s);break;case"textarea":Ak(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?ec(i,!!s.multiple,x,!1):m!==!!s.multiple&&(s.defaultValue!=null?ec(i,!!s.multiple,s.defaultValue,!0):ec(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yh]=s}catch(g){fn(t,t.return,g)}}break;case 6:if(Zi(e,t),Cs(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){fn(t,t.return,g)}}break;case 3:if(Zi(e,t),Cs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qh(e.containerInfo)}catch(g){fn(t,t.return,g)}break;case 4:Zi(e,t),Cs(t);break;case 13:Zi(e,t),Cs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(T2=xn())),r&4&&qE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(lr=(u=lr)||c,Zi(e,t),lr=u):Zi(e,t),Cs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(xe=t,c=t.child;c!==null;){for(f=xe=c;xe!==null;){switch(m=xe,x=m.child,m.tag){case 0:case 11:case 14:case 15:Eh(4,m,m.return);break;case 1:Gu(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){fn(r,n,g)}}break;case 5:Gu(m,m.return);break;case 22:if(m.memoizedState!==null){GE(f);continue}}x!==null?(x.return=m,xe=x):GE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dk("display",o))}catch(g){fn(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){fn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zi(e,t),Cs(t),r&4&&qE(t);break;case 21:break;default:Zi(e,t),Cs(t)}}function Cs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nP(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($h(i,""),r.flags&=-33);var s=VE(t);T1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=VE(t);b1(t,a,o);break;default:throw Error(he(161))}}catch(l){fn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E6(t,e,n){xe=t,sP(t)}function sP(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lr;a=Dp;var u=lr;if(Dp=o,(lr=l)&&!u)for(xe=i;xe!==null;)o=xe,l=o.child,o.tag===22&&o.memoizedState!==null?KE(i):l!==null?(l.return=o,xe=l):KE(i);for(;s!==null;)xe=s,sP(s),s=s.sibling;xe=i,Dp=a,lr=u}WE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):WE(t)}}function WE(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lr||n0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:es(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&DE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}DE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&qh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}lr||e.flags&512&&_1(e)}catch(m){fn(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function GE(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function KE(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{n0(4,e)}catch(l){fn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fn(e,i,l)}}var s=e.return;try{_1(e)}catch(l){fn(e,s,l)}break;case 5:var o=e.return;try{_1(e)}catch(l){fn(e,o,l)}}}catch(l){fn(e,e.return,l)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var w6=Math.ceil,qm=Mo.ReactCurrentDispatcher,_2=Mo.ReactCurrentOwner,Pi=Mo.ReactCurrentBatchConfig,mt=0,Vn=null,Pn=null,Zn=0,si=0,Ku=La(0),Mn=0,nf=null,Ol=0,r0=0,b2=0,wh=null,Nr=null,T2=0,Cc=1/0,ao=null,Wm=!1,x1=null,Sa=null,Pp=!1,ya=null,Gm=0,Ch=0,S1=null,im=-1,sm=0;function Ar(){return mt&6?xn():im!==-1?im:im=xn()}function Ea(t){return t.mode&1?mt&2&&Zn!==0?Zn&-Zn:l6.transition!==null?(sm===0&&(sm=Hk()),sm):(t=At,t!==0||(t=window.event,t=t===void 0?16:Yk(t.type)),t):1}function os(t,e,n,r){if(50<Ch)throw Ch=0,S1=null,Error(he(185));Cf(t,n,r),(!(mt&2)||t!==Vn)&&(t===Vn&&(!(mt&2)&&(r0|=n),Mn===4&&da(t,Zn)),zr(t,r),n===1&&mt===0&&!(e.mode&1)&&(Cc=xn()+500,Zg&&Na()))}function zr(t,e){var n=t.callbackNode;l8(t,e);var r=Dm(t,t===Vn?Zn:0);if(r===0)n!==null&&rE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rE(n),e===1)t.tag===0?a6(XE.bind(null,t)):mD(XE.bind(null,t)),r6(function(){!(mt&6)&&Na()}),n=null;else{switch(Vk(r)){case 1:n=Gb;break;case 4:n=$k;break;case 16:n=km;break;case 536870912:n=zk;break;default:n=km}n=fP(n,oP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oP(t,e){if(im=-1,sm=0,mt&6)throw Error(he(327));var n=t.callbackNode;if(sc()&&t.callbackNode!==n)return null;var r=Dm(t,t===Vn?Zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Km(t,r);else{e=r;var i=mt;mt|=2;var s=lP();(Vn!==t||Zn!==e)&&(ao=null,Cc=xn()+500,xl(t,e));do try{I6();break}catch(a){aP(t,a)}while(!0);o2(),qm.current=s,mt=i,Pn!==null?e=0:(Vn=null,Zn=0,e=Mn)}if(e!==0){if(e===2&&(i=Y_(t),i!==0&&(r=i,e=E1(t,i))),e===1)throw n=nf,xl(t,0),da(t,r),zr(t,xn()),n;if(e===6)da(t,r);else{if(i=t.current.alternate,!(r&30)&&!C6(i)&&(e=Km(t,r),e===2&&(s=Y_(t),s!==0&&(r=s,e=E1(t,s))),e===1))throw n=nf,xl(t,0),da(t,r),zr(t,xn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:il(t,Nr,ao);break;case 3:if(da(t,r),(r&130023424)===r&&(e=T2+500-xn(),10<e)){if(Dm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ar(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i1(il.bind(null,t,Nr,ao),e);break}il(t,Nr,ao);break;case 4:if(da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ss(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w6(r/1960))-r,10<r){t.timeoutHandle=i1(il.bind(null,t,Nr,ao),r);break}il(t,Nr,ao);break;case 5:il(t,Nr,ao);break;default:throw Error(he(329))}}}return zr(t,xn()),t.callbackNode===n?oP.bind(null,t):null}function E1(t,e){var n=wh;return t.current.memoizedState.isDehydrated&&(xl(t,e).flags|=256),t=Km(t,e),t!==2&&(e=Nr,Nr=n,e!==null&&w1(e)),t}function w1(t){Nr===null?Nr=t:Nr.push.apply(Nr,t)}function C6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ds(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function da(t,e){for(e&=~b2,e&=~r0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function XE(t){if(mt&6)throw Error(he(327));sc();var e=Dm(t,0);if(!(e&1))return zr(t,xn()),null;var n=Km(t,e);if(t.tag!==0&&n===2){var r=Y_(t);r!==0&&(e=r,n=E1(t,r))}if(n===1)throw n=nf,xl(t,0),da(t,e),zr(t,xn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,il(t,Nr,ao),zr(t,xn()),null}function x2(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&(Cc=xn()+500,Zg&&Na())}}function Ll(t){ya!==null&&ya.tag===0&&!(mt&6)&&sc();var e=mt;mt|=1;var n=Pi.transition,r=At;try{if(Pi.transition=null,At=1,t)return t()}finally{At=r,Pi.transition=n,mt=e,!(mt&6)&&Na()}}function S2(){si=Ku.current,Vt(Ku)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,n6(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(r2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nm();break;case 3:Ec(),Vt(jr),Vt(fr),h2();break;case 5:d2(r);break;case 4:Ec();break;case 13:Vt(nn);break;case 19:Vt(nn);break;case 10:a2(r.type._context);break;case 22:case 23:S2()}n=n.return}if(Vn=t,Pn=t=wa(t.current,null),Zn=si=e,Mn=0,nf=null,b2=r0=Ol=0,Nr=wh=null,hl!==null){for(e=0;e<hl.length;e++)if(n=hl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hl=null}return t}function aP(t,e){do{var n=Pn;try{if(o2(),tm.current=Vm,Hm){for(var r=sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hm=!1}if(Rl=0,$n=Nn=sn=null,Sh=!1,Zh=0,_2.current=null,n===null||n.return===null){Mn=1,nf=e,Pn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=ME(o);if(x!==null){x.flags&=-257,FE(x,o,a,s,e),x.mode&1&&NE(s,u,e),e=x,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){NE(s,u,e),E2();break e}l=Error(he(426))}}else if(Kt&&a.mode&1){var k=ME(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),FE(k,o,a,s,e),i2(wc(l,a));break e}}s=l=wc(l,a),Mn!==4&&(Mn=2),wh===null?wh=[s]:wh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=VD(s,l,e);kE(s,E);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Sa===null||!Sa.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=qD(s,a,e);kE(s,O);break e}}s=s.return}while(s!==null)}cP(n)}catch(L){e=L,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function lP(){var t=qm.current;return qm.current=Vm,t===null?Vm:t}function E2(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Vn===null||!(Ol&268435455)&&!(r0&268435455)||da(Vn,Zn)}function Km(t,e){var n=mt;mt|=2;var r=lP();(Vn!==t||Zn!==e)&&(ao=null,xl(t,e));do try{A6();break}catch(i){aP(t,i)}while(!0);if(o2(),mt=n,qm.current=r,Pn!==null)throw Error(he(261));return Vn=null,Zn=0,Mn}function A6(){for(;Pn!==null;)uP(Pn)}function I6(){for(;Pn!==null&&!ZM();)uP(Pn)}function uP(t){var e=hP(t.alternate,t,si);t.memoizedProps=t.pendingProps,e===null?cP(t):Pn=e,_2.current=null}function cP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T6(n,e),n!==null){n.flags&=32767,Pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mn=6,Pn=null;return}}else if(n=b6(n,e,si),n!==null){Pn=n;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=t}while(e!==null);Mn===0&&(Mn=5)}function il(t,e,n){var r=At,i=Pi.transition;try{Pi.transition=null,At=1,k6(t,e,n,r)}finally{Pi.transition=i,At=r}return null}function k6(t,e,n,r){do sc();while(ya!==null);if(mt&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(u8(t,s),t===Vn&&(Pn=Vn=null,Zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pp||(Pp=!0,fP(km,function(){return sc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pi.transition,Pi.transition=null;var o=At;At=1;var a=mt;mt|=4,_2.current=null,S6(t,n),iP(n,t),X8(n1),Pm=!!t1,n1=t1=null,t.current=n,E6(n),e8(),mt=a,At=o,Pi.transition=s}else t.current=n;if(Pp&&(Pp=!1,ya=t,Gm=i),s=t.pendingLanes,s===0&&(Sa=null),r8(n.stateNode),zr(t,xn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wm)throw Wm=!1,t=x1,x1=null,t;return Gm&1&&t.tag!==0&&sc(),s=t.pendingLanes,s&1?t===S1?Ch++:(Ch=0,S1=t):Ch=0,Na(),null}function sc(){if(ya!==null){var t=Vk(Gm),e=Pi.transition,n=At;try{if(Pi.transition=null,At=16>t?16:t,ya===null)var r=!1;else{if(t=ya,ya=null,Gm=0,mt&6)throw Error(he(331));var i=mt;for(mt|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(xe=u;xe!==null;){var c=xe;switch(c.tag){case 0:case 11:case 15:Eh(8,c,s)}var f=c.child;if(f!==null)f.return=c,xe=f;else for(;xe!==null;){c=xe;var m=c.sibling,x=c.return;if(tP(c),c===u){xe=null;break}if(m!==null){m.return=x,xe=m;break}xe=x}}}var _=s.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eh(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,xe=E;break e}xe=s.return}}var w=t.current;for(xe=w;xe!==null;){o=xe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,xe=S;else e:for(o=w;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:n0(9,a)}}catch(L){fn(a,a.return,L)}if(a===o){xe=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,xe=O;break e}xe=a.return}}if(mt=i,Na(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(Kg,t)}catch{}r=!0}return r}finally{At=n,Pi.transition=e}}return!1}function YE(t,e,n){e=wc(n,e),e=VD(t,e,1),t=xa(t,e,1),e=Ar(),t!==null&&(Cf(t,1,e),zr(t,e))}function fn(t,e,n){if(t.tag===3)YE(t,t,n);else for(;e!==null;){if(e.tag===3){YE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))){t=wc(n,t),t=qD(e,t,1),e=xa(e,t,1),t=Ar(),e!==null&&(Cf(e,1,t),zr(e,t));break}}e=e.return}}function D6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ar(),t.pingedLanes|=t.suspendedLanes&n,Vn===t&&(Zn&n)===n&&(Mn===4||Mn===3&&(Zn&130023424)===Zn&&500>xn()-T2?xl(t,0):b2|=n),zr(t,e)}function dP(t,e){e===0&&(t.mode&1?(e=Tp,Tp<<=1,!(Tp&130023424)&&(Tp=4194304)):e=1);var n=Ar();t=Co(t,e),t!==null&&(Cf(t,e,n),zr(t,n))}function P6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dP(t,n)}function R6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),dP(t,n)}var hP;hP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jr.current)Ur=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ur=!1,_6(t,e,n);Ur=!!(t.flags&131072)}else Ur=!1,Kt&&e.flags&1048576&&gD(e,Bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rm(t,e),t=e.pendingProps;var i=Tc(e,fr.current);ic(e,n),i=p2(null,e,r,t,i,n);var s=m2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$r(r)?(s=!0,Mm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u2(e),i.updater=t0,e.stateNode=i,i._reactInternals=e,d1(e,r,t,n),e=p1(null,e,r,!0,s,n)):(e.tag=0,Kt&&s&&n2(e),Sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=L6(r),t=es(r,t),i){case 0:e=f1(null,e,r,t,n);break e;case 1:e=jE(null,e,r,t,n);break e;case 11:e=BE(null,e,r,t,n);break e;case 14:e=UE(null,e,r,es(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),f1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),jE(t,e,r,i,n);case 3:e:{if(XD(e),t===null)throw Error(he(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xD(t,e),$m(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wc(Error(he(423)),e),e=$E(t,e,r,n,i);break e}else if(r!==i){i=wc(Error(he(424)),e),e=$E(t,e,r,n,i);break e}else for(ui=Ta(e.stateNode.containerInfo.firstChild),di=e,Kt=!0,rs=null,n=bD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xc(),r===i){e=Ao(t,e,n);break e}Sr(t,e,r,n)}e=e.child}return e;case 5:return SD(e),t===null&&l1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,r1(r,i)?o=null:s!==null&&r1(r,s)&&(e.flags|=32),KD(t,e),Sr(t,e,o,n),e.child;case 6:return t===null&&l1(e),null;case 13:return YD(t,e,n);case 4:return c2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sc(e,null,r,n):Sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),BE(t,e,r,i,n);case 7:return Sr(t,e,e.pendingProps,n),e.child;case 8:return Sr(t,e,e.pendingProps.children,n),e.child;case 12:return Sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ut(Um,r._currentValue),r._currentValue=o,s!==null)if(ds(s.value,o)){if(s.children===i.children&&!jr.current){e=Ao(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),u1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),u1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ic(e,n),i=Mi(i),r=r(i),e.flags|=1,Sr(t,e,r,n),e.child;case 14:return r=e.type,i=es(r,e.pendingProps),i=es(r.type,i),UE(t,e,r,i,n);case 15:return WD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),rm(t,e),e.tag=1,$r(r)?(t=!0,Mm(e)):t=!1,ic(e,n),HD(e,r,i),d1(e,r,i,n),p1(null,e,r,!0,t,n);case 19:return QD(t,e,n);case 22:return GD(t,e,n)}throw Error(he(156,e.tag))};function fP(t,e){return jk(t,e)}function O6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(t,e,n,r){return new O6(t,e,n,r)}function w2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L6(t){if(typeof t=="function")return w2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vb)return 11;if(t===qb)return 14}return 2}function wa(t,e){var n=t.alternate;return n===null?(n=ki(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function om(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")w2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bu:return Sl(n.children,i,s,e);case Hb:o=8,i|=8;break;case N_:return t=ki(12,n,e,i|2),t.elementType=N_,t.lanes=s,t;case M_:return t=ki(13,n,e,i),t.elementType=M_,t.lanes=s,t;case F_:return t=ki(19,n,e,i),t.elementType=F_,t.lanes=s,t;case Sk:return i0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tk:o=10;break e;case xk:o=9;break e;case Vb:o=11;break e;case qb:o=14;break e;case oa:o=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ki(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Sl(t,e,n,r){return t=ki(7,t,r,e),t.lanes=n,t}function i0(t,e,n,r){return t=ki(22,t,r,e),t.elementType=Sk,t.lanes=n,t.stateNode={isHidden:!1},t}function Nv(t,e,n){return t=ki(6,t,null,e),t.lanes=n,t}function Mv(t,e,n){return e=ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gv(0),this.expirationTimes=gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C2(t,e,n,r,i,s,o,a,l){return t=new N6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ki(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},u2(s),t}function M6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pP(t){if(!t)return ka;t=t._reactInternals;e:{if(Wl(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if($r(n))return pD(t,n,e)}return e}function mP(t,e,n,r,i,s,o,a,l){return t=C2(n,r,!0,t,i,s,o,a,l),t.context=pP(null),n=t.current,r=Ar(),i=Ea(n),s=vo(r,i),s.callback=e??null,xa(n,s,i),t.current.lanes=i,Cf(t,i,r),zr(t,r),t}function s0(t,e,n,r){var i=e.current,s=Ar(),o=Ea(i);return n=pP(n),e.context===null?e.context=n:e.pendingContext=n,e=vo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xa(i,e,o),t!==null&&(os(t,i,o,s),em(t,i,o)),o}function Xm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function QE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A2(t,e){QE(t,e),(t=t.alternate)&&QE(t,e)}function F6(){return null}var gP=typeof reportError=="function"?reportError:function(t){console.error(t)};function I2(t){this._internalRoot=t}o0.prototype.render=I2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));s0(t,e,null,null)};o0.prototype.unmount=I2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ll(function(){s0(null,t,null,null)}),e[wo]=null}};function o0(t){this._internalRoot=t}o0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ca.length&&e!==0&&e<ca[n].priority;n++);ca.splice(n,0,t),n===0&&Xk(t)}};function k2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JE(){}function B6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xm(o);s.call(u)}}var o=mP(e,r,t,0,null,!1,!1,"",JE);return t._reactRootContainer=o,t[wo]=o.current,Kh(t.nodeType===8?t.parentNode:t),Ll(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xm(l);a.call(u)}}var l=C2(t,0,!1,null,null,!1,!1,"",JE);return t._reactRootContainer=l,t[wo]=l.current,Kh(t.nodeType===8?t.parentNode:t),Ll(function(){s0(e,l,n,r)}),l}function l0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xm(o);a.call(l)}}s0(e,o,t,i)}else o=B6(n,e,t,i,r);return Xm(o)}qk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sh(e.pendingLanes);n!==0&&(Kb(e,n|1),zr(e,xn()),!(mt&6)&&(Cc=xn()+500,Na()))}break;case 13:Ll(function(){var r=Co(t,1);if(r!==null){var i=Ar();os(r,t,1,i)}}),A2(t,1)}};Xb=function(t){if(t.tag===13){var e=Co(t,134217728);if(e!==null){var n=Ar();os(e,t,134217728,n)}A2(t,134217728)}};Wk=function(t){if(t.tag===13){var e=Ea(t),n=Co(t,e);if(n!==null){var r=Ar();os(n,t,e,r)}A2(t,e)}};Gk=function(){return At};Kk=function(t,e){var n=At;try{return At=t,e()}finally{At=n}};G_=function(t,e,n){switch(e){case"input":if(j_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jg(r);if(!i)throw Error(he(90));wk(r),j_(r,i)}}}break;case"textarea":Ak(t,n);break;case"select":e=n.value,e!=null&&ec(t,!!n.multiple,e,!1)}};Lk=x2;Nk=Ll;var U6={usingClientEntryPoint:!1,Events:[If,zu,Jg,Rk,Ok,x2]},Ud={findFiberByHostInstance:dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j6={bundleType:Ud.bundleType,version:Ud.version,rendererPackageName:Ud.rendererPackageName,rendererConfig:Ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bk(t),t===null?null:t.stateNode},findFiberByHostInstance:Ud.findFiberByHostInstance||F6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{Kg=Rp.inject(j6),Us=Rp}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U6;vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k2(e))throw Error(he(200));return M6(t,e,null,n)};vi.createRoot=function(t,e){if(!k2(t))throw Error(he(299));var n=!1,r="",i=gP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C2(t,1,!1,null,null,n,!1,r,i),t[wo]=e.current,Kh(t.nodeType===8?t.parentNode:t),new I2(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=Bk(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return Ll(t)};vi.hydrate=function(t,e,n){if(!a0(e))throw Error(he(200));return l0(null,t,e,!0,n)};vi.hydrateRoot=function(t,e,n){if(!k2(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mP(e,null,t,1,n??null,i,!1,s,o),t[wo]=e.current,Kh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new o0(e)};vi.render=function(t,e,n){if(!a0(e))throw Error(he(200));return l0(null,t,e,!1,n)};vi.unmountComponentAtNode=function(t){if(!a0(t))throw Error(he(40));return t._reactRootContainer?(Ll(function(){l0(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};vi.unstable_batchedUpdates=x2;vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!a0(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return l0(t,e,n,!1,r)};vi.version="18.3.1-next-f1338f8080-20240426";function yP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yP)}catch(t){console.error(t)}}yP(),yk.exports=vi;var u0=yk.exports;const ah=No(u0),$6=sk({__proto__:null,default:ah},[u0]);var ZE=u0;O_.createRoot=ZE.createRoot,O_.hydrateRoot=ZE.hydrateRoot;var ew={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,x=u&63;l||(x=64,o||(m=64)),r.push(n[c],n[f],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new H6;const m=s<<2|a>>4;if(r.push(m),u!==64){const x=a<<4&240|u>>2;if(r.push(x),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V6=function(t){const e=vP(t);return _P.encodeByteArray(e,!0)},Ym=function(t){return V6(t).replace(/\./g,"")},bP=function(t){try{return _P.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=()=>q6().__FIREBASE_DEFAULTS__,G6=()=>{if(typeof process>"u"||typeof ew>"u")return;const t=ew.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bP(t[1]);return e&&JSON.parse(e)},D2=()=>{try{return W6()||G6()||K6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TP=t=>{var e,n;return(n=(e=D2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},X6=t=>{const e=TP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xP=()=>{var t;return(t=D2())===null||t===void 0?void 0:t.config},SP=t=>{var e;return(e=D2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y6=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ym(JSON.stringify(n)),Ym(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function EP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eF(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wP(){try{return typeof indexedDB=="object"}catch{return!1}}function CP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function tF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nF,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ps(i,a,r)}}function rF(t,e){return t.replace(iF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iF=/\{\$([^}]+)}/g;function sF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(tw(s)&&tw(o)){if(!Qm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oF(t,e){const n=new aF(t,e);return n.subscribe.bind(n)}class aF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fv),i.error===void 0&&(i.error=Fv),i.complete===void 0&&(i.complete=Fv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=1e3,cF=2,dF=4*60*60*1e3,hF=.5;function nw(t,e=uF,n=cF){const r=e*Math.pow(n,t),i=Math.round(hF*r*(Math.random()-.5)*2);return Math.min(dF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){return t&&t._delegate?t._delegate:t}let hs=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mF(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pF(t){return t===sl?void 0:t}function mF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const yF={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},vF=Et.INFO,_F={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},bF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_F[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c0{constructor(e){this.name=e,this._logLevel=vF,this._logHandler=bF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const TF=(t,e)=>e.some(n=>t instanceof n);let rw,iw;function xF(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SF(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AP=new WeakMap,C1=new WeakMap,IP=new WeakMap,Bv=new WeakMap,P2=new WeakMap;function EF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ca(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AP.set(n,t)}).catch(()=>{}),P2.set(e,t),e}function wF(t){if(C1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});C1.set(t,e)}let A1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CF(t){A1=t(A1)}function AF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uv(this),e,...n);return IP.set(r,e.sort?e.sort():[e]),Ca(r)}:SF().includes(t)?function(...e){return t.apply(Uv(this),e),Ca(AP.get(this))}:function(...e){return Ca(t.apply(Uv(this),e))}}function IF(t){return typeof t=="function"?AF(t):(t instanceof IDBTransaction&&wF(t),TF(t,xF())?new Proxy(t,A1):t)}function Ca(t){if(t instanceof IDBRequest)return EF(t);if(Bv.has(t))return Bv.get(t);const e=IF(t);return e!==t&&(Bv.set(t,e),P2.set(e,t)),e}const Uv=t=>P2.get(t);function kP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ca(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ca(o.result),l.oldVersion,l.newVersion,Ca(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const kF=["get","getKey","getAll","getAllKeys","count"],DF=["put","add","delete","clear"],jv=new Map;function sw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jv.get(e))return jv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return jv.set(e,s),s}CF(t=>({...t,get:(e,n,r)=>sw(e,n)||t.get(e,n,r),has:(e,n)=>!!sw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I1="@firebase/app",ow="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new c0("@firebase/app"),OF="@firebase/app-compat",LF="@firebase/analytics-compat",NF="@firebase/analytics",MF="@firebase/app-check-compat",FF="@firebase/app-check",BF="@firebase/auth",UF="@firebase/auth-compat",jF="@firebase/database",$F="@firebase/database-compat",zF="@firebase/functions",HF="@firebase/functions-compat",VF="@firebase/installations",qF="@firebase/installations-compat",WF="@firebase/messaging",GF="@firebase/messaging-compat",KF="@firebase/performance",XF="@firebase/performance-compat",YF="@firebase/remote-config",QF="@firebase/remote-config-compat",JF="@firebase/storage",ZF="@firebase/storage-compat",e9="@firebase/firestore",t9="@firebase/vertexai-preview",n9="@firebase/firestore-compat",r9="firebase",i9="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="[DEFAULT]",s9={[I1]:"fire-core",[OF]:"fire-core-compat",[NF]:"fire-analytics",[LF]:"fire-analytics-compat",[FF]:"fire-app-check",[MF]:"fire-app-check-compat",[BF]:"fire-auth",[UF]:"fire-auth-compat",[jF]:"fire-rtdb",[$F]:"fire-rtdb-compat",[zF]:"fire-fn",[HF]:"fire-fn-compat",[VF]:"fire-iid",[qF]:"fire-iid-compat",[WF]:"fire-fcm",[GF]:"fire-fcm-compat",[KF]:"fire-perf",[XF]:"fire-perf-compat",[YF]:"fire-rc",[QF]:"fire-rc-compat",[JF]:"fire-gcs",[ZF]:"fire-gcs-compat",[e9]:"fire-fst",[n9]:"fire-fst-compat",[t9]:"fire-vertex","fire-js":"fire-js",[r9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new Map,o9=new Map,D1=new Map;function aw(t,e){try{t.container.addComponent(e)}catch(n){Nl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(D1.has(e))return Nl.debug(`There were multiple attempts to register component ${e}.`),!1;D1.set(e,t);for(const n of Jm.values())aw(n,t);for(const n of o9.values())aw(n,t);return!0}function Pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function is(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Gl("app","Firebase",a9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=i9;function DP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:k1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=xP()),!n)throw Aa.create("no-options");const s=Jm.get(i);if(s){if(Qm(n,s.options)&&Qm(r,s.config))return s;throw Aa.create("duplicate-app",{appName:i})}const o=new gF(i);for(const l of D1.values())o.addComponent(l);const a=new l9(n,r,o);return Jm.set(i,a),a}function PP(t=k1){const e=Jm.get(t);if(!e&&t===k1&&xP())return DP();if(!e)throw Aa.create("no-app",{appName:t});return e}function Ri(t,e,n){var r;let i=(r=s9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nl.warn(a.join(" "));return}qs(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="firebase-heartbeat-database",c9=1,rf="firebase-heartbeat-store";let $v=null;function RP(){return $v||($v=kP(u9,c9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Aa.create("idb-open",{originalErrorMessage:t.message})})),$v}async function d9(t){try{const n=(await RP()).transaction(rf),r=await n.objectStore(rf).get(OP(t));return await n.done,r}catch(e){if(e instanceof ps)Nl.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nl.warn(n.message)}}}async function lw(t,e){try{const r=(await RP()).transaction(rf,"readwrite");await r.objectStore(rf).put(e,OP(t)),await r.done}catch(n){if(n instanceof ps)Nl.warn(n.message);else{const r=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nl.warn(r.message)}}}function OP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=1024,f9=30*24*60*60*1e3;class p9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=f9}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uw(),{heartbeatsToSend:r,unsentEntries:i}=m9(this._heartbeatsCache.heartbeats),s=Ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function uw(){return new Date().toISOString().substring(0,10)}function m9(t,e=h9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wP()?CP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cw(t){return Ym(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){qs(new hs("platform-logger",e=>new PF(e),"PRIVATE")),qs(new hs("heartbeat",e=>new p9(e),"PRIVATE")),Ri(I1,ow,t),Ri(I1,ow,"esm2017"),Ri("fire-js","")}y9("");function R2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v9=LP,NP=new Gl("auth","Firebase",LP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new c0("@firebase/auth");function _9(t,...e){Zm.logLevel<=Et.WARN&&Zm.warn(`Auth (${Xc}): ${t}`,...e)}function am(t,...e){Zm.logLevel<=Et.ERROR&&Zm.error(`Auth (${Xc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw L2(t,...e)}function as(t,...e){return L2(t,...e)}function O2(t,e,n){const r=Object.assign(Object.assign({},v9()),{[e]:n});return new Gl("auth","Firebase",r).create(e,{appName:t.name})}function _o(t){return O2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bi(t,"argument-error"),O2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NP.create(t,...e)}function Le(t,e,...n){if(!t)throw L2(e,...n)}function mo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw am(e),new Error(e)}function Io(t,e){t||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T9(){return dw()==="http:"||dw()==="https:"}function dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T9()||EP()||"connection"in navigator)?navigator.onLine:!0}function S9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Io(n>e,"Short delay should be less than long delay!"),this.isMobile=J6()||Z6()}get(){return x9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){Io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Rf(3e4,6e4);function Fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ys(t,e,n,r,i={}){return FP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Df(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),MP.fetch()(BP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function FP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},E9),e);try{const i=new A9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Op(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Op(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Op(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Op(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw O2(t,c,u);Bi(t,c)}}catch(i){if(i instanceof ps)throw i;Bi(t,"network-request-failed",{message:String(i)})}}async function Of(t,e,n,r,i={}){const s=await Ys(t,e,n,r,i);return"mfaPendingCredential"in s&&Bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function BP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?N2(t.config,i):`${t.config.apiScheme}://${i}`}function C9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(as(this.auth,"network-request-failed")),w9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Op(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=as(t,e,r);return i.customData._tokenResponse=n,i}function hw(t){return t!==void 0&&t.enterprise!==void 0}class I9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function k9(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function UP(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P9(t,e=!1){const n=ms(t),r=await n.getIdToken(e),i=M2(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ah(zv(i.auth_time)),issuedAtTime:Ah(zv(i.iat)),expirationTime:Ah(zv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zv(t){return Number(t)*1e3}function M2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{const i=bP(n);return i?JSON.parse(i):(am("Failed to decode base64 JWT payload"),null)}catch(i){return am("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fw(t){const e=M2(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&R9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ac(t,UP(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jP(s.providerUserInfo):[],a=N9(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new R1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function L9(t){const e=ms(t);await eg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jP(t){return t.map(e=>{var{providerId:n}=e,r=R2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e){const n=await FP(t,{},async()=>{const r=Df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F9(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=fw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await M9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new oc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=R2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new R1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P9(this,e)}reload(){return L9(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(is(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await Ac(this,D9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:O,isAnonymous:L,providerData:R,stsTokenManager:D}=n;Le(S&&D,e,"internal-error");const P=oc.fromJSON(this.name,D);Le(typeof S=="string",e,"internal-error"),Yo(f,e.name),Yo(m,e.name),Le(typeof O=="boolean",e,"internal-error"),Le(typeof L=="boolean",e,"internal-error"),Yo(x,e.name),Yo(_,e.name),Yo(g,e.name),Yo(k,e.name),Yo(E,e.name),Yo(w,e.name);const M=new go({uid:S,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:L,photoURL:_,phoneNumber:x,tenantId:g,stsTokenManager:P,createdAt:E,lastLoginAt:w});return R&&Array.isArray(R)&&(M.providerData=R.map(B=>Object.assign({},B))),k&&(M._redirectEventId=k),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new oc;i.updateFromServerResponse(n);const s=new go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new oc;a.updateFromIdToken(r);const l=new go({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new R1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;function yo(t){Io(t instanceof Function,"Expected a class definition");let e=pw.get(t);return e?(Io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$P.type="NONE";const mw=$P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e,n){return`firebase:${t}:${e}:${n}`}class ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lm(this.userKey,i.apiKey,s),this.fullPersistenceKey=lm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?go._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ac(yo(mw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yo(mw);const o=lm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=go._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ac(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ac(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WP(e))return"Blackberry";if(GP(e))return"Webos";if(F2(e))return"Safari";if((e.includes("chrome/")||HP(e))&&!e.includes("edge/"))return"Chrome";if(qP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zP(t=pr()){return/firefox\//i.test(t)}function F2(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HP(t=pr()){return/crios\//i.test(t)}function VP(t=pr()){return/iemobile/i.test(t)}function qP(t=pr()){return/android/i.test(t)}function WP(t=pr()){return/blackberry/i.test(t)}function GP(t=pr()){return/webos/i.test(t)}function d0(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B9(t=pr()){var e;return d0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U9(){return eF()&&document.documentMode===10}function KP(t=pr()){return d0(t)||qP(t)||GP(t)||WP(t)||/windows phone/i.test(t)||VP(t)}function j9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e=[]){let n;switch(t){case"Browser":n=gw(pr());break;case"Worker":n=`${gw(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Fo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=6;class V9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:H9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new $9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ac.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UP(this,{idToken:e}),r=await go._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(is(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(is(this.app))return Promise.reject(_o(this));const n=e?ms(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return is(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return is(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z9(this),n=new V9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yo(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await ac.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bo(t){return ms(t)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=oF(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W9(t){h0=t}function YP(t){return h0.loadJS(t)}function G9(){return h0.recaptchaEnterpriseScript}function K9(){return h0.gapiScript}function X9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Y9="recaptcha-enterprise",Q9="NO_RECAPTCHA";class J9{constructor(e){this.type=Y9,this.auth=Bo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{k9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new I9(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;hw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Q9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&hw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=G9();l.length!==0&&(l+=a),YP(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function vw(t,e,n,r=!1){const i=new J9(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await vw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e){const n=Pf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qm(s,e??{}))return i;Bi(i,"already-initialized")}return n.initialize({options:e})}function eB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tB(t,e,n){const r=Bo(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=QP(e),{host:o,port:a}=nB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),rB()}function QP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nB(t){const e=QP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_w(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_w(o)}}}function _w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,n){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}async function iB(t,e){return Ys(t,"POST","/v1/accounts:update",e)}async function sB(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",Fo(t,e))}async function aB(t,e){return Ys(t,"POST","/v1/accounts:sendOobCode",Fo(t,e))}async function lB(t,e){return aB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,e))}async function cB(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends B2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,n,"signInWithPassword",oB);case"emailLink":return uB(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,r,"signUpPassword",sB);case"emailLink":return cB(e,{idToken:n,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="http://localhost";class Ml extends B2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=R2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ml(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lc(e,n)}buildRequest(){const e={requestUri:dB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fB(t){const e=lh(uh(t)).link,n=e?lh(uh(e)).deep_link_id:null,r=lh(uh(t)).deep_link_id;return(r?lh(uh(r)).link:null)||r||n||e||t}class U2{constructor(e){var n,r,i,s,o,a;const l=lh(uh(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=hB((i=l.mode)!==null&&i!==void 0?i:null);Le(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=fB(e);try{return new U2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.providerId=Yc.PROVIDER_ID}static credential(e,n){return sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=U2.parseLink(n);return Le(r,"argument-error"),sf._fromEmailAndCode(e,r.code,r.tenantId)}}Yc.PROVIDER_ID="password";Yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends j2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Lf{constructor(){super("facebook.com")}static credential(e){return Ml._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ml._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Lf{constructor(){super("github.com")}static credential(e){return Ml._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.GITHUB_SIGN_IN_METHOD="github.com";fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Lf{constructor(){super("twitter.com")}static credential(e,n){return Ml._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pa.credential(n,r)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t,e){return Of(t,"POST","/v1/accounts:signUp",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await go._fromIdTokenResponse(e,r,i),o=bw(r);return new Fl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bw(r);return new Fl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends ps{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ng.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ng(e,n,r,i)}}function JP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ng._fromErrorAndOperation(t,s,e,r):s})}async function mB(t,e,n=!1){const r=await Ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e,n=!1){const{auth:r}=t;if(is(r.app))return Promise.reject(_o(r));const i="reauthenticate";try{const s=await Ac(t,JP(r,i,e,t),n);Le(s.idToken,r,"internal-error");const o=M2(s.idToken);Le(o,r,"internal-error");const{sub:a}=o;return Le(t.uid===a,r,"user-mismatch"),Fl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Bi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e,n=!1){if(is(t.app))return Promise.reject(_o(t));const r="signIn",i=await JP(t,r,e),s=await Fl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yB(t,e){return ZP(Bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t,e,n){var r;Le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t){const e=Bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _B(t,e,n){const r=Bo(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&vB(r,i,n),await tg(r,i,"getOobCode",lB)}async function bB(t,e,n){if(is(t.app))return Promise.reject(_o(t));const r=Bo(t),o=await tg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eR(t),l}),a=await Fl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function TB(t,e,n){return is(t.app)?Promise.reject(_o(t)):yB(ms(t),Yc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eR(t),r})}function xB(t,e){return SB(ms(t),null,e)}async function SB(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Ac(t,iB(r,s));await t._updateTokensIfNecessary(o,!0)}function EB(t,e,n,r){return ms(t).onIdTokenChanged(e,n,r)}function wB(t,e,n){return ms(t).beforeAuthStateChanged(e,n)}function CB(t,e,n,r){return ms(t).onAuthStateChanged(e,n,r)}function AB(t){return ms(t).signOut()}const rg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rg,"1"),this.storage.removeItem(rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(){const t=pr();return F2(t)||d0(t)}const kB=1e3,DB=10;class nR extends tR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=IB()&&j9(),this.fallbackToPolling=KP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);U9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nR.type="LOCAL";const PB=nR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends tR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rR.type="SESSION";const iR=rR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new f0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await RB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}f0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=$2("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return window}function LB(t){$s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function NB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FB(){return sR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebaseLocalStorageDb",BB=1,ig="firebaseLocalStorage",aR="fbase_key";class Nf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function p0(t,e){return t.transaction([ig],e?"readwrite":"readonly").objectStore(ig)}function UB(){const t=indexedDB.deleteDatabase(oR);return new Nf(t).toPromise()}function O1(){const t=indexedDB.open(oR,BB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ig,{keyPath:aR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ig)?e(r):(r.close(),await UB(),e(await O1()))})})}async function Tw(t,e,n){const r=p0(t,!0).put({[aR]:e,value:n});return new Nf(r).toPromise()}async function jB(t,e){const n=p0(t,!1).get(e),r=await new Nf(n).toPromise();return r===void 0?null:r.value}function xw(t,e){const n=p0(t,!0).delete(e);return new Nf(n).toPromise()}const $B=800,zB=3;class lR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=f0._getInstance(FB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await NB(),!this.activeServiceWorker)return;this.sender=new OB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O1();return await Tw(e,rg,"1"),await xw(e,rg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=p0(i,!1).getAll();return new Nf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lR.type="LOCAL";const HB=lR;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){return e?yo(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends B2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VB(t){return ZP(t.auth,new z2(t),t.bypassAuthState)}function qB(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),gB(n,new z2(t),t.bypassAuthState)}async function WB(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),mB(n,new z2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VB;case"linkViaPopup":case"linkViaRedirect":return WB;case"reauthViaPopup":case"reauthViaRedirect":return qB;default:Bi(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new Rf(2e3,1e4);async function KB(t,e,n){if(is(t.app))return Promise.reject(as(t,"operation-not-supported-in-this-environment"));const r=Bo(t);b9(t,e,j2);const i=uR(r,n);return new pl(r,"signInViaPopup",e,i).executeNotNull()}class pl extends cR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Io(this.filter.length===1,"Popup operations only handle one event");const e=$2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(as(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(as(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(as(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GB.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="pendingRedirect",um=new Map;class YB extends cR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=um.get(this.auth._key());if(!e){try{const r=await QB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}um.set(this.auth._key(),e)}return this.bypassAuthState||um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QB(t,e){const n=eU(e),r=ZB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JB(t,e){um.set(t._key(),e)}function ZB(t){return yo(t._redirectPersistence)}function eU(t){return lm(XB,t.config.apiKey,t.name)}async function tU(t,e,n=!1){if(is(t.app))return Promise.reject(_o(t));const r=Bo(t),i=uR(r,e),o=await new YB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=10*60*1e3;class rU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(as(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sw(e))}saveEventToCache(e){this.cachedEventUids.add(Sw(e)),this.lastProcessedEventTime=Date.now()}}function Sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aU=/^https?/;async function lU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sU(t);for(const n of e)try{if(uU(n))return}catch{}Bi(t,"unauthorized-domain")}function uU(t){const e=P1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aU.test(n))return!1;if(oU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Rf(3e4,6e4);function Ew(){const t=$s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dU(t){return new Promise((e,n)=>{var r,i,s;function o(){Ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ew(),n(as(t,"network-request-failed"))},timeout:cU.get()})}if(!((i=(r=$s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$s().gapi)===null||s===void 0)&&s.load)o();else{const a=X9("iframefcb");return $s()[a]=()=>{gapi.load?o():n(as(t,"network-request-failed"))},YP(`${K9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cm=null,e})}let cm=null;function hU(t){return cm=cm||dU(t),cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Rf(5e3,15e3),pU="__/auth/iframe",mU="emulator/auth/iframe",gU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vU(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N2(e,mU):`https://${t.config.authDomain}/${pU}`,r={apiKey:e.apiKey,appName:t.name,v:Xc},i=yU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Df(r).slice(1)}`}async function _U(t){const e=await hU(t),n=$s().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:vU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=as(t,"network-request-failed"),a=$s().setTimeout(()=>{s(o)},fU.get());function l(){$s().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TU=500,xU=600,SU="_blank",EU="http://localhost";class ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wU(t,e,n,r=TU,i=xU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},bU),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pr().toLowerCase();n&&(a=HP(u)?SU:n),zP(u)&&(e=e||EU,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[x,_])=>`${m}${x}=${_},`,"");if(B9(u)&&a!=="_self")return CU(e||"",a),new ww(null);const f=window.open(e||"",a,c);Le(f,t,"popup-blocked");try{f.focus()}catch{}return new ww(f)}function CU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="__/auth/handler",IU="emulator/auth/handler",kU=encodeURIComponent("fac");async function Cw(t,e,n,r,i,s){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xc,eventId:i};if(e instanceof j2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Lf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${kU}=${encodeURIComponent(l)}`:"";return`${DU(t)}?${Df(a).slice(1)}${u}`}function DU({config:t}){return t.emulator?N2(t,IU):`https://${t.authDomain}/${AU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="webStorageSupport";class PU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iR,this._completeRedirectFn=tU,this._overrideRedirectResult=JB}async _openPopup(e,n,r,i){var s;Io((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Cw(e,n,r,P1(),i);return wU(e,o,$2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cw(e,n,r,P1(),i);return LB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Io(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _U(e),r=new rU(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hv,{type:Hv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hv];o!==void 0&&n(!!o),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KP()||F2()||d0()}}const RU=PU;var Aw="@firebase/auth",Iw="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NU(t){qs(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XP(t)},u=new q9(r,i,s,l);return eB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new hs("auth-internal",e=>{const n=Bo(e.getProvider("auth").getImmediate());return(r=>new OU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(Aw,Iw,LU(t)),Ri(Aw,Iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=5*60,FU=SP("authIdTokenMaxAge")||MU;let kw=null;const BU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FU)return;const i=n==null?void 0:n.token;kw!==i&&(kw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UU(t=PP()){const e=Pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Z9(t,{popupRedirectResolver:RU,persistence:[HB,PB,iR]}),r=SP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=BU(s.toString());wB(n,o,()=>o(n.currentUser)),EB(n,a=>o(a))}}const i=TP("auth");return i&&tB(n,`http://${i}`),n}function jU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=as("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NU("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Qc(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,[])).next())})}function Jc(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xu=function(){return Xu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xu.apply(this,arguments)},hR=function(t){return{loading:t==null,value:t}},$U=function(){return function(t,e){switch(e.type){case"error":return Xu(Xu({},t),{error:e.error,loading:!1,value:void 0});case"reset":return hR(e.defaultValue);case"value":return Xu(Xu({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},zU=function(t){var e=t?t():void 0,n=N.useReducer($U(),hR(e)),r=n[0],i=n[1],s=N.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=N.useCallback(function(l){i({type:"error",error:l})},[]),a=N.useCallback(function(l){i({type:"value",value:l})},[]);return N.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},Kl=function(t,e){var n=zU(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return N.useEffect(function(){var l=CB(t,function(u){return Qc(void 0,void 0,void 0,function(){var c;return Jc(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return f.sent(),[3,4];case 3:return c=f.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},HU=function(t,e){var n=N.useState(),r=n[0],i=n[1],s=N.useState(),o=s[0],a=s[1],l=N.useState(!1),u=l[0],c=l[1],f=N.useCallback(function(m,x){return Qc(void 0,void 0,void 0,function(){var _,g;return Jc(this,function(k){switch(k.label){case 0:c(!0),i(void 0),k.label=1;case 1:return k.trys.push([1,5,6,7]),[4,bB(t,m,x)];case 2:return _=k.sent(),[3,4];case 3:k.sent(),k.label=4;case 4:return a(_),[2,_];case 5:return g=k.sent(),i(g),[3,7];case 6:return c(!1),[7];case 7:return[2]}})})},[t,e]);return[f,o,u,r]},VU=function(t){var e=N.useState(),n=e[0],r=e[1],i=N.useState(!1),s=i[0],o=i[1],a=N.useCallback(function(l,u){return Qc(void 0,void 0,void 0,function(){var c;return Jc(this,function(f){switch(f.label){case 0:o(!0),r(void 0),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,_B(t,l,u)];case 2:return f.sent(),[2,!0];case 3:return c=f.sent(),r(c),[2,!1];case 4:return o(!1),[7];case 5:return[2]}})})},[t]);return[a,s,n]},qU=function(t){var e=N.useState(),n=e[0],r=e[1],i=N.useState(),s=i[0],o=i[1],a=N.useState(!1),l=a[0],u=a[1],c=N.useCallback(function(f,m){return Qc(void 0,void 0,void 0,function(){var x,_;return Jc(this,function(g){switch(g.label){case 0:u(!0),r(void 0),g.label=1;case 1:return g.trys.push([1,3,4,5]),[4,TB(t,f,m)];case 2:return x=g.sent(),o(x),[2,x];case 3:return _=g.sent(),r(_),[3,5];case 4:return u(!1),[7];case 5:return[2]}})})},[t]);return[c,s,l,n]},WU=function(t){var e=N.useCallback(function(n,r){var i=new uo;return n&&n.forEach(function(s){return i.addScope(s)}),r&&i.setCustomParameters(r),i},[]);return GU(t,e)},GU=function(t,e){var n=N.useState(),r=n[0],i=n[1],s=N.useState(),o=s[0],a=s[1],l=N.useState(!1),u=l[0],c=l[1],f=N.useCallback(function(m,x){return Qc(void 0,void 0,void 0,function(){var _,g,k;return Jc(this,function(E){switch(E.label){case 0:c(!0),i(void 0),E.label=1;case 1:return E.trys.push([1,3,4,5]),_=e(m,x),[4,KB(t,_)];case 2:return g=E.sent(),a(g),[2,g];case 3:return k=E.sent(),i(k),[3,5];case 4:return c(!1),[7];case 5:return[2]}})})},[t,e]);return[f,o,u,r]},KU=function(t){var e=N.useState(),n=e[0],r=e[1],i=N.useState(!1),s=i[0],o=i[1],a=N.useCallback(function(l){return Qc(void 0,void 0,void 0,function(){var u;return Jc(this,function(c){switch(c.label){case 0:o(!0),r(void 0),c.label=1;case 1:return c.trys.push([1,5,6,7]),t.currentUser?[4,xB(t.currentUser,l)]:[3,3];case 2:return c.sent(),[2,!0];case 3:throw new Error("No user is logged in");case 4:return[3,7];case 5:return u=c.sent(),r(u),[2,!1];case 6:return o(!1),[7];case 7:return[2]}})})},[t]);return[a,s,n]};const H2="/assets/twitter-Bu1QTL3c.jpeg";var V2={},fR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(fR);var Xt=fR.exports,Vv={};function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(null,arguments)}const XU=Object.freeze(Object.defineProperty({__proto__:null,get default(){return G}},Symbol.toStringTag,{value:"Module"}));function ma(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pR(t){if(!ma(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=pR(t[n])}),e}function hi(t,e,n={clone:!0}){const r=n.clone?G({},t):t;return ma(t)&&ma(e)&&Object.keys(e).forEach(i=>{ma(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ma(t[i])?r[i]=hi(t[i],e[i],n):n.clone?r[i]=ma(e[i])?pR(e[i]):e[i]:r[i]=e[i]}),r}const YU=Object.freeze(Object.defineProperty({__proto__:null,default:hi,isPlainObject:ma},Symbol.toStringTag,{value:"Module"}));var mR={exports:{}},QU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JU=QU,ZU=JU;function gR(){}function yR(){}yR.resetWarningCache=gR;var e7=function(){function t(r,i,s,o,a,l){if(l!==ZU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yR,resetWarningCache:gR};return n.PropTypes=n,n};mR.exports=e7();var vR=mR.exports;function Bl(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const t7=Object.freeze(Object.defineProperty({__proto__:null,default:Bl},Symbol.toStringTag,{value:"Module"}));var _R={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2=Symbol.for("react.element"),W2=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),g0=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),_0=Symbol.for("react.context"),n7=Symbol.for("react.server_context"),b0=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),E0=Symbol.for("react.lazy"),r7=Symbol.for("react.offscreen"),bR;bR=Symbol.for("react.module.reference");function zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case q2:switch(t=t.type,t){case m0:case y0:case g0:case T0:case x0:return t;default:switch(t=t&&t.$$typeof,t){case n7:case _0:case b0:case E0:case S0:case v0:return t;default:return e}}case W2:return e}}}kt.ContextConsumer=_0;kt.ContextProvider=v0;kt.Element=q2;kt.ForwardRef=b0;kt.Fragment=m0;kt.Lazy=E0;kt.Memo=S0;kt.Portal=W2;kt.Profiler=y0;kt.StrictMode=g0;kt.Suspense=T0;kt.SuspenseList=x0;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return zi(t)===_0};kt.isContextProvider=function(t){return zi(t)===v0};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===q2};kt.isForwardRef=function(t){return zi(t)===b0};kt.isFragment=function(t){return zi(t)===m0};kt.isLazy=function(t){return zi(t)===E0};kt.isMemo=function(t){return zi(t)===S0};kt.isPortal=function(t){return zi(t)===W2};kt.isProfiler=function(t){return zi(t)===y0};kt.isStrictMode=function(t){return zi(t)===g0};kt.isSuspense=function(t){return zi(t)===T0};kt.isSuspenseList=function(t){return zi(t)===x0};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===m0||t===y0||t===g0||t===T0||t===x0||t===r7||typeof t=="object"&&t!==null&&(t.$$typeof===E0||t.$$typeof===S0||t.$$typeof===v0||t.$$typeof===_0||t.$$typeof===b0||t.$$typeof===bR||t.getModuleId!==void 0)};kt.typeOf=zi;_R.exports=kt;var Dw=_R.exports;const i7=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function TR(t){const e=`${t}`.match(i7);return e&&e[1]||""}function xR(t,e=""){return t.displayName||t.name||TR(t)||e}function Pw(t,e,n){const r=xR(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function s7(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return xR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Dw.ForwardRef:return Pw(t,t.render,"ForwardRef");case Dw.Memo:return Pw(t,t.type,"memo");default:return}}}const o7=Object.freeze(Object.defineProperty({__proto__:null,default:s7,getFunctionName:TR},Symbol.toStringTag,{value:"Module"}));function it(t){if(typeof t!="string")throw new Error(Bl(7));return t.charAt(0).toUpperCase()+t.slice(1)}const a7=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"}));function L1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function G2(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function l7(t,e){return()=>null}function dm(t,e){var n,r;return N.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Hr(t){return t&&t.ownerDocument||document}function Da(t){return Hr(t).defaultView||window}function u7(t,e){return()=>null}function sg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const ko=typeof window<"u"?N.useLayoutEffect:N.useEffect;let Rw=0;function c7(t){const[e,n]=N.useState(t),r=t||e;return N.useEffect(()=>{e==null&&(Rw+=1,n(`mui-${Rw}`))},[e]),r}const Ow=wm.useId;function K2(t){if(Ow!==void 0){const e=Ow();return t??e}return c7(t)}function d7(t,e,n,r,i){return null}function N1({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=N.useRef(t!==void 0),[s,o]=N.useState(e),a=i?t:s,l=N.useCallback(u=>{i||o(u)},[]);return[a,l]}function ml(t){const e=N.useRef(t);return ko(()=>{e.current=t}),N.useRef((...n)=>(0,e.current)(...n)).current}function tr(...t){return N.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{sg(n,e)})},t)}const Lw={};function h7(t,e){const n=N.useRef(Lw);return n.current===Lw&&(n.current=t(e)),n}const f7=[];function p7(t){N.useEffect(t,f7)}class w0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new w0}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function SR(){const t=h7(w0.create).current;return p7(t.disposeEffect),t}let C0=!0,M1=!1;const m7=new w0,g7={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function y7(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&g7[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function v7(t){t.metaKey||t.altKey||t.ctrlKey||(C0=!0)}function qv(){C0=!1}function _7(){this.visibilityState==="hidden"&&M1&&(C0=!0)}function b7(t){t.addEventListener("keydown",v7,!0),t.addEventListener("mousedown",qv,!0),t.addEventListener("pointerdown",qv,!0),t.addEventListener("touchstart",qv,!0),t.addEventListener("visibilitychange",_7,!0)}function T7(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return C0||y7(e)}function ER(){const t=N.useCallback(i=>{i!=null&&b7(i.ownerDocument)},[]),e=N.useRef(!1);function n(){return e.current?(M1=!0,m7.start(100,()=>{M1=!1}),e.current=!1,!0):!1}function r(i){return T7(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function wR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function og(t,e){const n=G({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=G({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=G({},s),Object.keys(i).forEach(o=>{n[r][o]=og(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function ln(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Nw=t=>t,x7=()=>{let t=Nw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Nw}}},X2=x7(),S7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Yt(t,e,n="Mui"){const r=S7[e];return r?`${n}-${r}`:`${X2.generate(t)}-${e}`}function Rt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Yt(t,i,n)}),r}function E7(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const w7=Object.freeze(Object.defineProperty({__proto__:null,default:E7},Symbol.toStringTag,{value:"Module"}));function Ue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function CR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CR(t))&&(r&&(r+=" "),r+=e);return r}const C7=N.createContext(void 0);function A7(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?og(i.defaultProps,r):!i.styleOverrides&&!i.variants?og(i,r):r}function I7({props:t,name:e}){const n=N.useContext(C7);return A7({props:t,name:e,theme:{components:n}})}function un(t){return I7(t)}var Mf={};const AR=fs(XU);var Wv={exports:{}},Mw;function k7(){return Mw||(Mw=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.includes(s))continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Wv)),Wv.exports}function IR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var D7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P7=IR(function(t){return D7.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function R7(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function O7(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var L7=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(O7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=R7(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),or="-ms-",ag="-moz-",_t="-webkit-",kR="comm",Y2="rule",Q2="decl",N7="@import",DR="@keyframes",M7="@layer",F7=Math.abs,A0=String.fromCharCode,B7=Object.assign;function U7(t,e){return Yn(t,0)^45?(((e<<2^Yn(t,0))<<2^Yn(t,1))<<2^Yn(t,2))<<2^Yn(t,3):0}function PR(t){return t.trim()}function j7(t,e){return(t=e.exec(t))?t[0]:t}function bt(t,e,n){return t.replace(e,n)}function F1(t,e){return t.indexOf(e)}function Yn(t,e){return t.charCodeAt(e)|0}function of(t,e,n){return t.slice(e,n)}function Ds(t){return t.length}function J2(t){return t.length}function Lp(t,e){return e.push(t),t}function $7(t,e){return t.map(e).join("")}var I0=1,Ic=1,RR=0,Gr=0,Dn=0,Zc="";function k0(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:I0,column:Ic,length:o,return:""}}function jd(t,e){return B7(k0("",null,null,"",null,null,0),t,{length:-t.length},e)}function z7(){return Dn}function H7(){return Dn=Gr>0?Yn(Zc,--Gr):0,Ic--,Dn===10&&(Ic=1,I0--),Dn}function fi(){return Dn=Gr<RR?Yn(Zc,Gr++):0,Ic++,Dn===10&&(Ic=1,I0++),Dn}function zs(){return Yn(Zc,Gr)}function hm(){return Gr}function Ff(t,e){return of(Zc,t,e)}function af(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OR(t){return I0=Ic=1,RR=Ds(Zc=t),Gr=0,[]}function LR(t){return Zc="",t}function fm(t){return PR(Ff(Gr-1,B1(t===91?t+2:t===40?t+1:t)))}function V7(t){for(;(Dn=zs())&&Dn<33;)fi();return af(t)>2||af(Dn)>3?"":" "}function q7(t,e){for(;--e&&fi()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return Ff(t,hm()+(e<6&&zs()==32&&fi()==32))}function B1(t){for(;fi();)switch(Dn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&B1(Dn);break;case 40:t===41&&B1(t);break;case 92:fi();break}return Gr}function W7(t,e){for(;fi()&&t+Dn!==57;)if(t+Dn===84&&zs()===47)break;return"/*"+Ff(e,Gr-1)+"*"+A0(t===47?t:fi())}function G7(t){for(;!af(zs());)fi();return Ff(t,Gr)}function K7(t){return LR(pm("",null,null,null,[""],t=OR(t),0,[0],t))}function pm(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,f=o,m=0,x=0,_=0,g=1,k=1,E=1,w=0,S="",O=i,L=s,R=r,D=S;k;)switch(_=w,w=fi()){case 40:if(_!=108&&Yn(D,f-1)==58){F1(D+=bt(fm(w),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:D+=fm(w);break;case 9:case 10:case 13:case 32:D+=V7(_);break;case 92:D+=q7(hm()-1,7);continue;case 47:switch(zs()){case 42:case 47:Lp(X7(W7(fi(),hm()),e,n),l);break;default:D+="/"}break;case 123*g:a[u++]=Ds(D)*E;case 125*g:case 59:case 0:switch(w){case 0:case 125:k=0;case 59+c:E==-1&&(D=bt(D,/\f/g,"")),x>0&&Ds(D)-f&&Lp(x>32?Bw(D+";",r,n,f-1):Bw(bt(D," ","")+";",r,n,f-2),l);break;case 59:D+=";";default:if(Lp(R=Fw(D,e,n,u,c,i,a,S,O=[],L=[],f),s),w===123)if(c===0)pm(D,e,R,R,O,s,f,a,L);else switch(m===99&&Yn(D,3)===110?100:m){case 100:case 108:case 109:case 115:pm(t,R,R,r&&Lp(Fw(t,R,R,0,0,i,a,S,i,O=[],f),L),i,L,f,a,r?O:L);break;default:pm(D,R,R,R,[""],L,0,a,L)}}u=c=x=0,g=E=1,S=D="",f=o;break;case 58:f=1+Ds(D),x=_;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&H7()==125)continue}switch(D+=A0(w),w*g){case 38:E=c>0?1:(D+="\f",-1);break;case 44:a[u++]=(Ds(D)-1)*E,E=1;break;case 64:zs()===45&&(D+=fm(fi())),m=zs(),c=f=Ds(S=D+=G7(hm())),w++;break;case 45:_===45&&Ds(D)==2&&(g=0)}}return s}function Fw(t,e,n,r,i,s,o,a,l,u,c){for(var f=i-1,m=i===0?s:[""],x=J2(m),_=0,g=0,k=0;_<r;++_)for(var E=0,w=of(t,f+1,f=F7(g=o[_])),S=t;E<x;++E)(S=PR(g>0?m[E]+" "+w:bt(w,/&\f/g,m[E])))&&(l[k++]=S);return k0(t,e,n,i===0?Y2:a,l,u,c)}function X7(t,e,n){return k0(t,e,n,kR,A0(z7()),of(t,2,-2),0)}function Bw(t,e,n,r){return k0(t,e,n,Q2,of(t,0,r),of(t,r+1,-1),r)}function uc(t,e){for(var n="",r=J2(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Y7(t,e,n,r){switch(t.type){case M7:if(t.children.length)break;case N7:case Q2:return t.return=t.return||t.value;case kR:return"";case DR:return t.return=t.value+"{"+uc(t.children,r)+"}";case Y2:t.value=t.props.join(",")}return Ds(n=uc(t.children,r))?t.return=t.value+"{"+n+"}":""}function Q7(t){var e=J2(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function J7(t){return function(e){e.root||(e=e.return)&&t(e)}}var Z7=function(e,n,r){for(var i=0,s=0;i=s,s=zs(),i===38&&s===12&&(n[r]=1),!af(s);)fi();return Ff(e,Gr)},ej=function(e,n){var r=-1,i=44;do switch(af(i)){case 0:i===38&&zs()===12&&(n[r]=1),e[r]+=Z7(Gr-1,n,r);break;case 2:e[r]+=fm(i);break;case 4:if(i===44){e[++r]=zs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=A0(i)}while(i=fi());return e},tj=function(e,n){return LR(ej(OR(e),n))},Uw=new WeakMap,nj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Uw.get(r))&&!i){Uw.set(e,!0);for(var s=[],o=tj(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},rj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function NR(t,e){switch(U7(t,e)){case 5103:return _t+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+t+ag+t+or+t+t;case 6828:case 4268:return _t+t+or+t+t;case 6165:return _t+t+or+"flex-"+t+t;case 5187:return _t+t+bt(t,/(\w+).+(:[^]+)/,_t+"box-$1$2"+or+"flex-$1$2")+t;case 5443:return _t+t+or+"flex-item-"+bt(t,/flex-|-self/,"")+t;case 4675:return _t+t+or+"flex-line-pack"+bt(t,/align-content|flex-|-self/,"")+t;case 5548:return _t+t+or+bt(t,"shrink","negative")+t;case 5292:return _t+t+or+bt(t,"basis","preferred-size")+t;case 6060:return _t+"box-"+bt(t,"-grow","")+_t+t+or+bt(t,"grow","positive")+t;case 4554:return _t+bt(t,/([^-])(transform)/g,"$1"+_t+"$2")+t;case 6187:return bt(bt(bt(t,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),t,"")+t;case 5495:case 3959:return bt(t,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return bt(bt(t,/(.+:)(flex-)?(.*)/,_t+"box-pack:$3"+or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+t+t;case 4095:case 3583:case 4068:case 2532:return bt(t,/(.+)-inline(.+)/,_t+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ds(t)-1-e>6)switch(Yn(t,e+1)){case 109:if(Yn(t,e+4)!==45)break;case 102:return bt(t,/(.+:)(.+)-([^]+)/,"$1"+_t+"$2-$3$1"+ag+(Yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~F1(t,"stretch")?NR(bt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Yn(t,e+1)!==115)break;case 6444:switch(Yn(t,Ds(t)-3-(~F1(t,"!important")&&10))){case 107:return bt(t,":",":"+_t)+t;case 101:return bt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(Yn(t,14)===45?"inline-":"")+"box$3$1"+_t+"$2$3$1"+or+"$2box$3")+t}break;case 5936:switch(Yn(t,e+11)){case 114:return _t+t+or+bt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _t+t+or+bt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _t+t+or+bt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _t+t+or+t+t}return t}var ij=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Q2:e.return=NR(e.value,e.length);break;case DR:return uc([jd(e,{value:bt(e.value,"@","@"+_t)})],i);case Y2:if(e.length)return $7(e.props,function(s){switch(j7(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uc([jd(e,{props:[bt(s,/:(read-\w+)/,":"+ag+"$1")]})],i);case"::placeholder":return uc([jd(e,{props:[bt(s,/:(plac\w+)/,":"+_t+"input-$1")]}),jd(e,{props:[bt(s,/:(plac\w+)/,":"+ag+"$1")]}),jd(e,{props:[bt(s,/:(plac\w+)/,or+"input-$1")]})],i)}return""})}},sj=[ij],MR=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var k=g.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||sj,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var k=g.getAttribute("data-emotion").split(" "),E=1;E<k.length;E++)s[k[E]]=!0;a.push(g)});var l,u=[nj,rj];{var c,f=[Y7,J7(function(g){c.insert(g)})],m=Q7(u.concat(i,f)),x=function(k){return uc(K7(k),m)};l=function(k,E,w,S){c=w,x(k?k+"{"+E.styles+"}":E.styles),S&&(_.inserted[E.name]=!0)}}var _={key:n,sheet:new L7({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},FR={exports:{}},Dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn=typeof Symbol=="function"&&Symbol.for,Z2=Wn?Symbol.for("react.element"):60103,eT=Wn?Symbol.for("react.portal"):60106,D0=Wn?Symbol.for("react.fragment"):60107,P0=Wn?Symbol.for("react.strict_mode"):60108,R0=Wn?Symbol.for("react.profiler"):60114,O0=Wn?Symbol.for("react.provider"):60109,L0=Wn?Symbol.for("react.context"):60110,tT=Wn?Symbol.for("react.async_mode"):60111,N0=Wn?Symbol.for("react.concurrent_mode"):60111,M0=Wn?Symbol.for("react.forward_ref"):60112,F0=Wn?Symbol.for("react.suspense"):60113,oj=Wn?Symbol.for("react.suspense_list"):60120,B0=Wn?Symbol.for("react.memo"):60115,U0=Wn?Symbol.for("react.lazy"):60116,aj=Wn?Symbol.for("react.block"):60121,lj=Wn?Symbol.for("react.fundamental"):60117,uj=Wn?Symbol.for("react.responder"):60118,cj=Wn?Symbol.for("react.scope"):60119;function bi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Z2:switch(t=t.type,t){case tT:case N0:case D0:case R0:case P0:case F0:return t;default:switch(t=t&&t.$$typeof,t){case L0:case M0:case U0:case B0:case O0:return t;default:return e}}case eT:return e}}}function BR(t){return bi(t)===N0}Dt.AsyncMode=tT;Dt.ConcurrentMode=N0;Dt.ContextConsumer=L0;Dt.ContextProvider=O0;Dt.Element=Z2;Dt.ForwardRef=M0;Dt.Fragment=D0;Dt.Lazy=U0;Dt.Memo=B0;Dt.Portal=eT;Dt.Profiler=R0;Dt.StrictMode=P0;Dt.Suspense=F0;Dt.isAsyncMode=function(t){return BR(t)||bi(t)===tT};Dt.isConcurrentMode=BR;Dt.isContextConsumer=function(t){return bi(t)===L0};Dt.isContextProvider=function(t){return bi(t)===O0};Dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Z2};Dt.isForwardRef=function(t){return bi(t)===M0};Dt.isFragment=function(t){return bi(t)===D0};Dt.isLazy=function(t){return bi(t)===U0};Dt.isMemo=function(t){return bi(t)===B0};Dt.isPortal=function(t){return bi(t)===eT};Dt.isProfiler=function(t){return bi(t)===R0};Dt.isStrictMode=function(t){return bi(t)===P0};Dt.isSuspense=function(t){return bi(t)===F0};Dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===D0||t===N0||t===R0||t===P0||t===F0||t===oj||typeof t=="object"&&t!==null&&(t.$$typeof===U0||t.$$typeof===B0||t.$$typeof===O0||t.$$typeof===L0||t.$$typeof===M0||t.$$typeof===lj||t.$$typeof===uj||t.$$typeof===cj||t.$$typeof===aj)};Dt.typeOf=bi;FR.exports=Dt;var dj=FR.exports,UR=dj,hj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jR={};jR[UR.ForwardRef]=hj;jR[UR.Memo]=fj;var pj=!0;function mj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var $R=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||pj===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},zR=function(e,n,r){$R(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function gj(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vj=/[A-Z]|^ms/g,_j=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HR=function(e){return e.charCodeAt(1)===45},jw=function(e){return e!=null&&typeof e!="boolean"},Gv=IR(function(t){return HR(t)?t:t.replace(vj,"-$&").toLowerCase()}),$w=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_j,function(r,i,s){return Ps={name:i,styles:s,next:Ps},i})}return yj[e]!==1&&!HR(e)&&typeof n=="number"&&n!==0?n+"px":n};function lf(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ps={name:n.name,styles:n.styles,next:Ps},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ps={name:r.name,styles:r.styles,next:Ps},r=r.next;var i=n.styles+";";return i}return bj(t,e,n)}case"function":{if(t!==void 0){var s=Ps,o=n(t);return Ps=s,lf(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function bj(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":jw(o)&&(r+=Gv(s)+":"+$w(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)jw(o[a])&&(r+=Gv(s)+":"+$w(s,o[a])+";");else{var l=lf(t,e,o);switch(s){case"animation":case"animationName":{r+=Gv(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var zw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ps,nT=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ps=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=lf(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=lf(r,n,e[a]),i&&(s+=o[a]);zw.lastIndex=0;for(var l="",u;(u=zw.exec(s))!==null;)l+="-"+u[1];var c=gj(s)+l;return{name:c,styles:s,next:Ps}},Tj=function(e){return e()},VR=wm.useInsertionEffect?wm.useInsertionEffect:!1,xj=VR||Tj,Hw=VR||N.useLayoutEffect,qR=N.createContext(typeof HTMLElement<"u"?MR({key:"css"}):null),Sj=qR.Provider,WR=function(e){return N.forwardRef(function(n,r){var i=N.useContext(qR);return e(n,i,r)})},j0=N.createContext({}),Ej=WR(function(t,e){var n=t.styles,r=nT([n],void 0,N.useContext(j0)),i=N.useRef();return Hw(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),Hw(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&zR(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function GR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return nT(e)}var $0=function(){var e=GR.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},wj=P7,Cj=function(e){return e!=="theme"},Vw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wj:Cj},qw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Aj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return $R(n,r,i),xj(function(){return zR(n,r,i)}),null},Ij=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=qw(e,n,r),l=a||Vw(i),u=!l("as");return function(){var c=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var m=c.length,x=1;x<m;x++)f.push(c[x],c[0][x])}var _=WR(function(g,k,E){var w=u&&g.as||i,S="",O=[],L=g;if(g.theme==null){L={};for(var R in g)L[R]=g[R];L.theme=N.useContext(j0)}typeof g.className=="string"?S=mj(k.registered,O,g.className):g.className!=null&&(S=g.className+" ");var D=nT(f.concat(O),k.registered,L);S+=k.key+"-"+D.name,o!==void 0&&(S+=" "+o);var P=u&&a===void 0?Vw(w):l,M={};for(var B in g)u&&B==="as"||P(B)&&(M[B]=g[B]);return M.className=S,M.ref=E,N.createElement(N.Fragment,null,N.createElement(Aj,{cache:k,serialized:D,isStringTag:typeof w=="string"}),N.createElement(w,M))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=f,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(g,k){return t(g,G({},n,k,{shouldForwardProp:qw(_,k,!0)})).apply(void 0,f)},_}},kj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],U1=Ij.bind();kj.forEach(function(t){U1[t]=U1(t)});let j1;typeof document=="object"&&(j1=MR({key:"css",prepend:!0}));function Dj(t){const{injectFirst:e,children:n}=t;return e&&j1?I.jsx(Sj,{value:j1,children:n}):n}function Pj(t){return t==null||Object.keys(t).length===0}function KR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Pj(i)?n:i):e;return I.jsx(Ej,{styles:r})}function XR(t,e){return U1(t,e)}const Rj=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Oj=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:KR,StyledEngineProvider:Dj,ThemeContext:j0,css:GR,default:XR,internal_processStyles:Rj,keyframes:$0},Symbol.toStringTag,{value:"Module"})),Lj=fs(Oj),Nj=fs(YU),Mj=fs(a7),Fj=fs(o7),Bj=["values","unit","step"],Uj=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>G({},n,{[r.key]:r.val}),{})};function YR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ue(t,Bj),s=Uj(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,x){const _=o.indexOf(x);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:x)-r/100}${n})`}function c(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):a(m)}function f(m){const x=o.indexOf(m);return x===0?a(o[1]):x===o.length-1?l(o[x]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return G({keys:o,values:s,up:a,down:l,between:u,only:c,not:f,unit:n},i)}const jj={borderRadius:4};function Ih(t,e){return e?hi(t,e,{clone:!1}):t}const rT={xs:0,sm:600,md:900,lg:1200,xl:1536},Ww={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${rT[t]}px)`};function Do(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Ww;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Ww;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||rT).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function $j(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function zj(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function z0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function lg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=z0(t,n)||r,e&&(i=e(i,r,t)),i}function En(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=z0(l,r)||{};return Do(o,a,f=>{let m=lg(u,i,f);return f===m&&typeof f=="string"&&(m=lg(u,i,`${e}${f==="default"?"":it(f)}`,f)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function Hj(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Vj={m:"margin",p:"padding"},qj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Gw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Wj=Hj(t=>{if(t.length>2)if(Gw[t])t=Gw[t];else return[t];const[e,n]=t.split(""),r=Vj[e],i=qj[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),iT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...iT,...sT];function Bf(t,e,n,r){var i;const s=(i=z0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function QR(t){return Bf(t,"spacing",8)}function Uf(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Gj(t,e){return n=>t.reduce((r,i)=>(r[i]=Uf(e,n),r),{})}function Kj(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Wj(n),s=Gj(i,r),o=t[n];return Do(t,o,s)}function JR(t,e){const n=QR(t.theme);return Object.keys(t).map(r=>Kj(t,e,r,n)).reduce(Ih,{})}function dn(t){return JR(t,iT)}dn.propTypes={};dn.filterProps=iT;function hn(t){return JR(t,sT)}hn.propTypes={};hn.filterProps=sT;function Xj(t=8){if(t.mui)return t;const e=QR({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function H0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Ih(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ii(t){return typeof t!="number"?t:`${t}px solid`}function Hi(t,e){return En({prop:t,themeKey:"borders",transform:e})}const Yj=Hi("border",Ii),Qj=Hi("borderTop",Ii),Jj=Hi("borderRight",Ii),Zj=Hi("borderBottom",Ii),e$=Hi("borderLeft",Ii),t$=Hi("borderColor"),n$=Hi("borderTopColor"),r$=Hi("borderRightColor"),i$=Hi("borderBottomColor"),s$=Hi("borderLeftColor"),o$=Hi("outline",Ii),a$=Hi("outlineColor"),V0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Bf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Uf(e,r)});return Do(t,t.borderRadius,n)}return null};V0.propTypes={};V0.filterProps=["borderRadius"];H0(Yj,Qj,Jj,Zj,e$,t$,n$,r$,i$,s$,V0,o$,a$);const q0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Bf(t.theme,"spacing",8),n=r=>({gap:Uf(e,r)});return Do(t,t.gap,n)}return null};q0.propTypes={};q0.filterProps=["gap"];const W0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Bf(t.theme,"spacing",8),n=r=>({columnGap:Uf(e,r)});return Do(t,t.columnGap,n)}return null};W0.propTypes={};W0.filterProps=["columnGap"];const G0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Bf(t.theme,"spacing",8),n=r=>({rowGap:Uf(e,r)});return Do(t,t.rowGap,n)}return null};G0.propTypes={};G0.filterProps=["rowGap"];const l$=En({prop:"gridColumn"}),u$=En({prop:"gridRow"}),c$=En({prop:"gridAutoFlow"}),d$=En({prop:"gridAutoColumns"}),h$=En({prop:"gridAutoRows"}),f$=En({prop:"gridTemplateColumns"}),p$=En({prop:"gridTemplateRows"}),m$=En({prop:"gridTemplateAreas"}),g$=En({prop:"gridArea"});H0(q0,W0,G0,l$,u$,c$,d$,h$,f$,p$,m$,g$);function cc(t,e){return e==="grey"?e:t}const y$=En({prop:"color",themeKey:"palette",transform:cc}),v$=En({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:cc}),_$=En({prop:"backgroundColor",themeKey:"palette",transform:cc});H0(y$,v$,_$);function ai(t){return t<=1&&t!==0?`${t*100}%`:t}const b$=En({prop:"width",transform:ai}),oT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||rT[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:ai(n)}};return Do(t,t.maxWidth,e)}return null};oT.filterProps=["maxWidth"];const T$=En({prop:"minWidth",transform:ai}),x$=En({prop:"height",transform:ai}),S$=En({prop:"maxHeight",transform:ai}),E$=En({prop:"minHeight",transform:ai});En({prop:"size",cssProperty:"width",transform:ai});En({prop:"size",cssProperty:"height",transform:ai});const w$=En({prop:"boxSizing"});H0(b$,oT,T$,x$,S$,E$,w$);const C$={border:{themeKey:"borders",transform:Ii},borderTop:{themeKey:"borders",transform:Ii},borderRight:{themeKey:"borders",transform:Ii},borderBottom:{themeKey:"borders",transform:Ii},borderLeft:{themeKey:"borders",transform:Ii},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ii},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:V0},color:{themeKey:"palette",transform:cc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:cc},backgroundColor:{themeKey:"palette",transform:cc},p:{style:hn},pt:{style:hn},pr:{style:hn},pb:{style:hn},pl:{style:hn},px:{style:hn},py:{style:hn},padding:{style:hn},paddingTop:{style:hn},paddingRight:{style:hn},paddingBottom:{style:hn},paddingLeft:{style:hn},paddingX:{style:hn},paddingY:{style:hn},paddingInline:{style:hn},paddingInlineStart:{style:hn},paddingInlineEnd:{style:hn},paddingBlock:{style:hn},paddingBlockStart:{style:hn},paddingBlockEnd:{style:hn},m:{style:dn},mt:{style:dn},mr:{style:dn},mb:{style:dn},ml:{style:dn},mx:{style:dn},my:{style:dn},margin:{style:dn},marginTop:{style:dn},marginRight:{style:dn},marginBottom:{style:dn},marginLeft:{style:dn},marginX:{style:dn},marginY:{style:dn},marginInline:{style:dn},marginInlineStart:{style:dn},marginInlineEnd:{style:dn},marginBlock:{style:dn},marginBlockStart:{style:dn},marginBlockEnd:{style:dn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:q0},rowGap:{style:G0},columnGap:{style:W0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ai},maxWidth:{style:oT},minWidth:{transform:ai},height:{transform:ai},maxHeight:{transform:ai},minHeight:{transform:ai},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},jf=C$;function A$(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function I$(t,e){return typeof t=="function"?t(e):t}function ZR(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:f}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=z0(i,u)||{};return f?f(o):Do(o,r,_=>{let g=lg(m,c,_);return _===g&&typeof _=="string"&&(g=lg(m,c,`${n}${_==="default"?"":it(_)}`,_)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:jf;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=$j(s.breakpoints),f=Object.keys(c);let m=c;return Object.keys(u).forEach(x=>{const _=I$(u[x],s);if(_!=null)if(typeof _=="object")if(o[x])m=Ih(m,t(x,_,s,o));else{const g=Do({theme:s},_,k=>({[x]:k}));A$(g,_)?m[x]=e({sx:_,theme:s}):m=Ih(m,g)}else m=Ih(m,t(x,_,s,o))}),zj(f,m)}return Array.isArray(i)?i.map(a):a(i)}return e}const e4=ZR();e4.filterProps=["sx"];const K0=e4;function t4(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const k$=["breakpoints","palette","spacing","shape"];function aT(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ue(t,k$),a=YR(n),l=Xj(i);let u=hi({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},jj,s)},o);return u.applyStyles=t4,u=e.reduce((c,f)=>hi(c,f),u),u.unstable_sxConfig=G({},jf,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(f){return K0({sx:f,theme:this})},u}const D$=Object.freeze(Object.defineProperty({__proto__:null,default:aT,private_createBreakpoints:YR,unstable_applyStyles:t4},Symbol.toStringTag,{value:"Module"})),P$=fs(D$),R$=["sx"],O$=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:jf;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function n4(t){const{sx:e}=t,n=Ue(t,R$),{systemProps:r,otherProps:i}=O$(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return ma(a)?G({},r,a):r}:s=G({},r,e),G({},i,{sx:s})}const L$=Object.freeze(Object.defineProperty({__proto__:null,default:K0,extendSxProp:n4,unstable_createStyleFunctionSx:ZR,unstable_defaultSxConfig:jf},Symbol.toStringTag,{value:"Module"})),N$=fs(L$);var ed=Xt;Object.defineProperty(Mf,"__esModule",{value:!0});var M$=Mf.default=X$;Mf.shouldForwardProp=mm;Mf.systemDefaultTheme=void 0;var Ei=ed(AR),$1=ed(k7()),Kw=H$(Lj),F$=Nj;ed(Mj);ed(Fj);var B$=ed(P$),U$=ed(N$);const j$=["ownerState"],$$=["variants"],z$=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function r4(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(r4=function(r){return r?n:e})(t)}function H$(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=r4(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function V$(t){return Object.keys(t).length===0}function q$(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const W$=Mf.systemDefaultTheme=(0,B$.default)(),G$=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Np({defaultTheme:t,theme:e,themeId:n}){return V$(e)?t:e[n]||e}function K$(t){return t?(e,n)=>n[t]:null}function gm(t,e){let{ownerState:n}=e,r=(0,$1.default)(e,j$);const i=typeof t=="function"?t((0,Ei.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>gm(s,(0,Ei.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,$1.default)(i,$$);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Ei.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Ei.default)({ownerState:n},r,n)):l.style))}),a}return i}function X$(t={}){const{themeId:e,defaultTheme:n=W$,rootShouldForwardProp:r=mm,slotShouldForwardProp:i=mm}=t,s=o=>(0,U$.default)((0,Ei.default)({},o,{theme:Np((0,Ei.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,Kw.internal_processStyles)(o,L=>L.filter(R=>!(R!=null&&R.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:f,overridesResolver:m=K$(G$(u))}=a,x=(0,$1.default)(a,z$),_=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=f||!1;let k,E=mm;u==="Root"||u==="root"?E=r:u?E=i:q$(o)&&(E=void 0);const w=(0,Kw.default)(o,(0,Ei.default)({shouldForwardProp:E,label:k},x)),S=L=>typeof L=="function"&&L.__emotion_real!==L||(0,F$.isPlainObject)(L)?R=>gm(L,(0,Ei.default)({},R,{theme:Np({theme:R.theme,defaultTheme:n,themeId:e})})):L,O=(L,...R)=>{let D=S(L);const P=R?R.map(S):[];l&&m&&P.push($=>{const V=Np((0,Ei.default)({},$,{defaultTheme:n,themeId:e}));if(!V.components||!V.components[l]||!V.components[l].styleOverrides)return null;const F=V.components[l].styleOverrides,se={};return Object.entries(F).forEach(([ce,ue])=>{se[ce]=gm(ue,(0,Ei.default)({},$,{theme:V}))}),m($,se)}),l&&!_&&P.push($=>{var V;const F=Np((0,Ei.default)({},$,{defaultTheme:n,themeId:e})),se=F==null||(V=F.components)==null||(V=V[l])==null?void 0:V.variants;return gm({variants:se},(0,Ei.default)({},$,{theme:F}))}),g||P.push(s);const M=P.length-R.length;if(Array.isArray(L)&&M>0){const $=new Array(M).fill("");D=[...L,...$],D.raw=[...L.raw,...$]}const B=w(D,...P);return o.muiName&&(B.muiName=o.muiName),B};return w.withConfig&&(O.withConfig=w.withConfig),O}}function Y$(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var wn={};const Q$=fs(t7),J$=fs(w7);var i4=Xt;Object.defineProperty(wn,"__esModule",{value:!0});var Di=wn.alpha=l4;wn.blend=dz;wn.colorChannel=void 0;var Z$=wn.darken=uT;wn.decomposeColor=Ui;wn.emphasize=u4;var ez=wn.getContrastRatio=oz;wn.getLuminance=ug;wn.hexToRgb=s4;wn.hslToRgb=a4;var tz=wn.lighten=cT;wn.private_safeAlpha=az;wn.private_safeColorChannel=void 0;wn.private_safeDarken=lz;wn.private_safeEmphasize=cz;wn.private_safeLighten=uz;wn.recomposeColor=td;wn.rgbToHex=sz;var Xw=i4(Q$),nz=i4(J$);function lT(t,e=0,n=1){return(0,nz.default)(t,e,n)}function s4(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function rz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Ui(t){if(t.type)return t;if(t.charAt(0)==="#")return Ui(s4(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Xw.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Xw.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const o4=t=>{const e=Ui(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};wn.colorChannel=o4;const iz=(t,e)=>{try{return o4(t)}catch{return t}};wn.private_safeColorChannel=iz;function td(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function sz(t){if(t.indexOf("#")===0)return t;const{values:e}=Ui(t);return`#${e.map((n,r)=>rz(r===3?Math.round(255*n):n)).join("")}`}function a4(t){t=Ui(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),td({type:a,values:l})}function ug(t){t=Ui(t);let e=t.type==="hsl"||t.type==="hsla"?Ui(a4(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function oz(t,e){const n=ug(t),r=ug(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l4(t,e){return t=Ui(t),e=lT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,td(t)}function az(t,e,n){try{return l4(t,e)}catch{return t}}function uT(t,e){if(t=Ui(t),e=lT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return td(t)}function lz(t,e,n){try{return uT(t,e)}catch{return t}}function cT(t,e){if(t=Ui(t),e=lT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return td(t)}function uz(t,e,n){try{return cT(t,e)}catch{return t}}function u4(t,e=.15){return ug(t)>.5?uT(t,e):cT(t,e)}function cz(t,e,n){try{return u4(t,e)}catch{return t}}function dz(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),s=Ui(t),o=Ui(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return td({type:"rgb",values:a})}const uf={black:"#000",white:"#fff"},hz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Tu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$d={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Su={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Eu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},fz=["mode","contrastThreshold","tonalOffset"],Yw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uf.white,default:uf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kv={text:{primary:uf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qw(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=tz(t.main,i):e==="dark"&&(t.dark=Z$(t.main,s)))}function pz(t="light"){return t==="dark"?{main:Su[200],light:Su[50],dark:Su[400]}:{main:Su[700],light:Su[400],dark:Su[800]}}function mz(t="light"){return t==="dark"?{main:Tu[200],light:Tu[50],dark:Tu[400]}:{main:Tu[500],light:Tu[300],dark:Tu[700]}}function gz(t="light"){return t==="dark"?{main:xu[500],light:xu[300],dark:xu[700]}:{main:xu[700],light:xu[400],dark:xu[800]}}function yz(t="light"){return t==="dark"?{main:Eu[400],light:Eu[300],dark:Eu[700]}:{main:Eu[700],light:Eu[500],dark:Eu[900]}}function vz(t="light"){return t==="dark"?{main:wu[400],light:wu[300],dark:wu[700]}:{main:wu[800],light:wu[500],dark:wu[900]}}function _z(t="light"){return t==="dark"?{main:$d[400],light:$d[300],dark:$d[700]}:{main:"#ed6c02",light:$d[500],dark:$d[900]}}function bz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ue(t,fz),s=t.primary||pz(e),o=t.secondary||mz(e),a=t.error||gz(e),l=t.info||yz(e),u=t.success||vz(e),c=t.warning||_z(e);function f(g){return ez(g,Kv.text.primary)>=n?Kv.text.primary:Yw.text.primary}const m=({color:g,name:k,mainShade:E=500,lightShade:w=300,darkShade:S=700})=>{if(g=G({},g),!g.main&&g[E]&&(g.main=g[E]),!g.hasOwnProperty("main"))throw new Error(Bl(11,k?` (${k})`:"",E));if(typeof g.main!="string")throw new Error(Bl(12,k?` (${k})`:"",JSON.stringify(g.main)));return Qw(g,"light",w,r),Qw(g,"dark",S,r),g.contrastText||(g.contrastText=f(g.main)),g},x={dark:Kv,light:Yw};return hi(G({common:G({},uf),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:c,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:u,name:"success"}),grey:hz,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r},x[e]),i)}const Tz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xz(t){return Math.round(t*1e5)/1e5}const Jw={textTransform:"uppercase"},Zw='"Roboto", "Helvetica", "Arial", sans-serif';function Sz(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Zw,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:f}=n,m=Ue(n,Tz),x=i/14,_=f||(E=>`${E/u*x}rem`),g=(E,w,S,O,L)=>G({fontFamily:r,fontWeight:E,fontSize:_(w),lineHeight:S},r===Zw?{letterSpacing:`${xz(O/w)}em`}:{},L,c),k={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,Jw),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,Jw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hi(G({htmlFontSize:u,pxToRem:_,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},k),m,{clone:!1})}const Ez=.2,wz=.14,Cz=.12;function qt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Ez})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Cz})`].join(",")}const Az=["none",qt(0,2,1,-1,0,1,1,0,0,1,3,0),qt(0,3,1,-2,0,2,2,0,0,1,5,0),qt(0,3,3,-2,0,3,4,0,0,1,8,0),qt(0,2,4,-1,0,4,5,0,0,1,10,0),qt(0,3,5,-1,0,5,8,0,0,1,14,0),qt(0,3,5,-1,0,6,10,0,0,1,18,0),qt(0,4,5,-2,0,7,10,1,0,2,16,1),qt(0,5,5,-3,0,8,10,1,0,3,14,2),qt(0,5,6,-3,0,9,12,1,0,3,16,2),qt(0,6,6,-3,0,10,14,1,0,4,18,3),qt(0,6,7,-4,0,11,15,1,0,4,20,3),qt(0,7,8,-4,0,12,17,2,0,5,22,4),qt(0,7,8,-4,0,13,19,2,0,5,24,4),qt(0,7,9,-4,0,14,21,2,0,5,26,4),qt(0,8,9,-5,0,15,22,2,0,6,28,5),qt(0,8,10,-5,0,16,24,2,0,6,30,5),qt(0,8,11,-5,0,17,26,2,0,6,32,5),qt(0,9,11,-5,0,18,28,2,0,7,34,6),qt(0,9,12,-6,0,19,29,2,0,7,36,6),qt(0,10,13,-6,0,20,31,3,0,8,38,7),qt(0,10,13,-6,0,21,33,3,0,8,40,7),qt(0,10,14,-6,0,22,35,3,0,8,42,7),qt(0,11,14,-7,0,23,36,3,0,9,44,8),qt(0,11,15,-7,0,24,38,3,0,9,46,8)],Iz=["duration","easing","delay"],kz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eC(t){return`${Math.round(t)}ms`}function Pz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Rz(t){const e=G({},kz,t.easing),n=G({},Dz,t.duration);return G({getAutoHeightDuration:Pz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return Ue(s,Iz),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:eC(o)} ${a} ${typeof l=="string"?l:eC(l)}`).join(",")}},t,{easing:e,duration:n})}const Oz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Lz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function c4(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ue(t,Lz);if(t.vars)throw new Error(Bl(18));const a=bz(r),l=aT(t);let u=hi(l,{mixins:Y$(l.breakpoints,n),palette:a,shadows:Az.slice(),typography:Sz(a,s),transitions:Rz(i),zIndex:G({},Oz)});return u=hi(u,o),u=e.reduce((c,f)=>hi(c,f),u),u.unstable_sxConfig=G({},jf,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(f){return K0({sx:f,theme:this})},u}const dT=c4(),X0="$$material";function d4(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Vi=t=>d4(t)&&t!=="classes",je=M$({themeId:X0,defaultTheme:dT,rootShouldForwardProp:Vi});function Nz(t){return Yt("MuiSvgIcon",t)}Rt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Mz=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Fz=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${it(e)}`,`fontSize${it(n)}`]};return ln(i,Nz,r)},Bz=je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${it(n.color)}`],e[`fontSize${it(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,f,m,x,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?f:{action:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.active,disabled:(_=(t.vars||t).palette)==null||(_=_.action)==null?void 0:_.disabled,inherit:void 0}[e.color]}}),z1=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:f,viewBox:m="0 0 24 24"}=r,x=Ue(r,Mz),_=N.isValidElement(i)&&i.type==="svg",g=G({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:m,hasSvgAsChild:_}),k={};c||(k.viewBox=m);const E=Fz(g);return I.jsxs(Bz,G({as:a,className:rt(E.root,s),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},k,x,_&&i.props,{ownerState:g,children:[_?i.props.children:i,f?I.jsx("title",{children:f}):null]}))});z1.muiName="SvgIcon";function hT(t,e){function n(r,i){return I.jsx(z1,G({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=z1.muiName,N.memo(N.forwardRef(n))}const Uz={configure:t=>{X2.configure(t)}},jz=Object.freeze(Object.defineProperty({__proto__:null,capitalize:it,createChainedFunction:L1,createSvgIcon:hT,debounce:G2,deprecatedPropType:l7,isMuiElement:dm,ownerDocument:Hr,ownerWindow:Da,requirePropFactory:u7,setRef:sg,unstable_ClassNameGenerator:Uz,unstable_useEnhancedEffect:ko,unstable_useId:K2,unsupportedProp:d7,useControlled:N1,useEventCallback:ml,useForkRef:tr,useIsFocusVisible:ER},Symbol.toStringTag,{value:"Module"})),$z=fs(jz);var tC;function mn(){return tC||(tC=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=$z}(Vv)),Vv}var zz=Xt;Object.defineProperty(V2,"__esModule",{value:!0});var Xl=V2.default=void 0;qz(N);var Hz=zz(mn()),Vz=I;function h4(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(h4=function(r){return r?n:e})(t)}function qz(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=h4(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}Xl=V2.default=(0,Hz.default)((0,Vz.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");var fT={},Wz=Xt;Object.defineProperty(fT,"__esModule",{value:!0});var pT=fT.default=void 0,Gz=Wz(mn()),Kz=I;pT=fT.default=(0,Gz.default)((0,Kz.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var mT={},Xz=Xt;Object.defineProperty(mT,"__esModule",{value:!0});var gT=mT.default=void 0,Yz=Xz(mn()),Qz=I;gT=mT.default=(0,Yz.default)((0,Qz.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var Jz="firebase",Zz="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(Jz,Zz,"app");var nC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function M(){}M.prototype=P.prototype,D.D=P.prototype,D.prototype=new M,D.prototype.constructor=D,D.C=function(B,$,V){for(var F=Array(arguments.length-2),se=2;se<arguments.length;se++)F[se-2]=arguments[se];return P.prototype[$].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,M){M||(M=0);var B=Array(16);if(typeof P=="string")for(var $=0;16>$;++$)B[$]=P.charCodeAt(M++)|P.charCodeAt(M++)<<8|P.charCodeAt(M++)<<16|P.charCodeAt(M++)<<24;else for($=0;16>$;++$)B[$]=P[M++]|P[M++]<<8|P[M++]<<16|P[M++]<<24;P=D.g[0],M=D.g[1],$=D.g[2];var V=D.g[3],F=P+(V^M&($^V))+B[0]+3614090360&4294967295;P=M+(F<<7&4294967295|F>>>25),F=V+($^P&(M^$))+B[1]+3905402710&4294967295,V=P+(F<<12&4294967295|F>>>20),F=$+(M^V&(P^M))+B[2]+606105819&4294967295,$=V+(F<<17&4294967295|F>>>15),F=M+(P^$&(V^P))+B[3]+3250441966&4294967295,M=$+(F<<22&4294967295|F>>>10),F=P+(V^M&($^V))+B[4]+4118548399&4294967295,P=M+(F<<7&4294967295|F>>>25),F=V+($^P&(M^$))+B[5]+1200080426&4294967295,V=P+(F<<12&4294967295|F>>>20),F=$+(M^V&(P^M))+B[6]+2821735955&4294967295,$=V+(F<<17&4294967295|F>>>15),F=M+(P^$&(V^P))+B[7]+4249261313&4294967295,M=$+(F<<22&4294967295|F>>>10),F=P+(V^M&($^V))+B[8]+1770035416&4294967295,P=M+(F<<7&4294967295|F>>>25),F=V+($^P&(M^$))+B[9]+2336552879&4294967295,V=P+(F<<12&4294967295|F>>>20),F=$+(M^V&(P^M))+B[10]+4294925233&4294967295,$=V+(F<<17&4294967295|F>>>15),F=M+(P^$&(V^P))+B[11]+2304563134&4294967295,M=$+(F<<22&4294967295|F>>>10),F=P+(V^M&($^V))+B[12]+1804603682&4294967295,P=M+(F<<7&4294967295|F>>>25),F=V+($^P&(M^$))+B[13]+4254626195&4294967295,V=P+(F<<12&4294967295|F>>>20),F=$+(M^V&(P^M))+B[14]+2792965006&4294967295,$=V+(F<<17&4294967295|F>>>15),F=M+(P^$&(V^P))+B[15]+1236535329&4294967295,M=$+(F<<22&4294967295|F>>>10),F=P+($^V&(M^$))+B[1]+4129170786&4294967295,P=M+(F<<5&4294967295|F>>>27),F=V+(M^$&(P^M))+B[6]+3225465664&4294967295,V=P+(F<<9&4294967295|F>>>23),F=$+(P^M&(V^P))+B[11]+643717713&4294967295,$=V+(F<<14&4294967295|F>>>18),F=M+(V^P&($^V))+B[0]+3921069994&4294967295,M=$+(F<<20&4294967295|F>>>12),F=P+($^V&(M^$))+B[5]+3593408605&4294967295,P=M+(F<<5&4294967295|F>>>27),F=V+(M^$&(P^M))+B[10]+38016083&4294967295,V=P+(F<<9&4294967295|F>>>23),F=$+(P^M&(V^P))+B[15]+3634488961&4294967295,$=V+(F<<14&4294967295|F>>>18),F=M+(V^P&($^V))+B[4]+3889429448&4294967295,M=$+(F<<20&4294967295|F>>>12),F=P+($^V&(M^$))+B[9]+568446438&4294967295,P=M+(F<<5&4294967295|F>>>27),F=V+(M^$&(P^M))+B[14]+3275163606&4294967295,V=P+(F<<9&4294967295|F>>>23),F=$+(P^M&(V^P))+B[3]+4107603335&4294967295,$=V+(F<<14&4294967295|F>>>18),F=M+(V^P&($^V))+B[8]+1163531501&4294967295,M=$+(F<<20&4294967295|F>>>12),F=P+($^V&(M^$))+B[13]+2850285829&4294967295,P=M+(F<<5&4294967295|F>>>27),F=V+(M^$&(P^M))+B[2]+4243563512&4294967295,V=P+(F<<9&4294967295|F>>>23),F=$+(P^M&(V^P))+B[7]+1735328473&4294967295,$=V+(F<<14&4294967295|F>>>18),F=M+(V^P&($^V))+B[12]+2368359562&4294967295,M=$+(F<<20&4294967295|F>>>12),F=P+(M^$^V)+B[5]+4294588738&4294967295,P=M+(F<<4&4294967295|F>>>28),F=V+(P^M^$)+B[8]+2272392833&4294967295,V=P+(F<<11&4294967295|F>>>21),F=$+(V^P^M)+B[11]+1839030562&4294967295,$=V+(F<<16&4294967295|F>>>16),F=M+($^V^P)+B[14]+4259657740&4294967295,M=$+(F<<23&4294967295|F>>>9),F=P+(M^$^V)+B[1]+2763975236&4294967295,P=M+(F<<4&4294967295|F>>>28),F=V+(P^M^$)+B[4]+1272893353&4294967295,V=P+(F<<11&4294967295|F>>>21),F=$+(V^P^M)+B[7]+4139469664&4294967295,$=V+(F<<16&4294967295|F>>>16),F=M+($^V^P)+B[10]+3200236656&4294967295,M=$+(F<<23&4294967295|F>>>9),F=P+(M^$^V)+B[13]+681279174&4294967295,P=M+(F<<4&4294967295|F>>>28),F=V+(P^M^$)+B[0]+3936430074&4294967295,V=P+(F<<11&4294967295|F>>>21),F=$+(V^P^M)+B[3]+3572445317&4294967295,$=V+(F<<16&4294967295|F>>>16),F=M+($^V^P)+B[6]+76029189&4294967295,M=$+(F<<23&4294967295|F>>>9),F=P+(M^$^V)+B[9]+3654602809&4294967295,P=M+(F<<4&4294967295|F>>>28),F=V+(P^M^$)+B[12]+3873151461&4294967295,V=P+(F<<11&4294967295|F>>>21),F=$+(V^P^M)+B[15]+530742520&4294967295,$=V+(F<<16&4294967295|F>>>16),F=M+($^V^P)+B[2]+3299628645&4294967295,M=$+(F<<23&4294967295|F>>>9),F=P+($^(M|~V))+B[0]+4096336452&4294967295,P=M+(F<<6&4294967295|F>>>26),F=V+(M^(P|~$))+B[7]+1126891415&4294967295,V=P+(F<<10&4294967295|F>>>22),F=$+(P^(V|~M))+B[14]+2878612391&4294967295,$=V+(F<<15&4294967295|F>>>17),F=M+(V^($|~P))+B[5]+4237533241&4294967295,M=$+(F<<21&4294967295|F>>>11),F=P+($^(M|~V))+B[12]+1700485571&4294967295,P=M+(F<<6&4294967295|F>>>26),F=V+(M^(P|~$))+B[3]+2399980690&4294967295,V=P+(F<<10&4294967295|F>>>22),F=$+(P^(V|~M))+B[10]+4293915773&4294967295,$=V+(F<<15&4294967295|F>>>17),F=M+(V^($|~P))+B[1]+2240044497&4294967295,M=$+(F<<21&4294967295|F>>>11),F=P+($^(M|~V))+B[8]+1873313359&4294967295,P=M+(F<<6&4294967295|F>>>26),F=V+(M^(P|~$))+B[15]+4264355552&4294967295,V=P+(F<<10&4294967295|F>>>22),F=$+(P^(V|~M))+B[6]+2734768916&4294967295,$=V+(F<<15&4294967295|F>>>17),F=M+(V^($|~P))+B[13]+1309151649&4294967295,M=$+(F<<21&4294967295|F>>>11),F=P+($^(M|~V))+B[4]+4149444226&4294967295,P=M+(F<<6&4294967295|F>>>26),F=V+(M^(P|~$))+B[11]+3174756917&4294967295,V=P+(F<<10&4294967295|F>>>22),F=$+(P^(V|~M))+B[2]+718787259&4294967295,$=V+(F<<15&4294967295|F>>>17),F=M+(V^($|~P))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+($+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+$&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var M=P-this.blockSize,B=this.B,$=this.h,V=0;V<P;){if($==0)for(;V<=M;)i(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<P;)if(B[$++]=D.charCodeAt(V++),$==this.blockSize){i(this,B),$=0;break}}else for(;V<P;)if(B[$++]=D[V++],$==this.blockSize){i(this,B),$=0;break}}this.h=$,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var M=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=M&255,M/=256;for(this.u(D),D=Array(16),P=M=0;4>P;++P)for(var B=0;32>B;B+=8)D[M++]=this.g[P]>>>B&255;return D};function s(D,P){var M=a;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=P(D)}function o(D,P){this.h=P;for(var M=[],B=!0,$=D.length-1;0<=$;$--){var V=D[$]|0;B&&V==P||(M[$]=V,B=!1)}this.g=M}var a={};function l(D){return-128<=D&&128>D?s(D,function(P){return new o([P|0],0>P?-1:0)}):new o([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return k(u(-D));for(var P=[],M=1,B=0;D>=M;B++)P[B]=D/M|0,M*=4294967296;return new o(P,0)}function c(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return k(c(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(P,8)),B=f,$=0;$<D.length;$+=8){var V=Math.min(8,D.length-$),F=parseInt(D.substring($,$+V),P);8>V?(V=u(Math.pow(P,V)),B=B.j(V).add(u(F))):(B=B.j(M),B=B.add(u(F)))}return B}var f=l(0),m=l(1),x=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-k(this).m();for(var D=0,P=1,M=0;M<this.g.length;M++){var B=this.i(M);D+=(0<=B?B:4294967296+B)*P,P*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(g(this))return"-"+k(this).toString(D);for(var P=u(Math.pow(D,6)),M=this,B="";;){var $=O(M,P).g;M=E(M,$.j(P));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(D);if(M=$,_(M))return V+B;for(;6>V.length;)V="0"+V;B=V+B}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function g(D){return D.h==-1}t.l=function(D){return D=E(this,D),g(D)?-1:_(D)?0:1};function k(D){for(var P=D.g.length,M=[],B=0;B<P;B++)M[B]=~D.g[B];return new o(M,~D.h).add(m)}t.abs=function(){return g(this)?k(this):this},t.add=function(D){for(var P=Math.max(this.g.length,D.g.length),M=[],B=0,$=0;$<=P;$++){var V=B+(this.i($)&65535)+(D.i($)&65535),F=(V>>>16)+(this.i($)>>>16)+(D.i($)>>>16);B=F>>>16,V&=65535,F&=65535,M[$]=F<<16|V}return new o(M,M[M.length-1]&-2147483648?-1:0)};function E(D,P){return D.add(k(P))}t.j=function(D){if(_(this)||_(D))return f;if(g(this))return g(D)?k(this).j(k(D)):k(k(this).j(D));if(g(D))return k(this.j(k(D)));if(0>this.l(x)&&0>D.l(x))return u(this.m()*D.m());for(var P=this.g.length+D.g.length,M=[],B=0;B<2*P;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var $=0;$<D.g.length;$++){var V=this.i(B)>>>16,F=this.i(B)&65535,se=D.i($)>>>16,ce=D.i($)&65535;M[2*B+2*$]+=F*ce,w(M,2*B+2*$),M[2*B+2*$+1]+=V*ce,w(M,2*B+2*$+1),M[2*B+2*$+1]+=F*se,w(M,2*B+2*$+1),M[2*B+2*$+2]+=V*se,w(M,2*B+2*$+2)}for(B=0;B<P;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=P;B<2*P;B++)M[B]=0;return new o(M,0)};function w(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function S(D,P){this.g=D,this.h=P}function O(D,P){if(_(P))throw Error("division by zero");if(_(D))return new S(f,f);if(g(D))return P=O(k(D),P),new S(k(P.g),k(P.h));if(g(P))return P=O(D,k(P)),new S(k(P.g),P.h);if(30<D.g.length){if(g(D)||g(P))throw Error("slowDivide_ only works with positive integers.");for(var M=m,B=P;0>=B.l(D);)M=L(M),B=L(B);var $=R(M,1),V=R(B,1);for(B=R(B,2),M=R(M,2);!_(B);){var F=V.add(B);0>=F.l(D)&&($=$.add(M),V=F),B=R(B,1),M=R(M,1)}return P=E(D,$.j(P)),new S($,P)}for($=f;0<=D.l(P);){for(M=Math.max(1,Math.floor(D.m()/P.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),V=u(M),F=V.j(P);g(F)||0<F.l(D);)M-=B,V=u(M),F=V.j(P);_(V)&&(V=m),$=$.add(V),D=E(D,F)}return new S($,D)}t.A=function(D){return O(this,D).h},t.and=function(D){for(var P=Math.max(this.g.length,D.g.length),M=[],B=0;B<P;B++)M[B]=this.i(B)&D.i(B);return new o(M,this.h&D.h)},t.or=function(D){for(var P=Math.max(this.g.length,D.g.length),M=[],B=0;B<P;B++)M[B]=this.i(B)|D.i(B);return new o(M,this.h|D.h)},t.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),M=[],B=0;B<P;B++)M[B]=this.i(B)^D.i(B);return new o(M,this.h^D.h)};function L(D){for(var P=D.g.length+1,M=[],B=0;B<P;B++)M[B]=D.i(B)<<1|D.i(B-1)>>>31;return new o(M,D.h)}function R(D,P){var M=P>>5;P%=32;for(var B=D.g.length-M,$=[],V=0;V<B;V++)$[V]=0<P?D.i(V+M)>>>P|D.i(V+M+1)<<32-P:D.i(V+M);return new o($,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,f4=o}).apply(typeof nC<"u"?nC:typeof self<"u"?self:typeof window<"u"?window:{});var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,A){return d==Array.prototype||d==Object.prototype||(d[b]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mp=="object"&&Mp];for(var b=0;b<d.length;++b){var A=d[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var A=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var Q=d[U];if(!(Q in A))break e;A=A[Q]}d=d[d.length-1],U=A[d],b=b(U),b!=U&&b!=null&&e(A,d,{configurable:!0,writable:!0,value:b})}}function s(d,b){d instanceof String&&(d+="");var A=0,U=!1,Q={next:function(){if(!U&&A<d.length){var ne=A++;return{value:b(ne,d[ne]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return s(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function c(d,b,A){return d.call.apply(d.bind,arguments)}function f(d,b,A){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,U),d.apply(b,Q)}}return function(){return d.apply(b,arguments)}}function m(d,b,A){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,m.apply(null,arguments)}function x(d,b){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function _(d,b){function A(){}A.prototype=b.prototype,d.aa=b.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(U,Q,ne){for(var ge=Array(arguments.length-2),St=2;St<arguments.length;St++)ge[St-2]=arguments[St];return b.prototype[Q].apply(U,ge)}}function g(d){const b=d.length;if(0<b){const A=Array(b);for(let U=0;U<b;U++)A[U]=d[U];return A}return[]}function k(d,b){for(let A=1;A<arguments.length;A++){const U=arguments[A];if(l(U)){const Q=d.length||0,ne=U.length||0;d.length=Q+ne;for(let ge=0;ge<ne;ge++)d[Q+ge]=U[ge]}else d.push(U)}}class E{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function O(d){return O[" "](d),d}O[" "]=function(){};var L=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(d,b,A){for(const U in d)b.call(A,d[U],U,d)}function D(d,b){for(const A in d)b.call(void 0,d[A],A,d)}function P(d){const b={};for(const A in d)b[A]=d[A];return b}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,b){let A,U;for(let Q=1;Q<arguments.length;Q++){U=arguments[Q];for(A in U)d[A]=U[A];for(let ne=0;ne<M.length;ne++)A=M[ne],Object.prototype.hasOwnProperty.call(U,A)&&(d[A]=U[A])}}function $(d){var b=1;d=d.split(":");const A=[];for(;0<b&&d.length;)A.push(d.shift()),b--;return d.length&&A.push(d.join(":")),A}function V(d){a.setTimeout(()=>{throw d},0)}function F(){var d=fe;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class se{constructor(){this.h=this.g=null}add(b,A){const U=ce.get();U.set(b,A),this.h?this.h.next=U:this.g=U,this.h=U}}var ce=new E(()=>new ue,d=>d.reset());class ue{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ee=!1,fe=new se,ye=()=>{const d=a.Promise.resolve(void 0);le=()=>{d.then(ke)}};var ke=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(A){V(A)}var b=ce;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}ee=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};a.addEventListener("test",A,b),a.removeEventListener("test",A,b)}catch{}return d}();function Ve(d,b){if(De.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(L){e:{try{O(b.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(b=null)}}else A=="mouseover"?b=d.fromElement:A=="mouseout"&&(b=d.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:qe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ve.aa.h.call(this)}}_(Ve,De);var qe={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function Lt(d,b,A,U,Q){this.listener=d,this.proxy=null,this.src=b,this.type=A,this.capture=!!U,this.ha=Q,this.key=++Qt,this.da=this.fa=!1}function Jt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ze(d){this.src=d,this.g={},this.h=0}Ze.prototype.add=function(d,b,A,U,Q){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var ge=Ne(d,b,U,Q);return-1<ge?(b=d[ge],A||(b.fa=!1)):(b=new Lt(b,this.src,ne,!!U,Q),b.fa=A,d.push(b)),b};function $e(d,b){var A=b.type;if(A in d.g){var U=d.g[A],Q=Array.prototype.indexOf.call(U,b,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(U,Q,1),ne&&(Jt(b),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Ne(d,b,A,U){for(var Q=0;Q<d.length;++Q){var ne=d[Q];if(!ne.da&&ne.listener==b&&ne.capture==!!A&&ne.ha==U)return Q}return-1}var st="closure_lm_"+(1e6*Math.random()|0),gt={};function gn(d,b,A,U,Q){if(Array.isArray(b)){for(var ne=0;ne<b.length;ne++)gn(d,b[ne],A,U,Q);return null}return A=Zt(A),d&&d[Pt]?d.K(b,A,u(U)?!!U.capture:!!U,Q):Fn(d,b,A,!1,U,Q)}function Fn(d,b,A,U,Q,ne){if(!b)throw Error("Invalid event type");var ge=u(Q)?!!Q.capture:!!Q,St=cn(d);if(St||(d[st]=St=new Ze(d)),A=St.add(b,A,U,ge,ne),A.proxy)return A;if(U=$t(),A.proxy=U,U.src=d,U.listener=A,d.addEventListener)Ie||(Q=ge),Q===void 0&&(Q=!1),d.addEventListener(b.toString(),U,Q);else if(d.attachEvent)d.attachEvent(Tt(b.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function $t(){function d(A){return b.call(d.src,d.listener,A)}const b=Gn;return d}function yn(d,b,A,U,Q){if(Array.isArray(b))for(var ne=0;ne<b.length;ne++)yn(d,b[ne],A,U,Q);else U=u(U)?!!U.capture:!!U,A=Zt(A),d&&d[Pt]?(d=d.i,b=String(b).toString(),b in d.g&&(ne=d.g[b],A=Ne(ne,A,U,Q),-1<A&&(Jt(ne[A]),Array.prototype.splice.call(ne,A,1),ne.length==0&&(delete d.g[b],d.h--)))):d&&(d=cn(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ne(b,A,U,Q)),(A=-1<d?b[d]:null)&&Fe(A))}function Fe(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Pt])$e(b.i,d);else{var A=d.type,U=d.proxy;b.removeEventListener?b.removeEventListener(A,U,d.capture):b.detachEvent?b.detachEvent(Tt(A),U):b.addListener&&b.removeListener&&b.removeListener(U),(A=cn(b))?($e(A,d),A.h==0&&(A.src=null,b[st]=null)):Jt(d)}}}function Tt(d){return d in gt?gt[d]:gt[d]="on"+d}function Gn(d,b){if(d.da)d=!0;else{b=new Ve(b,this);var A=d.listener,U=d.ha||d.src;d.fa&&Fe(d),d=A.call(U,b)}return d}function cn(d){return d=d[st],d instanceof Ze?d:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zt(d){return typeof d=="function"?d:(d[nt]||(d[nt]=function(b){return d.handleEvent(b)}),d[nt])}function yt(){Se.call(this),this.i=new Ze(this),this.M=this,this.F=null}_(yt,Se),yt.prototype[Pt]=!0,yt.prototype.removeEventListener=function(d,b,A,U){yn(this,d,b,A,U)};function dt(d,b){var A,U=d.F;if(U)for(A=[];U;U=U.F)A.push(U);if(d=d.M,U=b.type||b,typeof b=="string")b=new De(b,d);else if(b instanceof De)b.target=b.target||d;else{var Q=b;b=new De(U,d),B(b,Q)}if(Q=!0,A)for(var ne=A.length-1;0<=ne;ne--){var ge=b.g=A[ne];Q=We(ge,U,!0,b)&&Q}if(ge=b.g=d,Q=We(ge,U,!0,b)&&Q,Q=We(ge,U,!1,b)&&Q,A)for(ne=0;ne<A.length;ne++)ge=b.g=A[ne],Q=We(ge,U,!1,b)&&Q}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var A=d.g[b],U=0;U<A.length;U++)Jt(A[U]);delete d.g[b],d.h--}}this.F=null},yt.prototype.K=function(d,b,A,U){return this.i.add(String(d),b,!1,A,U)},yt.prototype.L=function(d,b,A,U){return this.i.add(String(d),b,!0,A,U)};function We(d,b,A,U){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var Q=!0,ne=0;ne<b.length;++ne){var ge=b[ne];if(ge&&!ge.da&&ge.capture==A){var St=ge.listener,An=ge.ha||ge.src;ge.fa&&$e(d.i,ge),Q=St.call(An,U)!==!1&&Q}}return Q&&!U.defaultPrevented}function Ee(d,b,A){if(typeof d=="function")A&&(d=m(d,A));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function Bn(d){d.g=Ee(()=>{d.g=null,d.i&&(d.i=!1,Bn(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class gr extends Se{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function et(d){Se.call(this),this.h=d,this.g={}}_(et,Se);var we=[];function ut(d){R(d.g,function(b,A){this.g.hasOwnProperty(A)&&Fe(b)},d),d.g={}}et.prototype.N=function(){et.aa.N.call(this),ut(this)},et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mt=a.JSON.stringify,Yr=a.JSON.parse,$o=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function zo(){}zo.prototype.h=null;function Js(d){return d.h||(d.h=d.i())}function tu(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vs(){De.call(this,"d")}_(vs,De);function Zs(){De.call(this,"c")}_(Zs,De);var _s={},$a=null;function Ho(){return $a=$a||new yt}_s.La="serverreachability";function za(d){De.call(this,_s.La,d)}_(za,De);function Ki(d){const b=Ho();dt(b,new za(b))}_s.STAT_EVENT="statevent";function eo(d,b){De.call(this,_s.STAT_EVENT,d),this.stat=b}_(eo,De);function Rn(d){const b=Ho();dt(b,new eo(b,d))}_s.Ma="timingevent";function nu(d,b){De.call(this,_s.Ma,d),this.size=b}_(nu,De);function K(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function Z(d,b,A,U,Q,ne){d.info(function(){if(d.g)if(ne)for(var ge="",St=ne.split("&"),An=0;An<St.length;An++){var ht=St[An].split("=");if(1<ht.length){var Un=ht[0];ht=ht[1];var jn=Un.split("_");ge=2<=jn.length&&jn[1]=="type"?ge+(Un+"="+ht+"&"):ge+(Un+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+U+") [attempt "+Q+"]: "+b+`
`+A+`
`+ge})}function re(d,b,A,U,Q,ne,ge){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Q+"]: "+b+`
`+A+`
`+ne+" "+ge})}function _e(d,b,A,U){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Pe(d,A)+(U?" "+U:"")})}function Ce(d,b){d.info(function(){return"TIMEOUT: "+b})}X.prototype.info=function(){};function Pe(d,b){if(!d.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var U=A[d];if(!(2>U.length)){var Q=U[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Mt(A)}catch{return b}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},me;function Ae(){}_(Ae,zo),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},me=new Ae;function Xe(d,b,A,U){this.j=d,this.i=b,this.l=A,this.R=U||1,this.U=new et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}var vt={},Ye={};function ze(d,b,A){d.L=1,d.v=su(Pr(b)),d.m=A,d.P=!0,Ft(d,null)}function Ft(d,b){d.F=Date.now(),Jr(d),d.A=Pr(d.v);var A=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),rp(A.i,"t",U),d.C=0,A=d.j.J,d.h=new tt,d.g=Es(d.j,A?b:null,!d.m),0<d.O&&(d.M=new gr(m(d.Y,d,d.g),d.O)),b=d.U,A=d.g,U=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(we[0]=Q.toString()),Q=we);for(var ne=0;ne<Q.length;ne++){var ge=gn(A,Q[ne],U||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Ki(),Z(d.i,d.u,d.A,d.l,d.R,d.m)}Xe.prototype.ca=function(d){d=d.target;const b=this.M;b&&Rr(d)==3?b.j():this.Y(d)},Xe.prototype.Y=function(d){try{if(d==this.g)e:{const jn=Rr(this.g);var b=this.g.Ba();const so=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||lp(this.g)))){this.J||jn!=4||b==7||(b==8||0>=so?Ki(3):Ki(2)),Zr(this);var A=this.g.Z();this.X=A;t:if(Qr(this)){var U=lp(this.g);d="";var Q=U.length,ne=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Cn(this);var ge="";break t}this.h.i=new a.TextDecoder}for(b=0;b<Q;b++)this.h.h=!0,d+=this.h.i.decode(U[b],{stream:!(ne&&b==Q-1)});U.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=A==200,re(this.i,this.u,this.A,this.l,this.R,jn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var St,An=this.g;if((St=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(St)){var ht=St;break t}}ht=null}if(A=ht)_e(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yi(this,A);else{this.o=!1,this.s=3,Rn(12),nr(this),Cn(this);break e}}if(this.P){A=!0;let ni;for(;!this.J&&this.C<ge.length;)if(ni=Ti(this,ge),ni==Ye){jn==4&&(this.s=4,Rn(14),A=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==vt){this.s=4,Rn(15),_e(this.i,this.l,ge,"[Invalid Chunk]"),A=!1;break}else _e(this.i,this.l,ni,null),Yi(this,ni);if(Qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||ge.length!=0||this.h.h||(this.s=1,Rn(16),A=!1),this.o=this.o&&A,!A)_e(this.i,this.l,ge,"[Invalid Chunked Response]"),nr(this),Cn(this);else if(0<ge.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ad(Un),Un.M=!0,Rn(11))}}else _e(this.i,this.l,ge,null),Yi(this,ge);jn==4&&nr(this),this.o&&!this.J&&(jn==4?fu(this.j,this):(this.o=!1,Jr(this)))}else rv(this.g),A==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),nr(this),Cn(this)}}}catch{}finally{}};function Qr(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ti(d,b){var A=d.C,U=b.indexOf(`
`,A);return U==-1?Ye:(A=Number(b.substring(A,U)),isNaN(A)?vt:(U+=1,U+A>b.length?Ye:(b=b.slice(U,U+A),d.C=U+A,b)))}Xe.prototype.cancel=function(){this.J=!0,nr(this)};function Jr(d){d.S=Date.now()+d.I,Xi(d,d.I)}function Xi(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=K(m(d.ba,d),b)}function Zr(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Xe.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ce(this.i,this.A),this.L!=2&&(Ki(),Rn(17)),nr(this),this.s=2,Cn(this)):Xi(this,this.S-d)};function Cn(d){d.j.G==0||d.J||fu(d.j,d)}function nr(d){Zr(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,ut(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function Yi(d,b){try{var A=d.j;if(A.G!=0&&(A.g==d||pt(A.h,d))){if(!d.K&&pt(A.h,d)&&A.G==3){try{var U=A.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Q=U;if(Q[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)hu(A),ro(A);else break e;Cd(A),Rn(18)}}else A.za=Q[1],0<A.za-A.T&&37500>Q[2]&&A.F&&A.v==0&&!A.C&&(A.C=K(m(A.Za,A),6e3));if(1>=vn(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ti(A,11)}else if((d.K||A.g==d)&&hu(A),!w(b))for(Q=A.Da.g.parse(b),b=0;b<Q.length;b++){let ht=Q[b];if(A.T=ht[0],ht=ht[1],A.G==2)if(ht[0]=="c"){A.K=ht[1],A.ia=ht[2];const Un=ht[3];Un!=null&&(A.la=Un,A.j.info("VER="+A.la));const jn=ht[4];jn!=null&&(A.Aa=jn,A.j.info("SVER="+A.Aa));const so=ht[5];so!=null&&typeof so=="number"&&0<so&&(U=1.5*so,A.L=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const ni=d.g;if(ni){const gu=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var ne=U.h;ne.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(On(ne,ne.h),ne.h=null))}if(U.D){const yu=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(U.ya=yu,ot(U.I,U.D,yu))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),U=A;var ge=d;if(U.qa=Ya(U,U.J?U.ia:null,U.W),ge.K){Qi(U.h,ge);var St=ge,An=U.L;An&&(St.I=An),St.B&&(Zr(St),Jr(St)),U.g=ge}else wd(U);0<A.i.length&&Ss(A)}else ht[0]!="stop"&&ht[0]!="close"||ti(A,7);else A.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ti(A,7):Ed(A):ht[0]!="noop"&&A.l&&A.l.ta(ht),A.v=0)}}Ki(4)}catch{}}var Vo=class{constructor(d,b){this.g=d,this.map=b}};function Ge(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vn(d){return d.h?1:d.g?d.g.size:0}function pt(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function On(d,b){d.g?d.g.add(b):d.h=b}function Qi(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Ge.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bs(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const A of d.g.values())b=b.concat(A.D);return b}return g(d.i)}function Ha(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],A=d.length,U=0;U<A;U++)b.push(d[U]);return b}b=[],A=0;for(U in d)b[A++]=d[U];return b}function Yy(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var A=0;A<d;A++)b.push(A);return b}b=[],A=0;for(const U in d)b[A++]=U;return b}}}function gd(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var A=Yy(d),U=Ha(d),Q=U.length,ne=0;ne<Q;ne++)b.call(void 0,U[ne],A&&A[ne],d)}var tp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qy(d,b){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var U=d[A].indexOf("="),Q=null;if(0<=U){var ne=d[A].substring(0,U);Q=d[A].substring(U+1)}else ne=d[A];b(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function rr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof rr){this.h=d.h,ru(this,d.j),this.o=d.o,this.g=d.g,qo(this,d.s),this.l=d.l;var b=d.i,A=new Va;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),iu(this,A),this.m=d.m}else d&&(b=String(d).match(tp))?(this.h=!1,ru(this,b[1]||"",!0),this.o=Ts(b[2]||""),this.g=Ts(b[3]||"",!0),qo(this,b[4]),this.l=Ts(b[5]||"",!0),iu(this,b[6]||"",!0),this.m=Ts(b[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}rr.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Ji(b,to,!0),":");var A=this.g;return(A||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Ji(b,to,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Ji(A,A.charAt(0)=="/"?np:yd,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Ji(A,Jy)),d.join("")};function Pr(d){return new rr(d)}function ru(d,b,A){d.j=A?Ts(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function qo(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function iu(d,b,A){b instanceof Va?(d.i=b,Zy(d.i,d.h)):(A||(b=Ji(b,vd)),d.i=new Va(b,d.h))}function ot(d,b,A){d.i.set(b,A)}function su(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ts(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ji(d,b,A){return typeof d=="string"?(d=encodeURI(d).replace(b,ou),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ou(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var to=/[#\/\?@]/g,yd=/[#\?:]/g,np=/[#\?]/g,vd=/[#\?@]/g,Jy=/#/g;function Va(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function xs(d){d.g||(d.g=new Map,d.h=0,d.i&&Qy(d.i,function(b,A){d.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=Va.prototype,t.add=function(d,b){xs(this),this.i=null,d=no(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(b),this.h+=1,this};function qa(d,b){xs(d),b=no(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function _d(d,b){return xs(d),b=no(d,b),d.g.has(b)}t.forEach=function(d,b){xs(this),this.g.forEach(function(A,U){A.forEach(function(Q){d.call(b,Q,U,this)},this)},this)},t.na=function(){xs(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let U=0;U<b.length;U++){const Q=d[U];for(let ne=0;ne<Q.length;ne++)A.push(b[U])}return A},t.V=function(d){xs(this);let b=[];if(typeof d=="string")_d(this,d)&&(b=b.concat(this.g.get(no(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)b=b.concat(d[A])}return b},t.set=function(d,b){return xs(this),this.i=null,d=no(this,d),_d(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function rp(d,b,A){qa(d,b),0<A.length&&(d.i=null,d.g.set(no(d,b),g(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var U=b[A];const ne=encodeURIComponent(String(U)),ge=this.V(U);for(U=0;U<ge.length;U++){var Q=ne;ge[U]!==""&&(Q+="="+encodeURIComponent(String(ge[U]))),d.push(Q)}}return this.i=d.join("&")};function no(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Zy(d,b){b&&!d.j&&(xs(d),d.i=null,d.g.forEach(function(A,U){var Q=U.toLowerCase();U!=Q&&(qa(this,U),rp(this,Q,A))},d)),d.j=b}function ip(d,b){const A=new X;if(a.Image){const U=new Image;U.onload=x(ei,A,"TestLoadImage: loaded",!0,b,U),U.onerror=x(ei,A,"TestLoadImage: error",!1,b,U),U.onabort=x(ei,A,"TestLoadImage: abort",!1,b,U),U.ontimeout=x(ei,A,"TestLoadImage: timeout",!1,b,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else b(!1)}function ev(d,b){const A=new X,U=new AbortController,Q=setTimeout(()=>{U.abort(),ei(A,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:U.signal}).then(ne=>{clearTimeout(Q),ne.ok?ei(A,"TestPingServer: ok",!0,b):ei(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),ei(A,"TestPingServer: error",!1,b)})}function ei(d,b,A,U,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),U(A)}catch{}}function Wa(){this.g=new $o}function sp(d,b,A){const U=A||"";try{gd(d,function(Q,ne){let ge=Q;u(Q)&&(ge=Mt(Q)),b.push(U+ne+"="+encodeURIComponent(ge))})}catch(Q){throw b.push(U+"type="+encodeURIComponent("_badmap")),Q}}function au(d){this.l=d.Ub||null,this.j=d.eb||!1}_(au,zo),au.prototype.g=function(){return new lu(this.l,this.j)},au.prototype.i=function(d){return function(){return d}}({});function lu(d,b){yt.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(lu,yt),t=lu.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,Ga(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Wo(this):Ga(this),this.readyState==3&&bd(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Wo(this))},t.Qa=function(d){this.g&&(this.response=d,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ga(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=b.next();return d.join(`\r
`)};function Ga(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Td(d){let b="";return R(d,function(A,U){b+=U,b+=":",b+=A,b+=`\r
`}),b}function xd(d,b,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=Td(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):ot(d,b,A))}function en(d){yt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(en,yt);var tv=/^https?$/i,nv=["POST","PUT"];t=en.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():me.g(),this.v=this.o?Js(this.o):Js(me),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(ne){op(this,ne);return}if(d=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Q in U)A.set(Q,U[Q]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ne of U.keys())A.set(ne,U.get(ne));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nv,b,void 0))||U||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of A)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sd(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){op(this,ne)}};function op(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,ap(d),cu(d)}function ap(d){d.A||(d.A=!0,dt(d,"complete"),dt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,dt(this,"complete"),dt(this,"abort"),cu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cu(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uu(this):this.bb())},t.bb=function(){uu(this)};function uu(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Rr(d)!=4||d.Z()!=2)){if(d.u&&Rr(d)==4)Ee(d.Ea,0,d);else if(dt(d,"readystatechange"),Rr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var U;if(U=ge===0){var Q=String(d.D).match(tp)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),U=!tv.test(Q?Q.toLowerCase():"")}A=U}if(A)dt(d,"complete"),dt(d,"success");else{d.m=6;try{var ne=2<Rr(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",ap(d)}}finally{cu(d)}}}}function cu(d,b){if(d.g){Sd(d);const A=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||dt(d,"ready");try{A.onreadystatechange=U}catch{}}}function Sd(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Rr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Yr(b)}};function lp(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function rv(d){const b={};d=(d.g&&2<=Rr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(w(d[U]))continue;var A=$(d[U]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ne=b[Q]||[];b[Q]=ne,ne.push(A)}D(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(d,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||b}function up(d){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,d),this.cb=Ka("retryDelaySeedMs",1e4,d),this.Wa=Ka("forwardChannelMaxRetries",2,d),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(d&&d.concurrentRequestLimit),this.Da=new Wa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=up.prototype,t.la=8,t.G=1,t.connect=function(d,b,A,U){Rn(0),this.W=d,this.H=b||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.I=Ya(this,null,this.W),Ss(this)};function Ed(d){if(Go(d),d.G==3){var b=d.U++,A=Pr(d.I);if(ot(A,"SID",d.K),ot(A,"RID",b),ot(A,"TYPE","terminate"),yr(d,A),b=new Xe(d,d.j,b),b.L=2,b.v=su(Pr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=b.v,A=!0),A||(b.g=Es(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Jr(b)}io(d)}function ro(d){d.g&&(Ad(d),d.g.cancel(),d.g=null)}function Go(d){ro(d),d.u&&(a.clearTimeout(d.u),d.u=null),hu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Ss(d){if(!xt(d.h)&&!d.s){d.s=!0;var b=d.Ga;le||ye(),ee||(le(),ee=!0),fe.add(b,d),d.B=0}}function du(d,b){return vn(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=K(m(d.Ga,d,b),pu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Xe(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=P(ne),B(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=Xa(this,Q,b),A=Pr(this.I),ot(A,"RID",d),ot(A,"CVER",22),this.D&&ot(A,"X-HTTP-Session-Id",this.D),yr(this,A),ne&&(this.O?b="headers="+encodeURIComponent(String(Td(ne)))+"&"+b:this.m&&xd(A,this.m,ne)),On(this.h,Q),this.Ua&&ot(A,"TYPE","init"),this.P?(ot(A,"$req",b),ot(A,"SID","null"),Q.T=!0,ze(Q,A,null)):ze(Q,A,b),this.G=2}}else this.G==3&&(d?Or(this,d):this.i.length==0||xt(this.h)||Or(this))};function Or(d,b){var A;b?A=b.l:A=d.U++;const U=Pr(d.I);ot(U,"SID",d.K),ot(U,"RID",A),ot(U,"AID",d.T),yr(d,U),d.m&&d.o&&xd(U,d.m,d.o),A=new Xe(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),b&&(d.i=b.D.concat(d.i)),b=Xa(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),On(d.h,A),ze(A,U,b)}function yr(d,b){d.H&&R(d.H,function(A,U){ot(b,U,A)}),d.l&&gd({},function(A,U){ot(b,U,A)})}function Xa(d,b,A){A=Math.min(d.i.length,A);var U=d.l?m(d.l.Na,d.l,d):null;e:{var Q=d.i;let ne=-1;for(;;){const ge=["count="+A];ne==-1?0<A?(ne=Q[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let St=!0;for(let An=0;An<A;An++){let ht=Q[An].g;const Un=Q[An].map;if(ht-=ne,0>ht)ne=Math.max(0,Q[An].g-100),St=!1;else try{sp(Un,ge,"req"+ht+"_")}catch{U&&U(Un)}}if(St){U=ge.join("&");break e}}}return d=d.i.splice(0,A),b.D=d,U}function wd(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;le||ye(),ee||(le(),ee=!0),fe.add(b,d),d.v=0}}function Cd(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=K(m(d.Fa,d),pu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,cp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=K(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),ro(this),cp(this))};function Ad(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function cp(d){d.g=new Xe(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=Pr(d.qa);ot(b,"RID","rpc"),ot(b,"SID",d.K),ot(b,"AID",d.T),ot(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(b,"TO",d.ja),ot(b,"TYPE","xmlhttp"),yr(d,b),d.m&&d.o&&xd(b,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=su(Pr(b)),A.m=null,A.P=!0,Ft(A,d)}t.Za=function(){this.C!=null&&(this.C=null,ro(this),Cd(this),Rn(19))};function hu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function fu(d,b){var A=null;if(d.g==b){hu(d),Ad(d),d.g=null;var U=2}else if(pt(d.h,b))A=b.D,Qi(d.h,b),U=1;else return;if(d.G!=0){if(b.o)if(U==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var Q=d.B;U=Ho(),dt(U,new nu(U,A)),Ss(d)}else wd(d);else if(Q=b.s,Q==3||Q==0&&0<b.X||!(U==1&&du(d,b)||U==2&&Cd(d)))switch(A&&0<A.length&&(b=d.h,b.i=b.i.concat(A)),Q){case 1:ti(d,5);break;case 4:ti(d,10);break;case 3:ti(d,6);break;default:ti(d,2)}}}function pu(d,b){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*b}function ti(d,b){if(d.j.info("Error code "+b),b==2){var A=m(d.fb,d),U=d.Xa;const Q=!U;U=new rr(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ru(U,"https"),su(U),Q?ip(U.toString(),A):ev(U.toString(),A)}else Rn(2);d.G=0,d.l&&d.l.sa(b),io(d),Go(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function io(d){if(d.G=0,d.ka=[],d.l){const b=bs(d.h);(b.length!=0||d.i.length!=0)&&(k(d.ka,b),k(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function Ya(d,b,A){var U=A instanceof rr?Pr(A):new rr(A);if(U.g!="")b&&(U.g=b+"."+U.g),qo(U,U.s);else{var Q=a.location;U=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new rr(null);U&&ru(ne,U),b&&(ne.g=b),Q&&qo(ne,Q),A&&(ne.l=A),U=ne}return A=d.D,b=d.ya,A&&b&&ot(U,A,b),ot(U,"VER",d.la),yr(d,U),U}function Es(d,b,A){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new en(new au({eb:A})):new en(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}t=dp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vr(d,b){yt.call(this),this.g=new up(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!w(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ko(this)}_(vr,yt),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Ed(this.g)},vr.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Mt(d),d=A);b.i.push(new Vo(b.Ya++,d)),b.G==3&&Ss(b)},vr.prototype.N=function(){this.g.l=null,delete this.j,Ed(this.g),delete this.g,vr.aa.N.call(this)};function Id(d){vs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const A in b){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}_(Id,vs);function mu(){Zs.call(this),this.status=1}_(mu,Zs);function Ko(d){this.g=d}_(Ko,dp),Ko.prototype.ua=function(){dt(this.g,"a")},Ko.prototype.ta=function(d){dt(this.g,new Id(d))},Ko.prototype.sa=function(d){dt(this.g,new mu)},Ko.prototype.ra=function(){dt(this.g,"b")},vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Be.COMPLETE="complete",tu.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",yt.prototype.listen=yt.prototype.K,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});const rC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new c0("@firebase/firestore");function ci(t,...e){if(kc.logLevel<=Et.DEBUG){const n=e.map(vT);kc.debug(`Firestore (${$f}): ${t}`,...n)}}function yT(t,...e){if(kc.logLevel<=Et.ERROR){const n=e.map(vT);kc.error(`Firestore (${$f}): ${t}`,...n)}}function eH(t,...e){if(kc.logLevel<=Et.WARN){const n=e.map(vT);kc.warn(`Firestore (${$f}): ${t}`,...n)}}function vT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t="Unexpected state"){const e=`FIRESTORE (${$f}) INTERNAL ASSERTION FAILED: `+t;throw yT(e),new Error(e)}function H1(t,e){t||_T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cr extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class nH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rH{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new dc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dc,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ci("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ci("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dc)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ci("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H1(typeof r.accessToken=="string"),new p4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H1(e===null||typeof e=="string"),new ar(e)}}class iH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ci("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ci("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ci("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ci("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(H1(typeof n.token=="string"),this.R=n.token,new oH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function m4(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class cg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iC,ft;(ft=iC||(iC={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new f4([4294967295,4294967295],0);function Xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ci("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new cr(ur.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hH(t,e){if(yT("AsyncQueue",`${e}: ${t}`),m4(t))return new cr(ur.UNAVAILABLE,`${e}: ${t}`);throw t}var sC,oC;(oC=sC||(sC={})).J_="default",oC.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=uH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ci("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ci("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new cr(ur.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hH(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Map;function pH(t,e,n,r){if(e===!0&&r===!0)throw new cr(ur.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mH(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_T()}function gH(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new cr(ur.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mH(t);throw new cr(ur.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new cr(ur.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new cr(ur.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new cr(ur.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new cr(ur.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new cr(ur.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y4{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new cr(ur.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new cr(ur.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tH;switch(r.type){case"firstParty":return new sH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new cr(ur.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aC.get(n);r&&(ci("ComponentProvider","Removing Datastore"),aC.delete(n),r.terminate())}(this),Promise.resolve()}}function yH(t,e,n,r={}){var i;const s=(t=gH(t,y4))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eH("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ar.MOCK_USER;else{a=Q6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new cr(ur.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ar(u)}t._authCredentials=new nH(new p4(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new dH(this,"async_queue_retry"),this.hu=()=>{const n=Xv();n&&ci("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Xv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new dc;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!m4(e))throw e;ci("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw yT("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=bT.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&_T()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class _H extends y4{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vH}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TH(this),this._firestoreClient.terminate()}}function bH(t,e){const n=typeof t=="object"?t:PP(),r=typeof t=="string"?t:"(default)",i=Pf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=X6("firestore");s&&yH(i,...s)}return i}function TH(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new cH(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,g4(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(e,n=!0){(function(i){$f=i})(Xc),qs(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _H(new rH(r.getProvider("auth-internal")),new aH(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new cr(ur.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cg(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ri(rC,"4.6.3",e),Ri(rC,"4.6.3","esm2017")})();const v4="@firebase/installations",TT="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1e4,b4=`w:${TT}`,T4="FIS_v2",xH="https://firebaseinstallations.googleapis.com/v1",SH=60*60*1e3,EH="installations",wH="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ul=new Gl(EH,wH,CH);function x4(t){return t instanceof ps&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4({projectId:t}){return`${xH}/projects/${t}/installations`}function E4(t){return{token:t.token,requestStatus:2,expiresIn:IH(t.expiresIn),creationTime:Date.now()}}async function w4(t,e){const r=(await e.json()).error;return Ul.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function C4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AH(t,{refreshToken:e}){const n=C4(t);return n.append("Authorization",kH(e)),n}async function A4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IH(t){return Number(t.replace("s","000"))}function kH(t){return`${T4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=S4(t),i=C4(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:T4,appId:t.appId,sdkVersion:b4},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await A4(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:E4(u.authToken)}}else throw await w4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=/^[cdef][\w-]{21}$/,V1="";function OH(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=LH(t);return RH.test(n)?n:V1}catch{return V1}}function LH(t){return PH(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Map;function D4(t,e){const n=Y0(t);P4(n,e),NH(n,e)}function P4(t,e){const n=k4.get(t);if(n)for(const r of n)r(e)}function NH(t,e){const n=MH();n&&n.postMessage({key:t,fid:e}),FH()}let gl=null;function MH(){return!gl&&"BroadcastChannel"in self&&(gl=new BroadcastChannel("[Firebase] FID Change"),gl.onmessage=t=>{P4(t.data.key,t.data.fid)}),gl}function FH(){k4.size===0&&gl&&(gl.close(),gl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="firebase-installations-database",UH=1,jl="firebase-installations-store";let Yv=null;function xT(){return Yv||(Yv=kP(BH,UH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jl)}}})),Yv}async function dg(t,e){const n=Y0(t),i=(await xT()).transaction(jl,"readwrite"),s=i.objectStore(jl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&D4(t,e.fid),e}async function R4(t){const e=Y0(t),r=(await xT()).transaction(jl,"readwrite");await r.objectStore(jl).delete(e),await r.done}async function Q0(t,e){const n=Y0(t),i=(await xT()).transaction(jl,"readwrite"),s=i.objectStore(jl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&D4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t){let e;const n=await Q0(t.appConfig,r=>{const i=jH(r),s=$H(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===V1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function jH(t){const e=t||{fid:OH(),registrationStatus:0};return O4(e)}function $H(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ul.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HH(t)}:{installationEntry:e}}async function zH(t,e){try{const n=await DH(t,e);return dg(t.appConfig,n)}catch(n){throw x4(n)&&n.customData.serverCode===409?await R4(t.appConfig):await dg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function HH(t){let e=await uC(t.appConfig);for(;e.registrationStatus===1;)await I4(100),e=await uC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ST(t);return r||n}return e}function uC(t){return Q0(t,e=>{if(!e)throw Ul.create("installation-not-found");return O4(e)})}function O4(t){return VH(t)?{fid:t.fid,registrationStatus:0}:t}function VH(t){return t.registrationStatus===1&&t.registrationTime+_4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qH({appConfig:t,heartbeatServiceProvider:e},n){const r=WH(t,n),i=AH(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:b4,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await A4(()=>fetch(r,a));if(l.ok){const u=await l.json();return E4(u)}else throw await w4("Generate Auth Token",l)}function WH(t,{fid:e}){return`${S4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(t,e=!1){let n;const r=await Q0(t.appConfig,s=>{if(!L4(s))throw Ul.create("not-registered");const o=s.authToken;if(!e&&XH(o))return s;if(o.requestStatus===1)return n=GH(t,e),s;{if(!navigator.onLine)throw Ul.create("app-offline");const a=QH(s);return n=KH(t,a),a}});return n?await n:r.authToken}async function GH(t,e){let n=await cC(t.appConfig);for(;n.authToken.requestStatus===1;)await I4(100),n=await cC(t.appConfig);const r=n.authToken;return r.requestStatus===0?ET(t,e):r}function cC(t){return Q0(t,e=>{if(!L4(e))throw Ul.create("not-registered");const n=e.authToken;return JH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function KH(t,e){try{const n=await qH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dg(t.appConfig,r),n}catch(n){if(x4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await R4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dg(t.appConfig,r)}throw n}}function L4(t){return t!==void 0&&t.registrationStatus===2}function XH(t){return t.requestStatus===2&&!YH(t)}function YH(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SH}function QH(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function JH(t){return t.requestStatus===1&&t.requestTime+_4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(t){const e=t,{installationEntry:n,registrationPromise:r}=await ST(e);return r?r.catch(console.error):ET(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e=!1){const n=t;return await tV(n),(await ET(n,e)).token}async function tV(t){const{registrationPromise:e}=await ST(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(!t||!t.options)throw Qv("App Configuration");if(!t.name)throw Qv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qv(t){return Ul.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="installations",rV="installations-internal",iV=t=>{const e=t.getProvider("app").getImmediate(),n=nV(e),r=Pf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sV=t=>{const e=t.getProvider("app").getImmediate(),n=Pf(e,N4).getImmediate();return{getId:()=>ZH(n),getToken:i=>eV(n,i)}};function oV(){qs(new hs(N4,iV,"PUBLIC")),qs(new hs(rV,sV,"PRIVATE"))}oV();Ri(v4,TT);Ri(v4,TT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="analytics",aV="firebase_id",lV="origin",uV=60*1e3,cV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new c0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oi=new Gl("analytics","Analytics",dV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){if(!t.startsWith(wT)){const e=Oi.create("invalid-gtag-resource",{gtagURL:t});return Vr.warn(e.message),""}return t}function M4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function pV(t,e){const n=fV("firebase-js-sdk-policy",{createScriptURL:hV}),r=document.createElement("script"),i=`${wT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function mV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gV(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await M4(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Vr.error(a)}t("config",i,s)}async function yV(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await M4(n);for(const l of o){const u=a.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Vr.error(s)}}function vV(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await yV(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await gV(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Vr.error(a)}}return i}function _V(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=vV(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function bV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=30,xV=1e3;class SV{constructor(e={},n=xV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const F4=new SV;function EV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function wV(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:EV(r)},s=cV.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function CV(t,e=F4,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Oi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Oi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kV;return setTimeout(async()=>{a.abort()},uV),B4({appId:r,apiKey:i,measurementId:s},o,a,e)}async function B4(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=F4){var s;const{appId:o,measurementId:a}=t;try{await AV(r,e)}catch(l){if(a)return Vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await wV(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!IV(u)){if(i.deleteThrottleMetadata(o),a)return Vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?nw(n,i.intervalMillis,TV):nw(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),Vr.debug(`Calling attemptFetch again in ${c} millis`),B4(t,f,r,i)}}function AV(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Oi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function IV(t){if(!(t instanceof ps)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class kV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DV(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(){if(wP())try{await CP()}catch(t){return Vr.warn(Oi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vr.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RV(t,e,n,r,i,s,o){var a;const l=CV(t);l.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Vr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Vr.error(x)),e.push(l);const u=PV().then(x=>{if(x)return r.getId()}),[c,f]=await Promise.all([l,u]);bV(s)||pV(s,c.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[lV]="firebase",m.update=!0,f!=null&&(m[aV]=f),i("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.app=e}_delete(){return delete kh[this.app.options.appId],Promise.resolve()}}let kh={},hC=[];const fC={};let Jv="dataLayer",LV="gtag",pC,U4,mC=!1;function NV(){const t=[];if(EP()&&t.push("This is a browser extension environment."),tF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Oi.create("invalid-analytics-context",{errorInfo:e});Vr.warn(n.message)}}function MV(t,e,n){NV();const r=t.options.appId;if(!r)throw Oi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oi.create("no-api-key");if(kh[r]!=null)throw Oi.create("already-exists",{id:r});if(!mC){mV(Jv);const{wrappedGtag:s,gtagCore:o}=_V(kh,hC,fC,Jv,LV);U4=s,pC=o,mC=!0}return kh[r]=RV(t,hC,fC,e,pC,Jv,n),new OV(t)}function FV(t,e,n,r){t=ms(t),DV(U4,kh[t.app.options.appId],e,n,r).catch(i=>Vr.error(i))}const gC="@firebase/analytics",yC="0.10.4";function BV(){qs(new hs(dC,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return MV(r,i,n)},"PUBLIC")),qs(new hs("analytics-internal",t,"PRIVATE")),Ri(gC,yC),Ri(gC,yC,"esm2017");function t(e){try{const n=e.getProvider(dC).getImmediate();return{logEvent:(r,i,s)=>FV(n,r,i,s)}}catch(n){throw Oi.create("interop-component-reg-failed",{reason:n})}}}BV();const UV={apiKey:"AIzaSyD_-YHHQixV9UZc9UshAuvkeohthRX5Xq8",authDomain:"twitter-85047.firebaseapp.com",projectId:"twitter-85047",storageBucket:"twitter-85047.appspot.com",messagingSenderId:"618688077919",appId:"1:618688077919:web:7d253eafefa3bd3316fbea",measurementId:"G-XV1PF9JN98"},j4=DP(UV),mi=UU(j4);bH(j4);/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tn.apply(this,arguments)}var In;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(In||(In={}));const vC="popstate";function jV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return cf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$l(i)}return zV(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $V(){return Math.random().toString(36).substr(2,8)}function _C(t,e){return{usr:t.state,key:t.key,idx:e}}function cf(t,e,n,r){return n===void 0&&(n=null),tn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ma(e):e,{state:n,key:e&&e.key||r||$V()})}function $l(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=In.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(tn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=In.Pop;let k=c(),E=k==null?null:k-u;u=k,l&&l({action:a,location:g.location,delta:E})}function m(k,E){a=In.Push;let w=cf(g.location,k,E);u=c()+1;let S=_C(w,u),O=g.createHref(w);try{o.pushState(S,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(O)}s&&l&&l({action:a,location:g.location,delta:1})}function x(k,E){a=In.Replace;let w=cf(g.location,k,E);u=c();let S=_C(w,u),O=g.createHref(w);o.replaceState(S,"",O),s&&l&&l({action:a,location:g.location,delta:0})}function _(k){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof k=="string"?k:$l(k);return w=w.replace(/ $/,"%20"),Je(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let g={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vC,f),l=k,()=>{i.removeEventListener(vC,f),l=null}},createHref(k){return e(i,k)},createURL:_,encodeLocation(k){let E=_(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:x,go(k){return o.go(k)}};return g}var Bt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bt||(Bt={}));const HV=new Set(["lazy","caseSensitive","path","id","index","children"]);function VV(t){return t.index===!0}function df(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Je(i.index!==!0||!i.children,"Cannot specify children on an index route"),Je(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),VV(i)){let l=tn({},i,e(i),{id:a});return r[a]=l,l}else{let l=tn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=df(i.children,e,o,r)),l}})}function ul(t,e,n){return n===void 0&&(n="/"),ym(t,e,n,!1)}function ym(t,e,n,r){let i=typeof e=="string"?Ma(e):e,s=nd(i.pathname||"/",n);if(s==null)return null;let o=$4(t);WV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=rq(s);a=tq(o[l],u,r)}return a}function qV(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function $4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$4(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ZV(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of z4(s.path))i(s,o,l)}),e}function z4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=z4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function WV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GV=/^:[\w-]+$/,KV=3,XV=2,YV=1,QV=10,JV=-2,bC=t=>t==="*";function ZV(t,e){let n=t.split("/"),r=n.length;return n.some(bC)&&(r+=JV),e&&(r+=XV),n.filter(i=>!bC(i)).reduce((i,s)=>i+(GV.test(s)?KV:s===""?YV:QV),r)}function eq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tq(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=q1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=q1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:bo([s,f.pathname]),pathnameBase:oq(bo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=bo([s,f.pathnameBase]))}return o}function q1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:m,isOptional:x}=c;if(m==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const _=a[f];return x&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ma(t):t;return{pathname:n?n.startsWith("/")?n:sq(n,e):e,search:aq(r),hash:lq(i)}}function sq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J0(t,e){let n=H4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Z0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ma(t):(i=tn({},t),Je(!i.pathname||!i.pathname.includes("?"),Zv("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),Zv("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),Zv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=iq(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),oq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class CT{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ey(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const V4=["post","put","patch","delete"],uq=new Set(V4),cq=["get",...V4],dq=new Set(cq),hq=new Set([301,302,303,307,308]),fq=new Set([307,308]),e_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pq={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mq=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),q4="remix-router-transitions";function gq(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let K=t.detectErrorBoundary;i=X=>({hasErrorBoundary:K(X)})}else i=mq;let s={},o=df(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||Tq,c=t.unstable_patchRoutesOnMiss,f=tn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,x=new Set,_=null,g=null,k=null,E=t.hydrationData!=null,w=ul(o,t.history.location,l),S=null;if(w==null&&!c){let K=xr(404,{pathname:t.history.location.pathname}),{matches:X,route:Z}=DC(o);w=X,S={[Z.id]:K}}w&&c&&Ki(w,o,t.history.location.pathname).active&&(w=null);let O;if(!w)O=!1,w=[];else if(w.some(K=>K.route.lazy))O=!1;else if(!w.some(K=>K.route.loader))O=!0;else if(f.v7_partialHydration){let K=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null,Z=re=>re.route.loader?typeof re.route.loader=="function"&&re.route.loader.hydrate===!0?!1:K&&K[re.route.id]!==void 0||X&&X[re.route.id]!==void 0:!0;if(X){let re=w.findIndex(_e=>X[_e.route.id]!==void 0);O=w.slice(0,re+1).every(Z)}else O=w.every(Z)}else O=t.hydrationData!=null;let L,R={historyAction:t.history.action,location:t.history.location,matches:w,initialized:O,navigation:e_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},D=In.Pop,P=!1,M,B=!1,$=new Map,V=null,F=!1,se=!1,ce=[],ue=[],le=new Map,ee=0,fe=-1,ye=new Map,ke=new Set,Se=new Map,De=new Map,Ie=new Set,Ve=new Map,qe=new Map,Pt=new Map,Qt=!1;function Lt(){if(m=t.history.listen(K=>{let{action:X,location:Z,delta:re}=K;if(Qt){Qt=!1;return}Dc(qe.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=tu({currentLocation:R.location,nextLocation:Z,historyAction:X});if(_e&&re!=null){Qt=!0,t.history.go(re*-1),Js(_e,{state:"blocked",location:Z,proceed(){Js(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),t.history.go(re)},reset(){let Ce=new Map(R.blockers);Ce.set(_e,zd),$e({blockers:Ce})}});return}return gn(X,Z)}),n){Lq(e,$);let K=()=>Nq(e,$);e.addEventListener("pagehide",K),V=()=>e.removeEventListener("pagehide",K)}return R.initialized||gn(In.Pop,R.location,{initialHydration:!0}),L}function Jt(){m&&m(),V&&V(),x.clear(),M&&M.abort(),R.fetchers.forEach((K,X)=>gr(X)),R.blockers.forEach((K,X)=>zo(X))}function Ze(K){return x.add(K),()=>x.delete(K)}function $e(K,X){X===void 0&&(X={}),R=tn({},R,K);let Z=[],re=[];f.v7_fetcherPersist&&R.fetchers.forEach((_e,Ce)=>{_e.state==="idle"&&(Ie.has(Ce)?re.push(Ce):Z.push(Ce))}),[...x].forEach(_e=>_e(R,{deletedFetchers:re,unstable_viewTransitionOpts:X.viewTransitionOpts,unstable_flushSync:X.flushSync===!0})),f.v7_fetcherPersist&&(Z.forEach(_e=>R.fetchers.delete(_e)),re.forEach(_e=>gr(_e)))}function Ne(K,X,Z){var re,_e;let{flushSync:Ce}=Z===void 0?{}:Z,Pe=R.actionData!=null&&R.navigation.formMethod!=null&&ns(R.navigation.formMethod)&&R.navigation.state==="loading"&&((re=K.state)==null?void 0:re._isRedirect)!==!0,de;X.actionData?Object.keys(X.actionData).length>0?de=X.actionData:de=null:Pe?de=R.actionData:de=null;let Be=X.loaderData?IC(R.loaderData,X.loaderData,X.matches||[],X.errors):R.loaderData,me=R.blockers;me.size>0&&(me=new Map(me),me.forEach((tt,vt)=>me.set(vt,zd)));let Ae=P===!0||R.navigation.formMethod!=null&&ns(R.navigation.formMethod)&&((_e=K.state)==null?void 0:_e._isRedirect)!==!0;a&&(o=a,a=void 0),F||D===In.Pop||(D===In.Push?t.history.push(K,K.state):D===In.Replace&&t.history.replace(K,K.state));let Xe;if(D===In.Pop){let tt=$.get(R.location.pathname);tt&&tt.has(K.pathname)?Xe={currentLocation:R.location,nextLocation:K}:$.has(K.pathname)&&(Xe={currentLocation:K,nextLocation:R.location})}else if(B){let tt=$.get(R.location.pathname);tt?tt.add(K.pathname):(tt=new Set([K.pathname]),$.set(R.location.pathname,tt)),Xe={currentLocation:R.location,nextLocation:K}}$e(tn({},X,{actionData:de,loaderData:Be,historyAction:D,location:K,initialized:!0,navigation:e_,revalidation:"idle",restoreScrollPosition:za(K,X.matches||R.matches),preventScrollReset:Ae,blockers:me}),{viewTransitionOpts:Xe,flushSync:Ce===!0}),D=In.Pop,P=!1,B=!1,F=!1,se=!1,ce=[],ue=[]}async function st(K,X){if(typeof K=="number"){t.history.go(K);return}let Z=W1(R.location,R.matches,l,f.v7_prependBasename,K,f.v7_relativeSplatPath,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:re,submission:_e,error:Ce}=TC(f.v7_normalizeFormMethod,!1,Z,X),Pe=R.location,de=cf(R.location,re,X&&X.state);de=tn({},de,t.history.encodeLocation(de));let Be=X&&X.replace!=null?X.replace:void 0,me=In.Push;Be===!0?me=In.Replace:Be===!1||_e!=null&&ns(_e.formMethod)&&_e.formAction===R.location.pathname+R.location.search&&(me=In.Replace);let Ae=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Xe=(X&&X.unstable_flushSync)===!0,tt=tu({currentLocation:Pe,nextLocation:de,historyAction:me});if(tt){Js(tt,{state:"blocked",location:de,proceed(){Js(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),st(K,X)},reset(){let vt=new Map(R.blockers);vt.set(tt,zd),$e({blockers:vt})}});return}return await gn(me,de,{submission:_e,pendingError:Ce,preventScrollReset:Ae,replace:X&&X.replace,enableViewTransition:X&&X.unstable_viewTransition,flushSync:Xe})}function gt(){if(dt(),$e({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){gn(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}gn(D||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation})}}async function gn(K,X,Z){M&&M.abort(),M=null,D=K,F=(Z&&Z.startUninterruptedRevalidation)===!0,Ho(R.location,R.matches),P=(Z&&Z.preventScrollReset)===!0,B=(Z&&Z.enableViewTransition)===!0;let re=a||o,_e=Z&&Z.overrideNavigation,Ce=ul(re,X,l),Pe=(Z&&Z.flushSync)===!0,de=Ki(Ce,re,X.pathname);if(de.active&&de.matches&&(Ce=de.matches),!Ce){let{error:Ye,notFoundMatches:ze,route:Ft}=Gi(X.pathname);Ne(X,{matches:ze,loaderData:{},errors:{[Ft.id]:Ye}},{flushSync:Pe});return}if(R.initialized&&!se&&Aq(R.location,X)&&!(Z&&Z.submission&&ns(Z.submission.formMethod))){Ne(X,{matches:Ce},{flushSync:Pe});return}M=new AbortController;let Be=Cu(t.history,X,M.signal,Z&&Z.submission),me;if(Z&&Z.pendingError)me=[Dh(Ce).route.id,{type:Bt.error,error:Z.pendingError}];else if(Z&&Z.submission&&ns(Z.submission.formMethod)){let Ye=await Fn(Be,X,Z.submission,Ce,de.active,{replace:Z.replace,flushSync:Pe});if(Ye.shortCircuited)return;if(Ye.pendingActionResult){let[ze,Ft]=Ye.pendingActionResult;if(oi(Ft)&&ey(Ft.error)&&Ft.error.status===404){M=null,Ne(X,{matches:Ye.matches,loaderData:{},errors:{[ze]:Ft.error}});return}}Ce=Ye.matches||Ce,me=Ye.pendingActionResult,_e=t_(X,Z.submission),Pe=!1,de.active=!1,Be=Cu(t.history,Be.url,Be.signal)}let{shortCircuited:Ae,matches:Xe,loaderData:tt,errors:vt}=await $t(Be,X,Ce,de.active,_e,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Pe,me);Ae||(M=null,Ne(X,tn({matches:Xe||Ce},kC(me),{loaderData:tt,errors:vt})))}async function Fn(K,X,Z,re,_e,Ce){Ce===void 0&&(Ce={}),dt();let Pe=Rq(X,Z);if($e({navigation:Pe},{flushSync:Ce.flushSync===!0}),_e){let me=await eo(re,X.pathname,K.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{error:Ae,notFoundMatches:Xe,route:tt}=vs(X.pathname,me);return{matches:Xe,pendingActionResult:[tt.id,{type:Bt.error,error:Ae}]}}else if(me.matches)re=me.matches;else{let{notFoundMatches:Ae,error:Xe,route:tt}=Gi(X.pathname);return{matches:Ae,pendingActionResult:[tt.id,{type:Bt.error,error:Xe}]}}}let de,Be=ch(re,X);if(!Be.route.action&&!Be.route.lazy)de={type:Bt.error,error:xr(405,{method:K.method,pathname:X.pathname,routeId:Be.route.id})};else if(de=(await Zt("action",K,[Be],re))[0],K.signal.aborted)return{shortCircuited:!0};if(vl(de)){let me;return Ce&&Ce.replace!=null?me=Ce.replace:me=wC(de.response.headers.get("Location"),new URL(K.url),l)===R.location.pathname+R.location.search,await nt(K,de,{submission:Z,replace:me}),{shortCircuited:!0}}if(yl(de))throw xr(400,{type:"defer-action"});if(oi(de)){let me=Dh(re,Be.route.id);return(Ce&&Ce.replace)!==!0&&(D=In.Push),{matches:re,pendingActionResult:[me.route.id,de]}}return{matches:re,pendingActionResult:[Be.route.id,de]}}async function $t(K,X,Z,re,_e,Ce,Pe,de,Be,me,Ae){let Xe=_e||t_(X,Ce),tt=Ce||Pe||OC(Xe),vt=!F&&(!f.v7_partialHydration||!Be);if(re){if(vt){let xt=yn(Ae);$e(tn({navigation:Xe},xt!==void 0?{actionData:xt}:{}),{flushSync:me})}let Ge=await eo(Z,X.pathname,K.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let{error:xt,notFoundMatches:vn,route:pt}=vs(X.pathname,Ge);return{matches:vn,loaderData:{},errors:{[pt.id]:xt}}}else if(Ge.matches)Z=Ge.matches;else{let{error:xt,notFoundMatches:vn,route:pt}=Gi(X.pathname);return{matches:vn,loaderData:{},errors:{[pt.id]:xt}}}}let Ye=a||o,[ze,Ft]=xC(t.history,R,Z,tt,X,f.v7_partialHydration&&Be===!0,f.unstable_skipActionErrorRevalidation,se,ce,ue,Ie,Se,ke,Ye,l,Ae);if(Zs(Ge=>!(Z&&Z.some(xt=>xt.route.id===Ge))||ze&&ze.some(xt=>xt.route.id===Ge)),fe=++ee,ze.length===0&&Ft.length===0){let Ge=Mt();return Ne(X,tn({matches:Z,loaderData:{},errors:Ae&&oi(Ae[1])?{[Ae[0]]:Ae[1].error}:null},kC(Ae),Ge?{fetchers:new Map(R.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(vt){let Ge={};if(!re){Ge.navigation=Xe;let xt=yn(Ae);xt!==void 0&&(Ge.actionData=xt)}Ft.length>0&&(Ge.fetchers=Fe(Ft)),$e(Ge,{flushSync:me})}Ft.forEach(Ge=>{le.has(Ge.key)&&we(Ge.key),Ge.controller&&le.set(Ge.key,Ge.controller)});let Qr=()=>Ft.forEach(Ge=>we(Ge.key));M&&M.signal.addEventListener("abort",Qr);let{loaderResults:Ti,fetcherResults:Jr}=await yt(R.matches,Z,ze,Ft,K);if(K.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Qr),Ft.forEach(Ge=>le.delete(Ge.key));let Xi=PC([...Ti,...Jr]);if(Xi){if(Xi.idx>=ze.length){let Ge=Ft[Xi.idx-ze.length].key;ke.add(Ge)}return await nt(K,Xi.result,{replace:de}),{shortCircuited:!0}}let{loaderData:Zr,errors:Cn}=AC(R,Z,ze,Ti,Ae,Ft,Jr,Ve);Ve.forEach((Ge,xt)=>{Ge.subscribe(vn=>{(vn||Ge.done)&&Ve.delete(xt)})}),f.v7_partialHydration&&Be&&R.errors&&Object.entries(R.errors).filter(Ge=>{let[xt]=Ge;return!ze.some(vn=>vn.route.id===xt)}).forEach(Ge=>{let[xt,vn]=Ge;Cn=Object.assign(Cn||{},{[xt]:vn})});let nr=Mt(),Yi=Yr(fe),Vo=nr||Yi||Ft.length>0;return tn({matches:Z,loaderData:Zr,errors:Cn},Vo?{fetchers:new Map(R.fetchers)}:{})}function yn(K){if(K&&!oi(K[1]))return{[K[0]]:K[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Fe(K){return K.forEach(X=>{let Z=R.fetchers.get(X.key),re=Hd(void 0,Z?Z.data:void 0);R.fetchers.set(X.key,re)}),new Map(R.fetchers)}function Tt(K,X,Z,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");le.has(K)&&we(K);let _e=(re&&re.unstable_flushSync)===!0,Ce=a||o,Pe=W1(R.location,R.matches,l,f.v7_prependBasename,Z,f.v7_relativeSplatPath,X,re==null?void 0:re.relative),de=ul(Ce,Pe,l),Be=Ki(de,Ce,Pe);if(Be.active&&Be.matches&&(de=Be.matches),!de){Ee(K,X,xr(404,{pathname:Pe}),{flushSync:_e});return}let{path:me,submission:Ae,error:Xe}=TC(f.v7_normalizeFormMethod,!0,Pe,re);if(Xe){Ee(K,X,Xe,{flushSync:_e});return}let tt=ch(de,me);if(P=(re&&re.preventScrollReset)===!0,Ae&&ns(Ae.formMethod)){Gn(K,X,me,tt,de,Be.active,_e,Ae);return}Se.set(K,{routeId:X,path:me}),cn(K,X,me,tt,de,Be.active,_e,Ae)}async function Gn(K,X,Z,re,_e,Ce,Pe,de){dt(),Se.delete(K);function Be(pt){if(!pt.route.action&&!pt.route.lazy){let On=xr(405,{method:de.formMethod,pathname:Z,routeId:X});return Ee(K,X,On,{flushSync:Pe}),!0}return!1}if(!Ce&&Be(re))return;let me=R.fetchers.get(K);We(K,Oq(de,me),{flushSync:Pe});let Ae=new AbortController,Xe=Cu(t.history,Z,Ae.signal,de);if(Ce){let pt=await eo(_e,Z,Xe.signal);if(pt.type==="aborted")return;if(pt.type==="error"){let{error:On}=vs(Z,pt);Ee(K,X,On,{flushSync:Pe});return}else if(pt.matches){if(_e=pt.matches,re=ch(_e,Z),Be(re))return}else{Ee(K,X,xr(404,{pathname:Z}),{flushSync:Pe});return}}le.set(K,Ae);let tt=ee,Ye=(await Zt("action",Xe,[re],_e))[0];if(Xe.signal.aborted){le.get(K)===Ae&&le.delete(K);return}if(f.v7_fetcherPersist&&Ie.has(K)){if(vl(Ye)||oi(Ye)){We(K,sa(void 0));return}}else{if(vl(Ye))if(le.delete(K),fe>tt){We(K,sa(void 0));return}else return ke.add(K),We(K,Hd(de)),nt(Xe,Ye,{fetcherSubmission:de});if(oi(Ye)){Ee(K,X,Ye.error);return}}if(yl(Ye))throw xr(400,{type:"defer-action"});let ze=R.navigation.location||R.location,Ft=Cu(t.history,ze,Ae.signal),Qr=a||o,Ti=R.navigation.state!=="idle"?ul(Qr,R.navigation.location,l):R.matches;Je(Ti,"Didn't find any matches after fetcher action");let Jr=++ee;ye.set(K,Jr);let Xi=Hd(de,Ye.data);R.fetchers.set(K,Xi);let[Zr,Cn]=xC(t.history,R,Ti,de,ze,!1,f.unstable_skipActionErrorRevalidation,se,ce,ue,Ie,Se,ke,Qr,l,[re.route.id,Ye]);Cn.filter(pt=>pt.key!==K).forEach(pt=>{let On=pt.key,Qi=R.fetchers.get(On),bs=Hd(void 0,Qi?Qi.data:void 0);R.fetchers.set(On,bs),le.has(On)&&we(On),pt.controller&&le.set(On,pt.controller)}),$e({fetchers:new Map(R.fetchers)});let nr=()=>Cn.forEach(pt=>we(pt.key));Ae.signal.addEventListener("abort",nr);let{loaderResults:Yi,fetcherResults:Vo}=await yt(R.matches,Ti,Zr,Cn,Ft);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",nr),ye.delete(K),le.delete(K),Cn.forEach(pt=>le.delete(pt.key));let Ge=PC([...Yi,...Vo]);if(Ge){if(Ge.idx>=Zr.length){let pt=Cn[Ge.idx-Zr.length].key;ke.add(pt)}return nt(Ft,Ge.result)}let{loaderData:xt,errors:vn}=AC(R,R.matches,Zr,Yi,void 0,Cn,Vo,Ve);if(R.fetchers.has(K)){let pt=sa(Ye.data);R.fetchers.set(K,pt)}Yr(Jr),R.navigation.state==="loading"&&Jr>fe?(Je(D,"Expected pending action"),M&&M.abort(),Ne(R.navigation.location,{matches:Ti,loaderData:xt,errors:vn,fetchers:new Map(R.fetchers)})):($e({errors:vn,loaderData:IC(R.loaderData,xt,Ti,vn),fetchers:new Map(R.fetchers)}),se=!1)}async function cn(K,X,Z,re,_e,Ce,Pe,de){let Be=R.fetchers.get(K);We(K,Hd(de,Be?Be.data:void 0),{flushSync:Pe});let me=new AbortController,Ae=Cu(t.history,Z,me.signal);if(Ce){let Ye=await eo(_e,Z,Ae.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){let{error:ze}=vs(Z,Ye);Ee(K,X,ze,{flushSync:Pe});return}else if(Ye.matches)_e=Ye.matches,re=ch(_e,Z);else{Ee(K,X,xr(404,{pathname:Z}),{flushSync:Pe});return}}le.set(K,me);let Xe=ee,vt=(await Zt("loader",Ae,[re],_e))[0];if(yl(vt)&&(vt=await Y4(vt,Ae.signal,!0)||vt),le.get(K)===me&&le.delete(K),!Ae.signal.aborted){if(Ie.has(K)){We(K,sa(void 0));return}if(vl(vt))if(fe>Xe){We(K,sa(void 0));return}else{ke.add(K),await nt(Ae,vt);return}if(oi(vt)){Ee(K,X,vt.error);return}Je(!yl(vt),"Unhandled fetcher deferred data"),We(K,sa(vt.data))}}async function nt(K,X,Z){let{submission:re,fetcherSubmission:_e,replace:Ce}=Z===void 0?{}:Z;X.response.headers.has("X-Remix-Revalidate")&&(se=!0);let Pe=X.response.headers.get("Location");Je(Pe,"Expected a Location header on the redirect Response"),Pe=wC(Pe,new URL(K.url),l);let de=cf(R.location,Pe,{_isRedirect:!0});if(n){let vt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))vt=!0;else if(AT.test(Pe)){const Ye=t.history.createURL(Pe);vt=Ye.origin!==e.location.origin||nd(Ye.pathname,l)==null}if(vt){Ce?e.location.replace(Pe):e.location.assign(Pe);return}}M=null;let Be=Ce===!0?In.Replace:In.Push,{formMethod:me,formAction:Ae,formEncType:Xe}=R.navigation;!re&&!_e&&me&&Ae&&Xe&&(re=OC(R.navigation));let tt=re||_e;if(fq.has(X.response.status)&&tt&&ns(tt.formMethod))await gn(Be,de,{submission:tn({},tt,{formAction:Pe}),preventScrollReset:P});else{let vt=t_(de,re);await gn(Be,de,{overrideNavigation:vt,fetcherSubmission:_e,preventScrollReset:P})}}async function Zt(K,X,Z,re){try{let _e=await xq(u,K,X,Z,re,s,i);return await Promise.all(_e.map((Ce,Pe)=>{if(kq(Ce)){let de=Ce.result;return{type:Bt.redirect,response:wq(de,X,Z[Pe].route.id,re,l,f.v7_relativeSplatPath)}}return Eq(Ce)}))}catch(_e){return Z.map(()=>({type:Bt.error,error:_e}))}}async function yt(K,X,Z,re,_e){let[Ce,...Pe]=await Promise.all([Z.length?Zt("loader",_e,Z,X):[],...re.map(de=>{if(de.matches&&de.match&&de.controller){let Be=Cu(t.history,de.path,de.controller.signal);return Zt("loader",Be,[de.match],de.matches).then(me=>me[0])}else return Promise.resolve({type:Bt.error,error:xr(404,{pathname:de.path})})})]);return await Promise.all([RC(K,Z,Ce,Ce.map(()=>_e.signal),!1,R.loaderData),RC(K,re.map(de=>de.match),Pe,re.map(de=>de.controller?de.controller.signal:null),!0)]),{loaderResults:Ce,fetcherResults:Pe}}function dt(){se=!0,ce.push(...Zs()),Se.forEach((K,X)=>{le.has(X)&&(ue.push(X),we(X))})}function We(K,X,Z){Z===void 0&&(Z={}),R.fetchers.set(K,X),$e({fetchers:new Map(R.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Ee(K,X,Z,re){re===void 0&&(re={});let _e=Dh(R.matches,X);gr(K),$e({errors:{[_e.route.id]:Z},fetchers:new Map(R.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Bn(K){return f.v7_fetcherPersist&&(De.set(K,(De.get(K)||0)+1),Ie.has(K)&&Ie.delete(K)),R.fetchers.get(K)||pq}function gr(K){let X=R.fetchers.get(K);le.has(K)&&!(X&&X.state==="loading"&&ye.has(K))&&we(K),Se.delete(K),ye.delete(K),ke.delete(K),Ie.delete(K),R.fetchers.delete(K)}function et(K){if(f.v7_fetcherPersist){let X=(De.get(K)||0)-1;X<=0?(De.delete(K),Ie.add(K)):De.set(K,X)}else gr(K);$e({fetchers:new Map(R.fetchers)})}function we(K){let X=le.get(K);Je(X,"Expected fetch controller: "+K),X.abort(),le.delete(K)}function ut(K){for(let X of K){let Z=Bn(X),re=sa(Z.data);R.fetchers.set(X,re)}}function Mt(){let K=[],X=!1;for(let Z of ke){let re=R.fetchers.get(Z);Je(re,"Expected fetcher: "+Z),re.state==="loading"&&(ke.delete(Z),K.push(Z),X=!0)}return ut(K),X}function Yr(K){let X=[];for(let[Z,re]of ye)if(re<K){let _e=R.fetchers.get(Z);Je(_e,"Expected fetcher: "+Z),_e.state==="loading"&&(we(Z),ye.delete(Z),X.push(Z))}return ut(X),X.length>0}function $o(K,X){let Z=R.blockers.get(K)||zd;return qe.get(K)!==X&&qe.set(K,X),Z}function zo(K){R.blockers.delete(K),qe.delete(K)}function Js(K,X){let Z=R.blockers.get(K)||zd;Je(Z.state==="unblocked"&&X.state==="blocked"||Z.state==="blocked"&&X.state==="blocked"||Z.state==="blocked"&&X.state==="proceeding"||Z.state==="blocked"&&X.state==="unblocked"||Z.state==="proceeding"&&X.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+X.state);let re=new Map(R.blockers);re.set(K,X),$e({blockers:re})}function tu(K){let{currentLocation:X,nextLocation:Z,historyAction:re}=K;if(qe.size===0)return;qe.size>1&&Dc(!1,"A router only supports one blocker at a time");let _e=Array.from(qe.entries()),[Ce,Pe]=_e[_e.length-1],de=R.blockers.get(Ce);if(!(de&&de.state==="proceeding")&&Pe({currentLocation:X,nextLocation:Z,historyAction:re}))return Ce}function Gi(K){let X=xr(404,{pathname:K}),Z=a||o,{matches:re,route:_e}=DC(Z);return Zs(),{notFoundMatches:re,route:_e,error:X}}function vs(K,X){let Z=X.partialMatches,re=Z[Z.length-1].route,_e=xr(400,{type:"route-discovery",routeId:re.id,pathname:K,message:X.error!=null&&"message"in X.error?X.error:String(X.error)});return{notFoundMatches:Z,route:re,error:_e}}function Zs(K){let X=[];return Ve.forEach((Z,re)=>{(!K||K(re))&&(Z.cancel(),X.push(re),Ve.delete(re))}),X}function _s(K,X,Z){if(_=K,k=X,g=Z||null,!E&&R.navigation===e_){E=!0;let re=za(R.location,R.matches);re!=null&&$e({restoreScrollPosition:re})}return()=>{_=null,k=null,g=null}}function $a(K,X){return g&&g(K,X.map(re=>qV(re,R.loaderData)))||K.key}function Ho(K,X){if(_&&k){let Z=$a(K,X);_[Z]=k()}}function za(K,X){if(_){let Z=$a(K,X),re=_[Z];if(typeof re=="number")return re}return null}function Ki(K,X,Z){if(c)if(K){let re=K[K.length-1].route;if(re.path&&(re.path==="*"||re.path.endsWith("/*")))return{active:!0,matches:ym(X,Z,l,!0)}}else return{active:!0,matches:ym(X,Z,l,!0)||[]};return{active:!1,matches:null}}async function eo(K,X,Z){let re=K,_e=re.length>0?re[re.length-1].route:null;for(;;){let Ce=a==null,Pe=a||o;try{await bq(c,X,re,Pe,s,i,Pt,Z)}catch(Ae){return{type:"error",error:Ae,partialMatches:re}}finally{Ce&&(o=[...o])}if(Z.aborted)return{type:"aborted"};let de=ul(Pe,X,l),Be=!1;if(de){let Ae=de[de.length-1].route;if(Ae.index)return{type:"success",matches:de};if(Ae.path&&Ae.path.length>0)if(Ae.path==="*")Be=!0;else return{type:"success",matches:de}}let me=ym(Pe,X,l,!0);if(!me||re.map(Ae=>Ae.route.id).join("-")===me.map(Ae=>Ae.route.id).join("-"))return{type:"success",matches:Be?de:null};if(re=me,_e=re[re.length-1].route,_e.path==="*")return{type:"success",matches:re}}}function Rn(K){s={},a=df(K,i,void 0,s)}function nu(K,X){let Z=a==null;G4(K,X,a||o,s,i),Z&&(o=[...o],$e({}))}return L={get basename(){return l},get future(){return f},get state(){return R},get routes(){return o},get window(){return e},initialize:Lt,subscribe:Ze,enableScrollRestoration:_s,navigate:st,fetch:Tt,revalidate:gt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:Bn,deleteFetcher:et,dispose:Jt,getBlocker:$o,deleteBlocker:zo,patchRoutes:nu,_internalFetchControllers:le,_internalActiveDeferreds:Ve,_internalSetRoutes:Rn},L}function yq(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function W1(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){u=f;break}}else l=e,u=e[e.length-1];let c=Z0(i||".",J0(l,s),nd(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!IT(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:bo([n,c.pathname])),$l(c)}function TC(t,e,n,r){if(!r||!yq(r))return{path:n};if(r.formMethod&&!Pq(r.formMethod))return{path:n,error:xr(405,{method:r.formMethod})};let i=()=>({path:n,error:xr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=K4(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ns(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,_)=>{let[g,k]=_;return""+x+g+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!ns(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=G1(r.formData),u=r.formData;else if(r.body instanceof FormData)l=G1(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=CC(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=CC(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ns(c.formMethod))return{path:n,submission:c};let f=Ma(n);return e&&f.search&&IT(f.search)&&l.append("index",""),f.search="?"+l,{path:$l(f),submission:c}}function vq(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function xC(t,e,n,r,i,s,o,a,l,u,c,f,m,x,_,g){let k=g?oi(g[1])?g[1].error:g[1].data:void 0,E=t.createURL(e.location),w=t.createURL(i),S=g&&oi(g[1])?g[0]:void 0,O=S?vq(n,S):n,L=g?g[1].statusCode:void 0,R=o&&L&&L>=400,D=O.filter((M,B)=>{let{route:$}=M;if($.lazy)return!0;if($.loader==null)return!1;if(s)return typeof $.loader!="function"||$.loader.hydrate?!0:e.loaderData[$.id]===void 0&&(!e.errors||e.errors[$.id]===void 0);if(_q(e.loaderData,e.matches[B],M)||l.some(se=>se===M.route.id))return!0;let V=e.matches[B],F=M;return SC(M,tn({currentUrl:E,currentParams:V.params,nextUrl:w,nextParams:F.params},r,{actionResult:k,unstable_actionStatus:L,defaultShouldRevalidate:R?!1:a||E.pathname+E.search===w.pathname+w.search||E.search!==w.search||W4(V,F)}))}),P=[];return f.forEach((M,B)=>{if(s||!n.some(ce=>ce.route.id===M.routeId)||c.has(B))return;let $=ul(x,M.path,_);if(!$){P.push({key:B,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(B),F=ch($,M.path),se=!1;m.has(B)?se=!1:u.includes(B)?se=!0:V&&V.state!=="idle"&&V.data===void 0?se=a:se=SC(F,tn({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:k,unstable_actionStatus:L,defaultShouldRevalidate:R?!1:a})),se&&P.push({key:B,routeId:M.routeId,path:M.path,matches:$,match:F,controller:new AbortController})}),[D,P]}function _q(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function W4(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function SC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function bq(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(c,f)=>{a.aborted||G4(c,f,r,i,s)}}),o.set(l,u)),u&&Iq(u)&&await u}finally{o.delete(l)}}function G4(t,e,n,r,i){if(t){var s;let o=r[t];Je(o,"No route found to patch children into: routeId = "+t);let a=df(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=df(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function EC(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Je(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Dc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!HV.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,tn({},e(i),{lazy:void 0}))}function Tq(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function xq(t,e,n,r,i,s,o,a){let l=r.reduce((f,m)=>f.add(m.route.id),new Set),u=new Set,c=await t({matches:i.map(f=>{let m=l.has(f.route.id);return tn({},f,{shouldLoad:m,resolve:_=>(u.add(f.route.id),m?Sq(e,n,f,s,o,_,a):Promise.resolve({type:Bt.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(f=>Je(u.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((f,m)=>l.has(i[m].route.id))}async function Sq(t,e,n,r,i,s,o){let a,l,u=c=>{let f,m=new Promise((g,k)=>f=k);l=()=>f(),e.signal.addEventListener("abort",l);let x=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...g!==void 0?[g]:[]),_;return s?_=s(g=>x(g)):_=(async()=>{try{return{type:"data",result:await x()}}catch(g){return{type:"error",result:g}}})(),Promise.race([_,m])};try{let c=n.route[t];if(n.route.lazy)if(c){let f,[m]=await Promise.all([u(c).catch(x=>{f=x}),EC(n.route,i,r)]);if(f!==void 0)throw f;a=m}else if(await EC(n.route,i,r),c=n.route[t],c)a=await u(c);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw xr(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Bt.data,result:void 0};else if(c)a=await u(c);else{let f=new URL(e.url),m=f.pathname+f.search;throw xr(404,{pathname:m})}Je(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Bt.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function Eq(t){let{result:e,type:n,status:r}=t;if(X4(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Bt.error,error:a}}return n===Bt.error?{type:Bt.error,error:new CT(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Bt.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Bt.error)return{type:Bt.error,error:e,statusCode:ey(e)?e.status:r};if(Dq(e)){var i,s;return{type:Bt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Bt.data,data:e,statusCode:r}}function wq(t,e,n,r,i,s){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!AT.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=W1(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function wC(t,e,n){if(AT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=nd(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Cu(t,e,n,r){let i=t.createURL(K4(e)).toString(),s={signal:n};if(r&&ns(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=G1(r.formData):s.body=r.formData}return new Request(i,s)}function G1(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function CC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Cq(t,e,n,r,i,s){let o={},a=null,l,u=!1,c={},f=r&&oi(r[1])?r[1].error:void 0;return n.forEach((m,x)=>{let _=e[x].route.id;if(Je(!vl(m),"Cannot handle redirect results in processLoaderData"),oi(m)){let g=m.error;f!==void 0&&(g=f,f=void 0),a=a||{};{let k=Dh(t,_);a[k.route.id]==null&&(a[k.route.id]=g)}o[_]=void 0,u||(u=!0,l=ey(m.error)?m.error.status:500),m.headers&&(c[_]=m.headers)}else yl(m)?(i.set(_,m.deferredData),o[_]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(l=m.statusCode),m.headers&&(c[_]=m.headers)):(o[_]=m.data,m.statusCode&&m.statusCode!==200&&!u&&(l=m.statusCode),m.headers&&(c[_]=m.headers))}),f!==void 0&&r&&(a={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:c}}function AC(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=Cq(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:f,match:m,controller:x}=s[c];Je(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let _=o[c];if(!(x&&x.signal.aborted))if(oi(_)){let g=Dh(t.matches,m==null?void 0:m.route.id);u&&u[g.route.id]||(u=tn({},u,{[g.route.id]:_.error})),t.fetchers.delete(f)}else if(vl(_))Je(!1,"Unhandled fetcher revalidation redirect");else if(yl(_))Je(!1,"Unhandled fetcher deferred data");else{let g=sa(_.data);t.fetchers.set(f,g)}}return{loaderData:l,errors:u}}function IC(t,e,n,r){let i=tn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function kC(t){return t?oi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Dh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function DC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new CT(t||500,a,new Error(l),!0)}function PC(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(vl(n))return{result:n,idx:e}}}function K4(t){let e=typeof t=="string"?Ma(t):t;return $l(tn({},e,{hash:""}))}function Aq(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Iq(t){return typeof t=="object"&&t!=null&&"then"in t}function kq(t){return X4(t.result)&&hq.has(t.result.status)}function yl(t){return t.type===Bt.deferred}function oi(t){return t.type===Bt.error}function vl(t){return(t&&t.type)===Bt.redirect}function Dq(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function X4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Pq(t){return dq.has(t.toLowerCase())}function ns(t){return uq.has(t.toLowerCase())}async function RC(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!W4(u,l)&&(s&&s[l.route.id])!==void 0;if(yl(a)&&(i||c)){let f=r[o];Je(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await Y4(a,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function Y4(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Bt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Bt.error,error:i}}return{type:Bt.data,data:t.deferredData.data}}}function IT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ch(t,e){let n=typeof e=="string"?Ma(e).search:e.search;if(t[t.length-1].route.index&&IT(n||""))return t[t.length-1];let r=H4(t);return r[r.length-1]}function OC(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function t_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Rq(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Oq(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function sa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Lq(t,e){try{let n=t.sessionStorage.getItem(q4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Nq(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(q4,JSON.stringify(n))}catch(r){Dc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}const ty=N.createContext(null),Q4=N.createContext(null),Fa=N.createContext(null),kT=N.createContext(null),Uo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),J4=N.createContext(null);function Mq(t,e){let{relative:n}=e===void 0?{}:e;Yl()||Je(!1);let{basename:r,navigator:i}=N.useContext(Fa),{hash:s,pathname:o,search:a}=DT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Yl(){return N.useContext(kT)!=null}function rd(){return Yl()||Je(!1),N.useContext(kT).location}function Fq(t){Yl()||Je(!1);let{pathname:e}=rd();return N.useMemo(()=>q1(t,e),[e,t])}function Z4(t){N.useContext(Fa).static||N.useLayoutEffect(t)}function Ba(){let{isDataRoute:t}=N.useContext(Uo);return t?Qq():Bq()}function Bq(){Yl()||Je(!1);let t=N.useContext(ty),{basename:e,future:n,navigator:r}=N.useContext(Fa),{matches:i}=N.useContext(Uo),{pathname:s}=rd(),o=JSON.stringify(J0(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return Z4(()=>{a.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Z0(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}const Uq=N.createContext(null);function jq(t){let e=N.useContext(Uo).outlet;return e&&N.createElement(Uq.Provider,{value:t},e)}function DT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Fa),{matches:i}=N.useContext(Uo),{pathname:s}=rd(),o=JSON.stringify(J0(i,r.v7_relativeSplatPath));return N.useMemo(()=>Z0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function $q(t,e,n,r){Yl()||Je(!1);let{navigator:i}=N.useContext(Fa),{matches:s}=N.useContext(Uo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=rd(),c;c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ul(t,{pathname:m});return Wq(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:bo([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:bo([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r)}function zq(){let t=Yq(),e=ey(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const Hq=N.createElement(zq,null);class Vq extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Uo.Provider,{value:this.props.routeContext},N.createElement(J4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qq(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(ty);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Uo.Provider,{value:e},r)}function Wq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Je(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:x}=n,_=f.route.loader&&m[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,m)=>{let x,_=!1,g=null,k=null;n&&(x=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Hq,l&&(u<0&&m===0?(Jq("route-fallback"),_=!0,k=null):u===m&&(_=!0,k=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),w=()=>{let S;return x?S=g:_?S=k:f.route.Component?S=N.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,N.createElement(qq,{match:f,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(Vq,{location:n.location,revalidation:n.revalidation,component:g,error:x,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var eO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eO||{}),fg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fg||{});function Gq(t){let e=N.useContext(ty);return e||Je(!1),e}function Kq(t){let e=N.useContext(Q4);return e||Je(!1),e}function Xq(t){let e=N.useContext(Uo);return e||Je(!1),e}function tO(t){let e=Xq(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function Yq(){var t;let e=N.useContext(J4),n=Kq(fg.UseRouteError),r=tO(fg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qq(){let{router:t}=Gq(eO.UseNavigateStable),e=tO(fg.UseNavigateStable),n=N.useRef(!1);return Z4(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hg({fromRouteId:e},s)))},[t,e])}const LC={};function Jq(t,e,n){LC[t]||(LC[t]=!0)}function Zq(t){let{to:e,replace:n,state:r,relative:i}=t;Yl()||Je(!1);let{future:s,static:o}=N.useContext(Fa),{matches:a}=N.useContext(Uo),{pathname:l}=rd(),u=Ba(),c=Z0(e,J0(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function eW(t){return jq(t.context)}function tW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=In.Pop,navigator:s,static:o=!1,future:a}=t;Yl()&&Je(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:hg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ma(r));let{pathname:c="/",search:f="",hash:m="",state:x=null,key:_="default"}=r,g=N.useMemo(()=>{let k=nd(c,l);return k==null?null:{location:{pathname:k,search:f,hash:m,state:x,key:_},navigationType:i}},[l,c,f,m,x,_,i]);return g==null?null:N.createElement(Fa.Provider,{value:u},N.createElement(kT.Provider,{children:n,value:g}))}new Promise(()=>{});function nW(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}function rW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sW(t,e){return t.button===0&&(!e||e==="_self")&&!iW(t)}const oW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],aW="6";try{window.__reactRouterVersion=aW}catch{}function lW(t,e){return gq({basename:void 0,future:hf({},void 0,{v7_prependBasename:!0}),history:jV({window:void 0}),hydrationData:uW(),routes:t,mapRouteProperties:nW,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function uW(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=hf({},e,{errors:cW(e.errors)})),e}function cW(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new CT(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const dW=N.createContext({isTransitioning:!1}),hW=N.createContext(new Map),fW="startTransition",NC=wm[fW],pW="flushSync",MC=$6[pW];function mW(t){NC?NC(t):t()}function Vd(t){MC?MC(t):t()}class gW{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function yW(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,a]=N.useState(),[l,u]=N.useState({isTransitioning:!1}),[c,f]=N.useState(),[m,x]=N.useState(),[_,g]=N.useState(),k=N.useRef(new Map),{v7_startTransition:E}=r||{},w=N.useCallback(D=>{E?mW(D):D()},[E]),S=N.useCallback((D,P)=>{let{deletedFetchers:M,unstable_flushSync:B,unstable_viewTransitionOpts:$}=P;M.forEach(F=>k.current.delete(F)),D.fetchers.forEach((F,se)=>{F.data!==void 0&&k.current.set(se,F.data)});let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!$||V){B?Vd(()=>s(D)):w(()=>s(D));return}if(B){Vd(()=>{m&&(c&&c.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let F=n.window.document.startViewTransition(()=>{Vd(()=>s(D))});F.finished.finally(()=>{Vd(()=>{f(void 0),x(void 0),a(void 0),u({isTransitioning:!1})})}),Vd(()=>x(F));return}m?(c&&c.resolve(),m.skipTransition(),g({state:D,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(a(D),u({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,m,c,k,w]);N.useLayoutEffect(()=>n.subscribe(S),[n,S]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new gW)},[l]),N.useEffect(()=>{if(c&&o&&n.window){let D=o,P=c.promise,M=n.window.document.startViewTransition(async()=>{w(()=>s(D)),await P});M.finished.finally(()=>{f(void 0),x(void 0),a(void 0),u({isTransitioning:!1})}),x(M)}},[w,o,c,n.window]),N.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,m,i.location,o]),N.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),g(void 0))},[l.isTransitioning,_]),N.useEffect(()=>{},[]);let O=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,P,M)=>n.navigate(D,{state:P,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(D,P,M)=>n.navigate(D,{replace:!0,state:P,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),L=n.basename||"/",R=N.useMemo(()=>({router:n,navigator:O,static:!1,basename:L}),[n,O,L]);return N.createElement(N.Fragment,null,N.createElement(ty.Provider,{value:R},N.createElement(Q4.Provider,{value:i},N.createElement(hW.Provider,{value:k.current},N.createElement(dW.Provider,{value:l},N.createElement(tW,{basename:L,location:i.location,navigationType:i.historyAction,navigator:O,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?N.createElement(vW,{routes:n.routes,future:n.future,state:i}):e))))),null)}function vW(t){let{routes:e,future:n,state:r}=t;return $q(e,void 0,r,n)}const _W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ff=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,m=rW(e,oW),{basename:x}=N.useContext(Fa),_,g=!1;if(typeof u=="string"&&bW.test(u)&&(_=u,_W))try{let S=new URL(window.location.href),O=u.startsWith("//")?new URL(S.protocol+u):new URL(u),L=nd(O.pathname,x);O.origin===S.origin&&L!=null?u=L+O.search+O.hash:g=!0}catch{}let k=Mq(u,{relative:i}),E=TW(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function w(S){r&&r(S),S.defaultPrevented||E(S)}return N.createElement("a",hf({},m,{href:_||k,onClick:g||s?r:w,ref:n,target:l}))});var FC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FC||(FC={}));var BC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BC||(BC={}));function TW(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ba(),u=rd(),c=DT(t,{relative:o});return N.useCallback(f=>{if(sW(f,n)){f.preventDefault();let m=r!==void 0?r:$l(u)===$l(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function nO(t,e){return function(){return t.apply(e,arguments)}}const{toString:xW}=Object.prototype,{getPrototypeOf:PT}=Object,ny=(t=>e=>{const n=xW.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gs=t=>(t=t.toLowerCase(),e=>ny(e)===t),ry=t=>e=>typeof e===t,{isArray:id}=Array,pf=ry("undefined");function SW(t){return t!==null&&!pf(t)&&t.constructor!==null&&!pf(t.constructor)&&Li(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rO=gs("ArrayBuffer");function EW(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rO(t.buffer),e}const wW=ry("string"),Li=ry("function"),iO=ry("number"),iy=t=>t!==null&&typeof t=="object",CW=t=>t===!0||t===!1,vm=t=>{if(ny(t)!=="object")return!1;const e=PT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AW=gs("Date"),IW=gs("File"),kW=gs("Blob"),DW=gs("FileList"),PW=t=>iy(t)&&Li(t.pipe),RW=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Li(t.append)&&((e=ny(t))==="formdata"||e==="object"&&Li(t.toString)&&t.toString()==="[object FormData]"))},OW=gs("URLSearchParams"),[LW,NW,MW,FW]=["ReadableStream","Request","Response","Headers"].map(gs),BW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),id(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function sO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const oO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aO=t=>!pf(t)&&t!==oO;function K1(){const{caseless:t}=aO(this)&&this||{},e={},n=(r,i)=>{const s=t&&sO(e,i)||i;vm(e[s])&&vm(r)?e[s]=K1(e[s],r):vm(r)?e[s]=K1({},r):id(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&zf(arguments[r],n);return e}const UW=(t,e,n,{allOwnKeys:r}={})=>(zf(e,(i,s)=>{n&&Li(i)?t[s]=nO(i,n):t[s]=i},{allOwnKeys:r}),t),jW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$W=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zW=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&PT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},HW=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},VW=t=>{if(!t)return null;if(id(t))return t;let e=t.length;if(!iO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},qW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&PT(Uint8Array)),WW=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},GW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},KW=gs("HTMLFormElement"),XW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),UC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),YW=gs("RegExp"),lO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};zf(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},QW=t=>{lO(t,(e,n)=>{if(Li(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Li(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JW=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return id(t)?r(t):r(String(t).split(e)),n},ZW=()=>{},eG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,n_="abcdefghijklmnopqrstuvwxyz",jC="0123456789",uO={DIGIT:jC,ALPHA:n_,ALPHA_DIGIT:n_+n_.toUpperCase()+jC},tG=(t=16,e=uO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function nG(t){return!!(t&&Li(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const rG=t=>{const e=new Array(10),n=(r,i)=>{if(iy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=id(r)?[]:{};return zf(r,(o,a)=>{const l=n(o,i+1);!pf(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},iG=gs("AsyncFunction"),sG=t=>t&&(iy(t)||Li(t))&&Li(t.then)&&Li(t.catch),oe={isArray:id,isArrayBuffer:rO,isBuffer:SW,isFormData:RW,isArrayBufferView:EW,isString:wW,isNumber:iO,isBoolean:CW,isObject:iy,isPlainObject:vm,isReadableStream:LW,isRequest:NW,isResponse:MW,isHeaders:FW,isUndefined:pf,isDate:AW,isFile:IW,isBlob:kW,isRegExp:YW,isFunction:Li,isStream:PW,isURLSearchParams:OW,isTypedArray:qW,isFileList:DW,forEach:zf,merge:K1,extend:UW,trim:BW,stripBOM:jW,inherits:$W,toFlatObject:zW,kindOf:ny,kindOfTest:gs,endsWith:HW,toArray:VW,forEachEntry:WW,matchAll:GW,isHTMLForm:KW,hasOwnProperty:UC,hasOwnProp:UC,reduceDescriptors:lO,freezeMethods:QW,toObjectSet:JW,toCamelCase:XW,noop:ZW,toFiniteNumber:eG,findKey:sO,global:oO,isContextDefined:aO,ALPHABET:uO,generateString:tG,isSpecCompliantForm:nG,toJSONObject:rG,isAsyncFn:iG,isThenable:sG};function Qe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}oe.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cO=Qe.prototype,dO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dO[t]={value:t}});Object.defineProperties(Qe,dO);Object.defineProperty(cO,"isAxiosError",{value:!0});Qe.from=(t,e,n,r,i,s)=>{const o=Object.create(cO);return oe.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Qe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const oG=null;function X1(t){return oe.isPlainObject(t)||oe.isArray(t)}function hO(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function $C(t,e,n){return t?t.concat(e).map(function(i,s){return i=hO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function aG(t){return oe.isArray(t)&&!t.some(X1)}const lG=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function sy(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,k){return!oe.isUndefined(k[g])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(oe.isDate(_))return _.toISOString();if(!l&&oe.isBlob(_))throw new Qe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(_)||oe.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,g,k){let E=_;if(_&&!k&&typeof _=="object"){if(oe.endsWith(g,"{}"))g=r?g:g.slice(0,-2),_=JSON.stringify(_);else if(oe.isArray(_)&&aG(_)||(oe.isFileList(_)||oe.endsWith(g,"[]"))&&(E=oe.toArray(_)))return g=hO(g),E.forEach(function(S,O){!(oe.isUndefined(S)||S===null)&&e.append(o===!0?$C([g],O,s):o===null?g:g+"[]",u(S))}),!1}return X1(_)?!0:(e.append($C(k,g,s),u(_)),!1)}const f=[],m=Object.assign(lG,{defaultVisitor:c,convertValue:u,isVisitable:X1});function x(_,g){if(!oe.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(_),oe.forEach(_,function(E,w){(!(oe.isUndefined(E)||E===null)&&i.call(e,E,oe.isString(w)?w.trim():w,g,m))===!0&&x(E,g?g.concat(w):[w])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return x(t),e}function zC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function RT(t,e){this._pairs=[],t&&sy(t,this,e)}const fO=RT.prototype;fO.append=function(e,n){this._pairs.push([e,n])};fO.toString=function(e){const n=e?function(r){return e.call(this,r,zC)}:zC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function uG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pO(t,e,n){if(!e)return t;const r=n&&n.encode||uG,i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new RT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class HC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cG=typeof URLSearchParams<"u"?URLSearchParams:RT,dG=typeof FormData<"u"?FormData:null,hG=typeof Blob<"u"?Blob:null,fG={isBrowser:!0,classes:{URLSearchParams:cG,FormData:dG,Blob:hG},protocols:["http","https","file","blob","url","data"]},OT=typeof window<"u"&&typeof document<"u",pG=(t=>OT&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),mG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gG=OT&&window.location.href||"http://localhost",yG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:OT,hasStandardBrowserEnv:pG,hasStandardBrowserWebWorkerEnv:mG,origin:gG},Symbol.toStringTag,{value:"Module"})),ls={...yG,...fG};function vG(t,e){return sy(t,new ls.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ls.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _G(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bG(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function gO(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,l?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=bG(i[o])),!a)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e(_G(r),i,n,0)}),n}return null}function TG(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Hf={transitional:mO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(gO(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vG(e,this.formSerializer).toString();if((a=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sy(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),TG(e)):e}],transformResponse:[function(e){const n=this.transitional||Hf.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Qe.from(a,Qe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ls.classes.FormData,Blob:ls.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{Hf.headers[t]={}});const xG=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SG=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&xG[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},VC=Symbol("internals");function qd(t){return t&&String(t).trim().toLowerCase()}function _m(t){return t===!1||t==null?t:oe.isArray(t)?t.map(_m):String(t)}function EG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const wG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function r_(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function CG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function AG(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class qr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=qd(l);if(!c)throw new Error("header name must be a non-empty string");const f=oe.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=_m(a))}const o=(a,l)=>oe.forEach(a,(u,c)=>s(u,c,l));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!wG(e))o(SG(e),n);else if(oe.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=qd(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return EG(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||r_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=qd(o),o){const a=oe.findKey(r,o);a&&(!n||r_(r,r[a],a,n))&&(delete r[a],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||r_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=_m(i),delete n[s];return}const a=e?CG(s):String(s).trim();a!==s&&delete n[s],n[a]=_m(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[VC]=this[VC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=qd(o);r[a]||(AG(i,o),r[a]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(qr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(qr);function i_(t,e){const n=this||Hf,r=e||n,i=qr.from(r.headers);let s=r.data;return oe.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function yO(t){return!!(t&&t.__CANCEL__)}function sd(t,e,n){Qe.call(this,t??"canceled",Qe.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(sd,Qe,{__CANCEL__:!0});function vO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function IG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kG(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,m=0;for(;f!==i;)m+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const x=c&&u-c;return x?Math.round(m*1e3/x):void 0}}function DG(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const pg=(t,e,n=3)=>{let r=0;const i=kG(50,250);return DG(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null};f[e?"download":"upload"]=!0,t(f)},n)},PG=ls.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=oe.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),RG=ls.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function LG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _O(t,e){return t&&!OG(e)?LG(t,e):e}const qC=t=>t instanceof qr?{...t}:t;function zl(t,e){e=e||{};const n={};function r(u,c,f){return oe.isPlainObject(u)&&oe.isPlainObject(c)?oe.merge.call({caseless:f},u,c):oe.isPlainObject(c)?oe.merge({},c):oe.isArray(c)?c.slice():c}function i(u,c,f){if(oe.isUndefined(c)){if(!oe.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function s(u,c){if(!oe.isUndefined(c))return r(void 0,c)}function o(u,c){if(oe.isUndefined(c)){if(!oe.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(qC(u),qC(c),!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,m=f(t[c],e[c],c);oe.isUndefined(m)&&f!==a||(n[c]=m)}),n}const bO=t=>{const e=zl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=qr.from(o),e.url=pO(_O(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(oe.isFormData(n)){if(ls.hasStandardBrowserEnv||ls.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(ls.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&PG(e.url))){const u=i&&s&&RG.read(s);u&&o.set(i,u)}return e},NG=typeof XMLHttpRequest<"u",MG=NG&&function(t){return new Promise(function(n,r){const i=bO(t);let s=i.data;const o=qr.from(i.headers).normalize();let{responseType:a}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout;function f(){if(!c)return;const x=qr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:x,config:t,request:c};vO(function(E){n(E),u()},function(E){r(E),u()},g),c=null}"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Qe("Request aborted",Qe.ECONNABORTED,i,c)),c=null)},c.onerror=function(){r(new Qe("Network Error",Qe.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const g=i.transitional||mO;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new Qe(_,g.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,i,c)),c=null},s===void 0&&o.setContentType(null),"setRequestHeader"in c&&oe.forEach(o.toJSON(),function(_,g){c.setRequestHeader(g,_)}),oe.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),a&&a!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",pg(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",pg(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=x=>{c&&(r(!x||x.type?new sd(null,t,c):x),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const m=IG(i.url);if(m&&ls.protocols.indexOf(m)===-1){r(new Qe("Unsupported protocol "+m+":",Qe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},FG=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Qe?u:new sd(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},BG=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},UG=async function*(t,e,n){for await(const r of t)yield*BG(ArrayBuffer.isView(r)?r:await n(String(r)),e)},WC=(t,e,n,r,i)=>{const s=UG(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await s.next();if(l){a.close(),r();return}let c=u.byteLength;n&&n(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},GC=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},oy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TO=oy&&typeof ReadableStream=="function",Y1=oy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jG=TO&&(()=>{let t=!1;const e=new Request(ls.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),KC=64*1024,Q1=TO&&!!(()=>{try{return oe.isReadableStream(new Response("").body)}catch{}})(),mg={stream:Q1&&(t=>t.body)};oy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!mg[e]&&(mg[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Qe(`Response type '${e}' is not supported`,Qe.ERR_NOT_SUPPORT,r)})})})(new Response);const $G=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await Y1(t)).byteLength},zG=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??$G(e)},HG=oy&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:m}=bO(t);u=u?(u+"").toLowerCase():"text";let[x,_]=i||s||o?FG([i,s],o):[],g,k;const E=()=>{!g&&setTimeout(()=>{x&&x.unsubscribe()}),g=!0};let w;try{if(l&&jG&&n!=="get"&&n!=="head"&&(w=await zG(c,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),D;oe.isFormData(r)&&(D=R.headers.get("content-type"))&&c.setContentType(D),R.body&&(r=WC(R.body,KC,GC(w,pg(l)),null,Y1))}oe.isString(f)||(f=f?"cors":"omit"),k=new Request(e,{...m,signal:x,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let S=await fetch(k);const O=Q1&&(u==="stream"||u==="response");if(Q1&&(a||O)){const R={};["status","statusText","headers"].forEach(P=>{R[P]=S[P]});const D=oe.toFiniteNumber(S.headers.get("content-length"));S=new Response(WC(S.body,KC,a&&GC(D,pg(a,!0)),O&&E,Y1),R)}u=u||"text";let L=await mg[oe.findKey(mg,u)||"text"](S,t);return!O&&E(),_&&_(),await new Promise((R,D)=>{vO(R,D,{data:L,headers:qr.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:k})})}catch(S){throw E(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,t,k),{cause:S.cause||S}):Qe.from(S,S&&S.code,t,k)}}),J1={http:oG,xhr:MG,fetch:HG};oe.forEach(J1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XC=t=>`- ${t}`,VG=t=>oe.isFunction(t)||t===null||t===!1,xO={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!VG(n)&&(r=J1[(o=String(n)).toLowerCase()],r===void 0))throw new Qe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(XC).join(`
`):" "+XC(s[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:J1};function s_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sd(null,t)}function YC(t){return s_(t),t.headers=qr.from(t.headers),t.data=i_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xO.getAdapter(t.adapter||Hf.adapter)(t).then(function(r){return s_(t),r.data=i_.call(t,t.transformResponse,r),r.headers=qr.from(r.headers),r},function(r){return yO(r)||(s_(t),r&&r.response&&(r.response.data=i_.call(t,t.transformResponse,r.response),r.response.headers=qr.from(r.response.headers))),Promise.reject(r)})}const SO="1.7.2",LT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{LT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const QC={};LT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+SO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Qe(i(o," has been removed"+(n?" in "+n:"")),Qe.ERR_DEPRECATED);return n&&!QC[o]&&(QC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function qG(t,e,n){if(typeof t!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Qe("option "+s+" must be "+l,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+s,Qe.ERR_BAD_OPTION)}}const Z1={assertOptions:qG,validators:LT},Qo=Z1.validators;class El{constructor(e){this.defaults=e,this.interceptors={request:new HC,response:new HC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Z1.assertOptions(r,{silentJSONParsing:Qo.transitional(Qo.boolean),forcedJSONParsing:Qo.transitional(Qo.boolean),clarifyTimeoutError:Qo.transitional(Qo.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Z1.assertOptions(i,{encode:Qo.function,serialize:Qo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=qr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,f=0,m;if(!l){const _=[YC.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),m=_.length,c=Promise.resolve(n);f<m;)c=c.then(_[f++],_[f++]);return c}m=a.length;let x=n;for(f=0;f<m;){const _=a[f++],g=a[f++];try{x=_(x)}catch(k){g.call(this,k);break}}try{c=YC.call(this,x)}catch(_){return Promise.reject(_)}for(f=0,m=u.length;f<m;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=zl(this.defaults,e);const n=_O(e.baseURL,e.url);return pO(n,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){El.prototype[e]=function(n,r){return this.request(zl(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(zl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}El.prototype[e]=n(),El.prototype[e+"Form"]=n(!0)});class NT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new sd(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new NT(function(i){e=i}),cancel:e}}}function WG(t){return function(n){return t.apply(null,n)}}function GG(t){return oe.isObject(t)&&t.isAxiosError===!0}const eb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eb).forEach(([t,e])=>{eb[e]=t});function EO(t){const e=new El(t),n=nO(El.prototype.request,e);return oe.extend(n,El.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return EO(zl(t,i))},n}const at=EO(Hf);at.Axios=El;at.CanceledError=sd;at.CancelToken=NT;at.isCancel=yO;at.VERSION=SO;at.toFormData=sy;at.AxiosError=Qe;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=WG;at.isAxiosError=GG;at.mergeConfig=zl;at.AxiosHeaders=qr;at.formToJSON=t=>gO(oe.isHTMLForm(t)?new FormData(t):t);at.getAdapter=xO.getAdapter;at.HttpStatusCode=eb;at.default=at;function KG(t){return Object.keys(t).length===0}function XG(t=null){const e=N.useContext(j0);return!e||KG(e)?t:e}const YG=aT();function MT(t=YG){return XG(t)}function QG({styles:t,themeId:e,defaultTheme:n={}}){const r=MT(n),i=typeof t=="function"?t(e&&r[e]||r):t;return I.jsx(KR,{styles:i})}const JG=["className","component"];function ZG(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=XR("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(K0);return N.forwardRef(function(l,u){const c=MT(n),f=n4(l),{className:m,component:x="div"}=f,_=Ue(f,JG);return I.jsx(s,G({as:x,ref:u,className:rt(m,i?i(r):r),theme:e&&c[e]||c},_))})}const eK=N.createContext(),tK=()=>{const t=N.useContext(eK);return t??!1};function wO(){const t=MT(dT);return t[X0]||t}const JC=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};var Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT=Symbol.for("react.element"),BT=Symbol.for("react.portal"),ay=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),uy=Symbol.for("react.profiler"),cy=Symbol.for("react.provider"),dy=Symbol.for("react.context"),nK=Symbol.for("react.server_context"),hy=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),my=Symbol.for("react.memo"),gy=Symbol.for("react.lazy"),rK=Symbol.for("react.offscreen"),CO;CO=Symbol.for("react.module.reference");function qi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case FT:switch(t=t.type,t){case ay:case uy:case ly:case fy:case py:return t;default:switch(t=t&&t.$$typeof,t){case nK:case dy:case hy:case gy:case my:case cy:return t;default:return e}}case BT:return e}}}Ot.ContextConsumer=dy;Ot.ContextProvider=cy;Ot.Element=FT;Ot.ForwardRef=hy;Ot.Fragment=ay;Ot.Lazy=gy;Ot.Memo=my;Ot.Portal=BT;Ot.Profiler=uy;Ot.StrictMode=ly;Ot.Suspense=fy;Ot.SuspenseList=py;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(t){return qi(t)===dy};Ot.isContextProvider=function(t){return qi(t)===cy};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===FT};Ot.isForwardRef=function(t){return qi(t)===hy};Ot.isFragment=function(t){return qi(t)===ay};Ot.isLazy=function(t){return qi(t)===gy};Ot.isMemo=function(t){return qi(t)===my};Ot.isPortal=function(t){return qi(t)===BT};Ot.isProfiler=function(t){return qi(t)===uy};Ot.isStrictMode=function(t){return qi(t)===ly};Ot.isSuspense=function(t){return qi(t)===fy};Ot.isSuspenseList=function(t){return qi(t)===py};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ay||t===uy||t===ly||t===fy||t===py||t===rK||typeof t=="object"&&t!==null&&(t.$$typeof===gy||t.$$typeof===my||t.$$typeof===cy||t.$$typeof===dy||t.$$typeof===hy||t.$$typeof===CO||t.getModuleId!==void 0)};Ot.typeOf=qi;function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tb(t,e)}function AO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tb(t,e)}const ZC={disabled:!1},gg=Ls.createContext(null);var iK=function(e){return e.scrollTop},dh="unmounted",ol="exited",al="entering",Mu="entered",nb="exiting",Qs=function(t){AO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ol,s.appearStatus=al):l=Mu:r.unmountOnExit||r.mountOnEnter?l=dh:l=ol,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===dh?{status:ol}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==al&&o!==Mu&&(s=al):(o===al||o===Mu)&&(s=nb)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===al){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ah.findDOMNode(this);o&&iK(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ol&&this.setState({status:dh})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ah.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),m=a?f.appear:f.enter;if(!i&&!o||ZC.disabled){this.safeSetState({status:Mu},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:al},function(){s.props.onEntering(u,c),s.onTransitionEnd(m,function(){s.safeSetState({status:Mu},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ah.findDOMNode(this);if(!s||ZC.disabled){this.safeSetState({status:ol},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:nb},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ol},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ah.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===dh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ue(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ls.createElement(gg.Provider,{value:null},typeof o=="function"?o(i,a):Ls.cloneElement(Ls.Children.only(o),a))},e}(Ls.Component);Qs.contextType=gg;Qs.propTypes={};function Au(){}Qs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Au,onEntering:Au,onEntered:Au,onExit:Au,onExiting:Au,onExited:Au};Qs.UNMOUNTED=dh;Qs.EXITED=ol;Qs.ENTERING=al;Qs.ENTERED=Mu;Qs.EXITING=nb;function sK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UT(t,e){var n=function(s){return e&&N.isValidElement(s)?e(s):s},r=Object.create(null);return t&&N.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function oK(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function _l(t,e,n){return n[e]!=null?n[e]:t.props[e]}function aK(t,e){return UT(t.children,function(n){return N.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:_l(n,"appear",t),enter:_l(n,"enter",t),exit:_l(n,"exit",t)})})}function lK(t,e,n){var r=UT(t.children),i=oK(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(N.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=N.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:_l(o,"exit",t),enter:_l(o,"enter",t)}):!l&&a&&!c?i[s]=N.cloneElement(o,{in:!1}):l&&a&&N.isValidElement(u)&&(i[s]=N.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:_l(o,"exit",t),enter:_l(o,"enter",t)}))}}),i}var uK=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},cK={component:"div",childFactory:function(e){return e}},jT=function(t){AO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(sK(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?aK(i,a):lK(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=UT(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ue(i,["component","childFactory"]),l=this.state.contextValue,u=uK(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ls.createElement(gg.Provider,{value:l},u):Ls.createElement(gg.Provider,{value:l},Ls.createElement(s,a,u))},e}(Ls.Component);jT.propTypes={};jT.defaultProps=cK;const IO=t=>t.scrollTop;function yg(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function dK(t){return Yt("MuiPaper",t)}Rt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hK=["className","component","elevation","square","variant"],fK=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ln(s,dK,i)},pK=je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Di("#fff",JC(e.elevation))}, ${Di("#fff",JC(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),mK=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=Ue(r,hK),c=G({},r,{component:s,elevation:o,square:a,variant:l}),f=fK(c);return I.jsx(pK,G({as:s,ownerState:c,className:rt(f.root,i),ref:n},u))});function vg(t){return typeof t=="string"}function kO(t,e,n){return t===void 0||vg(t)?e:G({},e,{ownerState:G({},e.ownerState,n)})}function DO(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function PO(t,e,n){return typeof t=="function"?t(e,n):t}function eA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function RO(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const x=rt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),_=G({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=G({},n,i,r);return x.length>0&&(g.className=x),Object.keys(_).length>0&&(g.style=_),{props:g,internalRef:void 0}}const o=DO(G({},i,r)),a=eA(r),l=eA(i),u=e(o),c=rt(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f=G({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=G({},u,n,l,a);return c.length>0&&(m.className=c),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:u.ref}}const gK=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Pc(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ue(t,gK),a=s?{}:PO(r,i),{props:l,internalRef:u}=RO(G({},o,{externalSlotProps:a})),c=tr(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return kO(n,G({},l,{ref:c}),i)}const yK=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],vK=["component","slots","slotProps"],_K=["component"];function bK(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,l=Ue(e,yK),{component:u,slots:c={[t]:void 0},slotProps:f={[t]:void 0}}=s;Ue(s,vK);const m=c[t]||r,x=PO(f[t],i),_=RO(G({className:n},l,{externalForwardedProps:void 0,externalSlotProps:x})),{props:{component:g},internalRef:k}=_,E=Ue(_.props,_K),w=tr(k,x==null?void 0:x.ref,e.ref),S=o?o(E):{},O=G({},i,S),L=g,R=kO(m,G({},t==="root",!c[t]&&a,E,L&&{as:L},{ref:w}),O);return Object.keys(S).forEach(D=>{delete R[D]}),[m,R]}function TK(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,f]=N.useState(!1),m=rt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),x={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},_=rt(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&f(!0),N.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),I.jsx("span",{className:m,style:x,children:I.jsx("span",{className:_})})}const wi=Rt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xK=["center","classes","className"];let yy=t=>t,tA,nA,rA,iA;const rb=550,SK=80,EK=$0(tA||(tA=yy`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),wK=$0(nA||(nA=yy`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),CK=$0(rA||(rA=yy`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),AK=je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),IK=je(TK,{name:"MuiTouchRipple",slot:"Ripple"})(iA||(iA=yy`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),wi.rippleVisible,EK,rb,({theme:t})=>t.transitions.easing.easeInOut,wi.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,wi.child,wi.childLeaving,wK,rb,({theme:t})=>t.transitions.easing.easeInOut,wi.childPulsate,CK,({theme:t})=>t.transitions.easing.easeInOut),kK=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ue(r,xK),[l,u]=N.useState([]),c=N.useRef(0),f=N.useRef(null);N.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const m=N.useRef(!1),x=SR(),_=N.useRef(null),g=N.useRef(null),k=N.useCallback(O=>{const{pulsate:L,rippleX:R,rippleY:D,rippleSize:P,cb:M}=O;u(B=>[...B,I.jsx(IK,{classes:{ripple:rt(s.ripple,wi.ripple),rippleVisible:rt(s.rippleVisible,wi.rippleVisible),ripplePulsate:rt(s.ripplePulsate,wi.ripplePulsate),child:rt(s.child,wi.child),childLeaving:rt(s.childLeaving,wi.childLeaving),childPulsate:rt(s.childPulsate,wi.childPulsate)},timeout:rb,pulsate:L,rippleX:R,rippleY:D,rippleSize:P},c.current)]),c.current+=1,f.current=M},[s]),E=N.useCallback((O={},L={},R=()=>{})=>{const{pulsate:D=!1,center:P=i||L.pulsate,fakeElement:M=!1}=L;if((O==null?void 0:O.type)==="mousedown"&&m.current){m.current=!1;return}(O==null?void 0:O.type)==="touchstart"&&(m.current=!0);const B=M?null:g.current,$=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,F,se;if(P||O===void 0||O.clientX===0&&O.clientY===0||!O.clientX&&!O.touches)V=Math.round($.width/2),F=Math.round($.height/2);else{const{clientX:ce,clientY:ue}=O.touches&&O.touches.length>0?O.touches[0]:O;V=Math.round(ce-$.left),F=Math.round(ue-$.top)}if(P)se=Math.sqrt((2*$.width**2+$.height**2)/3),se%2===0&&(se+=1);else{const ce=Math.max(Math.abs((B?B.clientWidth:0)-V),V)*2+2,ue=Math.max(Math.abs((B?B.clientHeight:0)-F),F)*2+2;se=Math.sqrt(ce**2+ue**2)}O!=null&&O.touches?_.current===null&&(_.current=()=>{k({pulsate:D,rippleX:V,rippleY:F,rippleSize:se,cb:R})},x.start(SK,()=>{_.current&&(_.current(),_.current=null)})):k({pulsate:D,rippleX:V,rippleY:F,rippleSize:se,cb:R})},[i,k,x]),w=N.useCallback(()=>{E({},{pulsate:!0})},[E]),S=N.useCallback((O,L)=>{if(x.clear(),(O==null?void 0:O.type)==="touchend"&&_.current){_.current(),_.current=null,x.start(0,()=>{S(O,L)});return}_.current=null,u(R=>R.length>0?R.slice(1):R),f.current=L},[x]);return N.useImperativeHandle(n,()=>({pulsate:w,start:E,stop:S}),[w,E,S]),I.jsx(AK,G({className:rt(wi.root,s.root,o),ref:g},a,{children:I.jsx(jT,{component:null,exit:!0,children:l})}))});function DK(t){return Yt("MuiButtonBase",t)}const PK=Rt("MuiButtonBase",["root","disabled","focusVisible"]),RK=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],OK=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=ln({root:["root",e&&"disabled",n&&"focusVisible"]},DK,i);return n&&r&&(o.root+=` ${r}`),o},LK=je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${PK.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$T=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:f=!1,focusRipple:m=!1,LinkComponent:x="a",onBlur:_,onClick:g,onContextMenu:k,onDragLeave:E,onFocus:w,onFocusVisible:S,onKeyDown:O,onKeyUp:L,onMouseDown:R,onMouseLeave:D,onMouseUp:P,onTouchEnd:M,onTouchMove:B,onTouchStart:$,tabIndex:V=0,TouchRippleProps:F,touchRippleRef:se,type:ce}=r,ue=Ue(r,RK),le=N.useRef(null),ee=N.useRef(null),fe=tr(ee,se),{isFocusVisibleRef:ye,onFocus:ke,onBlur:Se,ref:De}=ER(),[Ie,Ve]=N.useState(!1);u&&Ie&&Ve(!1),N.useImperativeHandle(i,()=>({focusVisible:()=>{Ve(!0),le.current.focus()}}),[]);const[qe,Pt]=N.useState(!1);N.useEffect(()=>{Pt(!0)},[]);const Qt=qe&&!c&&!u;N.useEffect(()=>{Ie&&m&&!c&&qe&&ee.current.pulsate()},[c,m,Ie,qe]);function Lt(Ee,Bn,gr=f){return ml(et=>(Bn&&Bn(et),!gr&&ee.current&&ee.current[Ee](et),!0))}const Jt=Lt("start",R),Ze=Lt("stop",k),$e=Lt("stop",E),Ne=Lt("stop",P),st=Lt("stop",Ee=>{Ie&&Ee.preventDefault(),D&&D(Ee)}),gt=Lt("start",$),gn=Lt("stop",M),Fn=Lt("stop",B),$t=Lt("stop",Ee=>{Se(Ee),ye.current===!1&&Ve(!1),_&&_(Ee)},!1),yn=ml(Ee=>{le.current||(le.current=Ee.currentTarget),ke(Ee),ye.current===!0&&(Ve(!0),S&&S(Ee)),w&&w(Ee)}),Fe=()=>{const Ee=le.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},Tt=N.useRef(!1),Gn=ml(Ee=>{m&&!Tt.current&&Ie&&ee.current&&Ee.key===" "&&(Tt.current=!0,ee.current.stop(Ee,()=>{ee.current.start(Ee)})),Ee.target===Ee.currentTarget&&Fe()&&Ee.key===" "&&Ee.preventDefault(),O&&O(Ee),Ee.target===Ee.currentTarget&&Fe()&&Ee.key==="Enter"&&!u&&(Ee.preventDefault(),g&&g(Ee))}),cn=ml(Ee=>{m&&Ee.key===" "&&ee.current&&Ie&&!Ee.defaultPrevented&&(Tt.current=!1,ee.current.stop(Ee,()=>{ee.current.pulsate(Ee)})),L&&L(Ee),g&&Ee.target===Ee.currentTarget&&Fe()&&Ee.key===" "&&!Ee.defaultPrevented&&g(Ee)});let nt=l;nt==="button"&&(ue.href||ue.to)&&(nt=x);const Zt={};nt==="button"?(Zt.type=ce===void 0?"button":ce,Zt.disabled=u):(!ue.href&&!ue.to&&(Zt.role="button"),u&&(Zt["aria-disabled"]=u));const yt=tr(n,De,le),dt=G({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:f,focusRipple:m,tabIndex:V,focusVisible:Ie}),We=OK(dt);return I.jsxs(LK,G({as:nt,className:rt(We.root,a),ownerState:dt,onBlur:$t,onClick:g,onContextMenu:Ze,onFocus:yn,onKeyDown:Gn,onKeyUp:cn,onMouseDown:Jt,onMouseLeave:st,onMouseUp:Ne,onDragLeave:$e,onTouchEnd:gn,onTouchMove:Fn,onTouchStart:gt,ref:yt,tabIndex:u?-1:V,type:ce},Zt,ue,{children:[o,Qt?I.jsx(kK,G({ref:fe,center:s},F)):null]}))});function NK(t){return Yt("MuiIconButton",t)}const MK=Rt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),FK=["edge","children","className","color","disabled","disableFocusRipple","size"],BK=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${it(r)}`,i&&`edge${it(i)}`,`size${it(s)}`]};return ln(o,NK,e)},UK=je($T,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${it(n.color)}`],n.edge&&e[`edge${it(n.edge)}`],e[`size${it(n.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Di(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":G({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Di(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${MK.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),To=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,f=Ue(r,FK),m=G({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),x=BK(m);return I.jsx(UK,G({className:rt(x.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n},f,{ownerState:m,children:s}))}),jK=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function $K(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function zK(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function HK(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||zK(t))}function VK(t){const e=[],n=[];return Array.from(t.querySelectorAll(jK)).forEach((r,i)=>{const s=$K(r);s===-1||!HK(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function qK(){return!0}function WK(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=VK,isEnabled:o=qK,open:a}=t,l=N.useRef(!1),u=N.useRef(null),c=N.useRef(null),f=N.useRef(null),m=N.useRef(null),x=N.useRef(!1),_=N.useRef(null),g=tr(e.ref,_),k=N.useRef(null);N.useEffect(()=>{!a||!_.current||(x.current=!n)},[n,a]),N.useEffect(()=>{if(!a||!_.current)return;const S=Hr(_.current);return _.current.contains(S.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),x.current&&_.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),N.useEffect(()=>{if(!a||!_.current)return;const S=Hr(_.current),O=D=>{k.current=D,!(r||!o()||D.key!=="Tab")&&S.activeElement===_.current&&D.shiftKey&&(l.current=!0,c.current&&c.current.focus())},L=()=>{const D=_.current;if(D===null)return;if(!S.hasFocus()||!o()||l.current){l.current=!1;return}if(D.contains(S.activeElement)||r&&S.activeElement!==u.current&&S.activeElement!==c.current)return;if(S.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!x.current)return;let P=[];if((S.activeElement===u.current||S.activeElement===c.current)&&(P=s(_.current)),P.length>0){var M,B;const $=!!((M=k.current)!=null&&M.shiftKey&&((B=k.current)==null?void 0:B.key)==="Tab"),V=P[0],F=P[P.length-1];typeof V!="string"&&typeof F!="string"&&($?F.focus():V.focus())}else D.focus()};S.addEventListener("focusin",L),S.addEventListener("keydown",O,!0);const R=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(R),S.removeEventListener("focusin",L),S.removeEventListener("keydown",O,!0)}},[n,r,i,o,a,s]);const E=S=>{f.current===null&&(f.current=S.relatedTarget),x.current=!0,m.current=S.target;const O=e.props.onFocus;O&&O(S)},w=S=>{f.current===null&&(f.current=S.relatedTarget),x.current=!0};return I.jsxs(N.Fragment,{children:[I.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),N.cloneElement(e,{ref:g,onFocus:E}),I.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelEnd"})]})}function GK(t){return typeof t=="function"?t():t}const KK=N.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=N.useState(null),l=tr(N.isValidElement(r)?r.ref:null,n);if(ko(()=>{s||a(GK(i)||document.body)},[i,s]),ko(()=>{if(o&&!s)return sg(n,o),()=>{sg(n,null)}},[n,o,s]),s){if(N.isValidElement(r)){const u={ref:l};return N.cloneElement(r,u)}return I.jsx(N.Fragment,{children:r})}return I.jsx(N.Fragment,{children:o&&u0.createPortal(r,o)})});function XK(t){const e=Hr(t);return e.body===t?Da(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ph(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function sA(t){return parseInt(Da(t).getComputedStyle(t).paddingRight,10)||0}function YK(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function oA(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!YK(o);a&&l&&Ph(o,i)})}function o_(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function QK(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(XK(r)){const o=wR(Hr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${sA(r)+o}px`;const a=Hr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${sA(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Hr(r).body;else{const o=r.parentElement,a=Da(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function JK(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class ZK{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ph(e.modalRef,!1);const i=JK(n);oA(n,e.mount,e.modalRef,i,!0);const s=o_(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=o_(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=QK(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=o_(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ph(e.modalRef,n),oA(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Ph(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function eX(t){return typeof t=="function"?t():t}function tX(t){return t?t.props.hasOwnProperty("in"):!1}const nX=new ZK;function rX(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=nX,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:f}=t,m=N.useRef({}),x=N.useRef(null),_=N.useRef(null),g=tr(_,f),[k,E]=N.useState(!c),w=tX(l);let S=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(S=!1);const O=()=>Hr(x.current),L=()=>(m.current.modalRef=_.current,m.current.mount=x.current,m.current),R=()=>{i.mount(L(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},D=ml(()=>{const ue=eX(e)||O().body;i.add(L(),ue),_.current&&R()}),P=N.useCallback(()=>i.isTopModal(L()),[i]),M=ml(ue=>{x.current=ue,ue&&(c&&P()?R():_.current&&Ph(_.current,S))}),B=N.useCallback(()=>{i.remove(L(),S)},[S,i]);N.useEffect(()=>()=>{B()},[B]),N.useEffect(()=>{c?D():(!w||!s)&&B()},[c,B,w,s,D]);const $=ue=>le=>{var ee;(ee=ue.onKeyDown)==null||ee.call(ue,le),!(le.key!=="Escape"||le.which===229||!P())&&(n||(le.stopPropagation(),u&&u(le,"escapeKeyDown")))},V=ue=>le=>{var ee;(ee=ue.onClick)==null||ee.call(ue,le),le.target===le.currentTarget&&u&&u(le,"backdropClick")};return{getRootProps:(ue={})=>{const le=DO(t);delete le.onTransitionEnter,delete le.onTransitionExited;const ee=G({},le,ue);return G({role:"presentation"},ee,{onKeyDown:$(ee),ref:g})},getBackdropProps:(ue={})=>{const le=ue;return G({"aria-hidden":!0},le,{onClick:V(le),open:c})},getTransitionProps:()=>{const ue=()=>{E(!1),o&&o()},le=()=>{E(!0),a&&a(),s&&B()};return{onEnter:L1(ue,l==null?void 0:l.props.onEnter),onExited:L1(le,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:M,isTopModal:P,exited:k,hasTransition:w}}const iX=["onChange","maxRows","minRows","style","value"];function Fp(t){return parseInt(t,10)||0}const sX={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function oX(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const aX=N.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=Ue(e,iX),{current:u}=N.useRef(a!=null),c=N.useRef(null),f=tr(n,c),m=N.useRef(null),x=N.useCallback(()=>{const k=c.current,w=Da(k).getComputedStyle(k);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};const S=m.current;S.style.width=w.width,S.value=k.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const O=w.boxSizing,L=Fp(w.paddingBottom)+Fp(w.paddingTop),R=Fp(w.borderBottomWidth)+Fp(w.borderTopWidth),D=S.scrollHeight;S.value="x";const P=S.scrollHeight;let M=D;s&&(M=Math.max(Number(s)*P,M)),i&&(M=Math.min(Number(i)*P,M)),M=Math.max(M,P);const B=M+(O==="border-box"?L+R:0),$=Math.abs(M-D)<=1;return{outerHeightStyle:B,overflowing:$}},[i,s,e.placeholder]),_=N.useCallback(()=>{const k=x();if(oX(k))return;const E=c.current;E.style.height=`${k.outerHeightStyle}px`,E.style.overflow=k.overflowing?"hidden":""},[x]);ko(()=>{const k=()=>{_()};let E;const w=G2(k),S=c.current,O=Da(S);O.addEventListener("resize",w);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(k),L.observe(S)),()=>{w.clear(),cancelAnimationFrame(E),O.removeEventListener("resize",w),L&&L.disconnect()}},[x,_]),ko(()=>{_()});const g=k=>{u||_(),r&&r(k)};return I.jsxs(N.Fragment,{children:[I.jsx("textarea",G({value:a,onChange:g,ref:f,rows:s,style:o},l)),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:G({},sX.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function od({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const zT=N.createContext(void 0);function ad(){return N.useContext(zT)}function lX(t){return I.jsx(QG,G({},t,{defaultTheme:dT,themeId:X0}))}function aA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function _g(t,e=!1){return t&&(aA(t.value)&&t.value!==""||e&&aA(t.defaultValue)&&t.defaultValue!=="")}function uX(t){return t.startAdornment}function cX(t){return Yt("MuiInputBase",t)}const Rc=Rt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),dX=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],vy=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${it(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},_y=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},hX=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:f,size:m,startAdornment:x,type:_}=t,g={root:["root",`color${it(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${it(m)}`,c&&"multiline",x&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",_==="search"&&"inputTypeSearch",c&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",x&&"inputAdornedStart",s&&"inputAdornedEnd",f&&"readOnly"]};return ln(g,cX,e)},by=je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:vy})(({theme:t,ownerState:e})=>G({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Rc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&G({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Ty=je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_y})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=G({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return G({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Rc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Rc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),fX=I.jsx(lX,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),pX=N.forwardRef(function(e,n){var r;const i=un({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:x,endAdornment:_,fullWidth:g=!1,id:k,inputComponent:E="input",inputProps:w={},inputRef:S,maxRows:O,minRows:L,multiline:R=!1,name:D,onBlur:P,onChange:M,onClick:B,onFocus:$,onKeyDown:V,onKeyUp:F,placeholder:se,readOnly:ce,renderSuffix:ue,rows:le,slotProps:ee={},slots:fe={},startAdornment:ye,type:ke="text",value:Se}=i,De=Ue(i,dX),Ie=w.value!=null?w.value:Se,{current:Ve}=N.useRef(Ie!=null),qe=N.useRef(),Pt=N.useCallback(We=>{},[]),Qt=tr(qe,S,w.ref,Pt),[Lt,Jt]=N.useState(!1),Ze=ad(),$e=od({props:i,muiFormControl:Ze,states:["color","disabled","error","hiddenLabel","size","required","filled"]});$e.focused=Ze?Ze.focused:Lt,N.useEffect(()=>{!Ze&&m&&Lt&&(Jt(!1),P&&P())},[Ze,m,Lt,P]);const Ne=Ze&&Ze.onFilled,st=Ze&&Ze.onEmpty,gt=N.useCallback(We=>{_g(We)?Ne&&Ne():st&&st()},[Ne,st]);ko(()=>{Ve&&gt({value:Ie})},[Ie,gt,Ve]);const gn=We=>{if($e.disabled){We.stopPropagation();return}$&&$(We),w.onFocus&&w.onFocus(We),Ze&&Ze.onFocus?Ze.onFocus(We):Jt(!0)},Fn=We=>{P&&P(We),w.onBlur&&w.onBlur(We),Ze&&Ze.onBlur?Ze.onBlur(We):Jt(!1)},$t=(We,...Ee)=>{if(!Ve){const Bn=We.target||qe.current;if(Bn==null)throw new Error(Bl(1));gt({value:Bn.value})}w.onChange&&w.onChange(We,...Ee),M&&M(We,...Ee)};N.useEffect(()=>{gt(qe.current)},[]);const yn=We=>{qe.current&&We.currentTarget===We.target&&qe.current.focus(),B&&B(We)};let Fe=E,Tt=w;R&&Fe==="input"&&(le?Tt=G({type:void 0,minRows:le,maxRows:le},Tt):Tt=G({type:void 0,maxRows:O,minRows:L},Tt),Fe=aX);const Gn=We=>{gt(We.animationName==="mui-auto-fill-cancel"?qe.current:{value:"x"})};N.useEffect(()=>{Ze&&Ze.setAdornedStart(!!ye)},[Ze,ye]);const cn=G({},i,{color:$e.color||"primary",disabled:$e.disabled,endAdornment:_,error:$e.error,focused:$e.focused,formControl:Ze,fullWidth:g,hiddenLabel:$e.hiddenLabel,multiline:R,size:$e.size,startAdornment:ye,type:ke}),nt=hX(cn),Zt=fe.root||u.Root||by,yt=ee.root||c.root||{},dt=fe.input||u.Input||Ty;return Tt=G({},Tt,(r=ee.input)!=null?r:c.input),I.jsxs(N.Fragment,{children:[!x&&fX,I.jsxs(Zt,G({},yt,!vg(Zt)&&{ownerState:G({},cn,yt.ownerState)},{ref:n,onClick:yn},De,{className:rt(nt.root,yt.className,l,ce&&"MuiInputBase-readOnly"),children:[ye,I.jsx(zT.Provider,{value:null,children:I.jsx(dt,G({ownerState:cn,"aria-invalid":$e.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:f,disabled:$e.disabled,id:k,onAnimationStart:Gn,name:D,placeholder:se,readOnly:ce,required:$e.required,rows:le,value:Ie,onKeyDown:V,onKeyUp:F,type:ke},Tt,!vg(dt)&&{as:Fe,ownerState:G({},cn,Tt.ownerState)},{ref:Qt,className:rt(nt.input,Tt.className,ce&&"MuiInputBase-readOnly"),onBlur:Fn,onChange:$t,onFocus:gn}))}),_,ue?ue(G({},$e,{startAdornment:ye})):null]}))]})}),HT=pX;function mX(t){return Yt("MuiInput",t)}const Wd=G({},Rc,Rt("MuiInput",["root","underline","input"]));function gX(t){return Yt("MuiOutlinedInput",t)}const Jo=G({},Rc,Rt("MuiOutlinedInput",["root","notchedOutline","input"]));function yX(t){return Yt("MuiFilledInput",t)}const el=G({},Rc,Rt("MuiFilledInput",["root","underline","input"])),vX=hT(I.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_X=hT(I.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function bX(t){return Yt("MuiAvatar",t)}Rt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const TX=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],xX=t=>{const{classes:e,variant:n,colorDefault:r}=t;return ln({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},bX,e)},SX=je("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:G({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:G({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),EX=je("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),wX=je(_X,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function CX({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=N.useState(!1);return N.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const xy=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:f,src:m,srcSet:x,variant:_="circular"}=r,g=Ue(r,TX);let k=null;const E=CX(G({},c,{src:m,srcSet:x})),w=m||x,S=w&&E!=="error",O=G({},r,{colorDefault:!S,component:a,variant:_}),L=xX(O),[R,D]=bK("img",{className:L.img,elementType:EX,externalForwardedProps:{slots:l,slotProps:{img:G({},c,u.img)}},additionalProps:{alt:i,src:m,srcSet:x,sizes:f},ownerState:O});return S?k=I.jsx(R,G({},D)):s||s===0?k=s:w&&i?k=i[0]:k=I.jsx(wX,{ownerState:O,className:L.fallback}),I.jsx(SX,G({as:a,ownerState:O,className:rt(L.root,o),ref:n},g,{children:k}))}),AX=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],IX={entering:{opacity:1},entered:{opacity:1}},kX=N.forwardRef(function(e,n){const r=wO(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:f,onEntering:m,onExit:x,onExited:_,onExiting:g,style:k,timeout:E=i,TransitionComponent:w=Qs}=e,S=Ue(e,AX),O=N.useRef(null),L=tr(O,a.ref,n),R=se=>ce=>{if(se){const ue=O.current;ce===void 0?se(ue):se(ue,ce)}},D=R(m),P=R((se,ce)=>{IO(se);const ue=yg({style:k,timeout:E,easing:l},{mode:"enter"});se.style.webkitTransition=r.transitions.create("opacity",ue),se.style.transition=r.transitions.create("opacity",ue),c&&c(se,ce)}),M=R(f),B=R(g),$=R(se=>{const ce=yg({style:k,timeout:E,easing:l},{mode:"exit"});se.style.webkitTransition=r.transitions.create("opacity",ce),se.style.transition=r.transitions.create("opacity",ce),x&&x(se)}),V=R(_),F=se=>{s&&s(O.current,se)};return I.jsx(w,G({appear:o,in:u,nodeRef:O,onEnter:P,onEntered:M,onEntering:D,onExit:$,onExited:V,onExiting:B,addEndListener:F,timeout:E},S,{children:(se,ce)=>N.cloneElement(a,G({style:G({opacity:0,visibility:se==="exited"&&!u?"hidden":void 0},IX[se],k,a.props.style),ref:L},ce))}))});function DX(t){return Yt("MuiBackdrop",t)}Rt("MuiBackdrop",["root","invisible"]);const PX=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],RX=t=>{const{classes:e,invisible:n}=t;return ln({root:["root",n&&"invisible"]},DX,e)},OX=je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>G({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),LX=N.forwardRef(function(e,n){var r,i,s;const o=un({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:f={},invisible:m=!1,open:x,slotProps:_={},slots:g={},TransitionComponent:k=kX,transitionDuration:E}=o,w=Ue(o,PX),S=G({},o,{component:u,invisible:m}),O=RX(S),L=(r=_.root)!=null?r:f.root;return I.jsx(k,G({in:x,timeout:E},w,{children:I.jsx(OX,G({"aria-hidden":!0},L,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:rt(O.root,l,L==null?void 0:L.className),ownerState:G({},S,L==null?void 0:L.ownerState),classes:O,ref:n,children:a}))}))}),NX=Rt("MuiBox",["root"]),MX=c4(),FX=ZG({themeId:X0,defaultTheme:MX,defaultClassName:NX.root,generateClassName:X2.generate});function BX(t){return Yt("MuiButton",t)}const Bp=Rt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),UX=N.createContext({}),jX=N.createContext(void 0),$X=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],zX=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${it(e)}`,`size${it(i)}`,`${s}Size${it(i)}`,`color${it(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${it(i)}`],endIcon:["icon","endIcon",`iconSize${it(i)}`]},l=ln(a,BX,o);return G({},o,l)},OO=t=>G({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),HX=je($T,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${it(n.color)}`],e[`size${it(n.size)}`],e[`${n.variant}Size${it(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return G({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Di(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Di(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Di(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Bp.focusVisible}`]:G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Bp.disabled}`]:G({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Di(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Bp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Bp.disabled}`]:{boxShadow:"none"}}),VX=je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${it(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},OO(t))),qX=je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${it(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},OO(t))),WX=N.forwardRef(function(e,n){const r=N.useContext(UX),i=N.useContext(jX),s=og(r,e),o=un({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:f=!1,disableElevation:m=!1,disableFocusRipple:x=!1,endIcon:_,focusVisibleClassName:g,fullWidth:k=!1,size:E="medium",startIcon:w,type:S,variant:O="text"}=o,L=Ue(o,$X),R=G({},o,{color:l,component:u,disabled:f,disableElevation:m,disableFocusRipple:x,fullWidth:k,size:E,type:S,variant:O}),D=zX(R),P=w&&I.jsx(VX,{className:D.startIcon,ownerState:R,children:w}),M=_&&I.jsx(qX,{className:D.endIcon,ownerState:R,children:_}),B=i||"";return I.jsxs(HX,G({ownerState:R,className:rt(r.className,D.root,c,B),component:u,disabled:f,focusRipple:!x,focusVisibleClassName:rt(D.focusVisible,g),ref:n,type:S},L,{classes:D,children:[P,a,M]}))});function GX(t){return Yt("MuiModal",t)}Rt("MuiModal",["root","hidden","backdrop"]);const KX=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],XX=t=>{const{open:e,exited:n,classes:r}=t;return ln({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},GX,r)},YX=je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>G({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),QX=je(LX,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),LO=N.forwardRef(function(e,n){var r,i,s,o,a,l;const u=un({name:"MuiModal",props:e}),{BackdropComponent:c=QX,BackdropProps:f,className:m,closeAfterTransition:x=!1,children:_,container:g,component:k,components:E={},componentsProps:w={},disableAutoFocus:S=!1,disableEnforceFocus:O=!1,disableEscapeKeyDown:L=!1,disablePortal:R=!1,disableRestoreFocus:D=!1,disableScrollLock:P=!1,hideBackdrop:M=!1,keepMounted:B=!1,onBackdropClick:$,open:V,slotProps:F,slots:se}=u,ce=Ue(u,KX),ue=G({},u,{closeAfterTransition:x,disableAutoFocus:S,disableEnforceFocus:O,disableEscapeKeyDown:L,disablePortal:R,disableRestoreFocus:D,disableScrollLock:P,hideBackdrop:M,keepMounted:B}),{getRootProps:le,getBackdropProps:ee,getTransitionProps:fe,portalRef:ye,isTopModal:ke,exited:Se,hasTransition:De}=rX(G({},ue,{rootRef:n})),Ie=G({},ue,{exited:Se}),Ve=XX(Ie),qe={};if(_.props.tabIndex===void 0&&(qe.tabIndex="-1"),De){const{onEnter:Ne,onExited:st}=fe();qe.onEnter=Ne,qe.onExited=st}const Pt=(r=(i=se==null?void 0:se.root)!=null?i:E.Root)!=null?r:YX,Qt=(s=(o=se==null?void 0:se.backdrop)!=null?o:E.Backdrop)!=null?s:c,Lt=(a=F==null?void 0:F.root)!=null?a:w.root,Jt=(l=F==null?void 0:F.backdrop)!=null?l:w.backdrop,Ze=Pc({elementType:Pt,externalSlotProps:Lt,externalForwardedProps:ce,getSlotProps:le,additionalProps:{ref:n,as:k},ownerState:Ie,className:rt(m,Lt==null?void 0:Lt.className,Ve==null?void 0:Ve.root,!Ie.open&&Ie.exited&&(Ve==null?void 0:Ve.hidden))}),$e=Pc({elementType:Qt,externalSlotProps:Jt,additionalProps:f,getSlotProps:Ne=>ee(G({},Ne,{onClick:st=>{$&&$(st),Ne!=null&&Ne.onClick&&Ne.onClick(st)}})),className:rt(Jt==null?void 0:Jt.className,f==null?void 0:f.className,Ve==null?void 0:Ve.backdrop),ownerState:Ie});return!B&&!V&&(!De||Se)?null:I.jsx(KK,{ref:ye,container:g,disablePortal:R,children:I.jsxs(Pt,G({},Ze,{children:[!M&&c?I.jsx(Qt,G({},$e)):null,I.jsx(WK,{disableEnforceFocus:O,disableAutoFocus:S,disableRestoreFocus:D,isEnabled:ke,open:V,children:N.cloneElement(_,qe)})]}))})}),lA=Rt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),JX=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],ZX=t=>{const{classes:e,disableUnderline:n}=t,i=ln({root:["root",!n&&"underline"],input:["input"]},yX,e);return G({},e,i)},eY=je(by,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...vy(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return G({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${el.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${el.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${el.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${el.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${el.disabled}, .${el.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${el.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&G({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),tY=je(Ty,{name:"MuiFilledInput",slot:"Input",overridesResolver:_y})(({theme:t,ownerState:e})=>G({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),VT=N.forwardRef(function(e,n){var r,i,s,o;const a=un({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:f="input",multiline:m=!1,slotProps:x,slots:_={},type:g="text"}=a,k=Ue(a,JX),E=G({},a,{fullWidth:c,inputComponent:f,multiline:m,type:g}),w=ZX(a),S={root:{ownerState:E},input:{ownerState:E}},O=x??u?hi(S,x??u):S,L=(r=(i=_.root)!=null?i:l.Root)!=null?r:eY,R=(s=(o=_.input)!=null?o:l.Input)!=null?s:tY;return I.jsx(HT,G({slots:{root:L,input:R},componentsProps:O,fullWidth:c,inputComponent:f,multiline:m,ref:n,type:g},k,{classes:w}))});VT.muiName="Input";function nY(t){return Yt("MuiFormControl",t)}Rt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const rY=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],iY=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${it(n)}`,r&&"fullWidth"]};return ln(i,nY,e)},sY=je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>G({},e.root,e[`margin${it(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>G({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),oY=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:f=!1,hiddenLabel:m=!1,margin:x="none",required:_=!1,size:g="medium",variant:k="outlined"}=r,E=Ue(r,rY),w=G({},r,{color:o,component:a,disabled:l,error:u,fullWidth:f,hiddenLabel:m,margin:x,required:_,size:g,variant:k}),S=iY(w),[O,L]=N.useState(()=>{let F=!1;return i&&N.Children.forEach(i,se=>{if(!dm(se,["Input","Select"]))return;const ce=dm(se,["Select"])?se.props.input:se;ce&&uX(ce.props)&&(F=!0)}),F}),[R,D]=N.useState(()=>{let F=!1;return i&&N.Children.forEach(i,se=>{dm(se,["Input","Select"])&&(_g(se.props,!0)||_g(se.props.inputProps,!0))&&(F=!0)}),F}),[P,M]=N.useState(!1);l&&P&&M(!1);const B=c!==void 0&&!l?c:P;let $;const V=N.useMemo(()=>({adornedStart:O,setAdornedStart:L,color:o,disabled:l,error:u,filled:R,focused:B,fullWidth:f,hiddenLabel:m,size:g,onBlur:()=>{M(!1)},onEmpty:()=>{D(!1)},onFilled:()=>{D(!0)},onFocus:()=>{M(!0)},registerEffect:$,required:_,variant:k}),[O,o,l,u,R,B,f,m,$,_,g,k]);return I.jsx(zT.Provider,{value:V,children:I.jsx(sY,G({as:a,ownerState:w,className:rt(S.root,s),ref:n},E,{children:i}))})});function aY(t){return Yt("MuiFormHelperText",t)}const uA=Rt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var cA;const lY=["children","className","component","disabled","error","filled","focused","margin","required","variant"],uY=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${it(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return ln(u,aY,e)},cY=je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${it(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>G({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${uA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${uA.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),dY=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ue(r,lY),l=ad(),u=od({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=G({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=uY(c);return I.jsx(cY,G({as:o,ownerState:c,className:rt(f.root,s),ref:n},a,{children:i===" "?cA||(cA=I.jsx("span",{className:"notranslate",children:""})):i}))});function hY(t){return Yt("MuiFormLabel",t)}const Rh=Rt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),fY=["children","className","color","component","disabled","error","filled","focused","required"],pY=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${it(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return ln(l,hY,e)},mY=je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>G({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>G({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Rh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Rh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Rh.error}`]:{color:(t.vars||t).palette.error.main}})),gY=je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Rh.error}`]:{color:(t.vars||t).palette.error.main}})),yY=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ue(r,fY),l=ad(),u=od({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=G({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=pY(c);return I.jsxs(mY,G({as:o,ownerState:c,className:rt(f.root,s),ref:n},a,{children:[i,u.required&&I.jsxs(gY,{ownerState:c,"aria-hidden":!0,className:f.asterisk,children:["","*"]})]}))}),vY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ib(t){return`scale(${t}, ${t**2})`}const _Y={entering:{opacity:1,transform:ib(1)},entered:{opacity:1,transform:"none"}},a_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),NO=N.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:f,onExited:m,onExiting:x,style:_,timeout:g="auto",TransitionComponent:k=Qs}=e,E=Ue(e,vY),w=SR(),S=N.useRef(),O=wO(),L=N.useRef(null),R=tr(L,s.ref,n),D=ce=>ue=>{if(ce){const le=L.current;ue===void 0?ce(le):ce(le,ue)}},P=D(c),M=D((ce,ue)=>{IO(ce);const{duration:le,delay:ee,easing:fe}=yg({style:_,timeout:g,easing:o},{mode:"enter"});let ye;g==="auto"?(ye=O.transitions.getAutoHeightDuration(ce.clientHeight),S.current=ye):ye=le,ce.style.transition=[O.transitions.create("opacity",{duration:ye,delay:ee}),O.transitions.create("transform",{duration:a_?ye:ye*.666,delay:ee,easing:fe})].join(","),l&&l(ce,ue)}),B=D(u),$=D(x),V=D(ce=>{const{duration:ue,delay:le,easing:ee}=yg({style:_,timeout:g,easing:o},{mode:"exit"});let fe;g==="auto"?(fe=O.transitions.getAutoHeightDuration(ce.clientHeight),S.current=fe):fe=ue,ce.style.transition=[O.transitions.create("opacity",{duration:fe,delay:le}),O.transitions.create("transform",{duration:a_?fe:fe*.666,delay:a_?le:le||fe*.333,easing:ee})].join(","),ce.style.opacity=0,ce.style.transform=ib(.75),f&&f(ce)}),F=D(m),se=ce=>{g==="auto"&&w.start(S.current||0,ce),r&&r(L.current,ce)};return I.jsx(k,G({appear:i,in:a,nodeRef:L,onEnter:M,onEntered:B,onEntering:P,onExit:V,onExited:F,onExiting:$,addEndListener:se,timeout:g==="auto"?null:g},E,{children:(ce,ue)=>N.cloneElement(s,G({style:G({opacity:0,transform:ib(.75),visibility:ce==="exited"&&!a?"hidden":void 0},_Y[ce],_,s.props.style),ref:R},ue))}))});NO.muiSupportAuto=!0;const bY=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],TY=t=>{const{classes:e,disableUnderline:n}=t,i=ln({root:["root",!n&&"underline"],input:["input"]},mX,e);return G({},e,i)},xY=je(by,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...vy(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),G({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wd.disabled}, .${Wd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Wd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),SY=je(Ty,{name:"MuiInput",slot:"Input",overridesResolver:_y})({}),qT=N.forwardRef(function(e,n){var r,i,s,o;const a=un({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:m="input",multiline:x=!1,slotProps:_,slots:g={},type:k="text"}=a,E=Ue(a,bY),w=TY(a),O={root:{ownerState:{disableUnderline:l}}},L=_??c?hi(_??c,O):O,R=(r=(i=g.root)!=null?i:u.Root)!=null?r:xY,D=(s=(o=g.input)!=null?o:u.Input)!=null?s:SY;return I.jsx(HT,G({slots:{root:R,input:D},slotProps:L,fullWidth:f,inputComponent:m,multiline:x,ref:n,type:k},E,{classes:w}))});qT.muiName="Input";function EY(t){return Yt("MuiInputLabel",t)}Rt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wY=["disableAnimation","margin","shrink","variant","className"],CY=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${it(r)}`,o],asterisk:[a&&"asterisk"]},u=ln(l,EY,e);return G({},e,u)},AY=je(yY,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Rh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>G({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&G({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&G({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&G({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),IY=N.forwardRef(function(e,n){const r=un({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ue(r,wY),l=ad();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=od({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),f=G({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),m=CY(f);return I.jsx(AY,G({"data-shrink":u,ownerState:f,ref:n,className:rt(m.root,o)},a,{classes:m}))}),sb=N.createContext({});function kY(t){return Yt("MuiList",t)}Rt("MuiList",["root","padding","dense","subheader"]);const DY=["children","className","component","dense","disablePadding","subheader"],PY=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ln({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},kY,e)},RY=je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>G({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),OY=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=Ue(r,DY),f=N.useMemo(()=>({dense:a}),[a]),m=G({},r,{component:o,dense:a,disablePadding:l}),x=PY(m);return I.jsx(sb.Provider,{value:f,children:I.jsxs(RY,G({as:o,className:rt(x.root,s),ref:n,ownerState:m},c,{children:[u,i]}))})}),dA=Rt("MuiListItemIcon",["root","alignItemsFlexStart"]),hA=Rt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),LY=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function l_(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function fA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function MO(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Gd(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!MO(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const NY=N.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:f="selectedMenu"}=e,m=Ue(e,LY),x=N.useRef(null),_=N.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ko(()=>{i&&x.current.focus()},[i]),N.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:O})=>{const L=!x.current.style.width;if(S.clientHeight<x.current.clientHeight&&L){const R=`${wR(Hr(S))}px`;x.current.style[O==="rtl"?"paddingLeft":"paddingRight"]=R,x.current.style.width=`calc(100% + ${R})`}return x.current}}),[]);const g=S=>{const O=x.current,L=S.key,R=Hr(O).activeElement;if(L==="ArrowDown")S.preventDefault(),Gd(O,R,u,l,l_);else if(L==="ArrowUp")S.preventDefault(),Gd(O,R,u,l,fA);else if(L==="Home")S.preventDefault(),Gd(O,null,u,l,l_);else if(L==="End")S.preventDefault(),Gd(O,null,u,l,fA);else if(L.length===1){const D=_.current,P=L.toLowerCase(),M=performance.now();D.keys.length>0&&(M-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&P!==D.keys[0]&&(D.repeating=!1)),D.lastTime=M,D.keys.push(P);const B=R&&!D.repeating&&MO(R,D);D.previousKeyMatched&&(B||Gd(O,R,!1,l,l_,D))?S.preventDefault():D.previousKeyMatched=!1}c&&c(S)},k=tr(x,n);let E=-1;N.Children.forEach(o,(S,O)=>{if(!N.isValidElement(S)){E===O&&(E+=1,E>=o.length&&(E=-1));return}S.props.disabled||(f==="selectedMenu"&&S.props.selected||E===-1)&&(E=O),E===O&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(E+=1,E>=o.length&&(E=-1))});const w=N.Children.map(o,(S,O)=>{if(O===E){const L={};return s&&(L.autoFocus=!0),S.props.tabIndex===void 0&&f==="selectedMenu"&&(L.tabIndex=0),N.cloneElement(S,L)}return S});return I.jsx(OY,G({role:"menu",ref:k,className:a,onKeyDown:g,tabIndex:i?0:-1},m,{children:w}))});function MY(t){return Yt("MuiPopover",t)}Rt("MuiPopover",["root","paper"]);const FY=["onEntering"],BY=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],UY=["slotProps"];function pA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function mA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function gA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function u_(t){return typeof t=="function"?t():t}const jY=t=>{const{classes:e}=t;return ln({root:["root"],paper:["paper"]},MY,e)},$Y=je(LO,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),FO=je(mK,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zY=N.forwardRef(function(e,n){var r,i,s;const o=un({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:m,className:x,container:_,elevation:g=8,marginThreshold:k=16,open:E,PaperProps:w={},slots:S,slotProps:O,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:R=NO,transitionDuration:D="auto",TransitionProps:{onEntering:P}={},disableScrollLock:M=!1}=o,B=Ue(o.TransitionProps,FY),$=Ue(o,BY),V=(r=O==null?void 0:O.paper)!=null?r:w,F=N.useRef(),se=tr(F,V.ref),ce=G({},o,{anchorOrigin:u,anchorReference:f,elevation:g,marginThreshold:k,externalPaperSlotProps:V,transformOrigin:L,TransitionComponent:R,transitionDuration:D,TransitionProps:B}),ue=jY(ce),le=N.useCallback(()=>{if(f==="anchorPosition")return c;const Ne=u_(l),gt=(Ne&&Ne.nodeType===1?Ne:Hr(F.current).body).getBoundingClientRect();return{top:gt.top+pA(gt,u.vertical),left:gt.left+mA(gt,u.horizontal)}},[l,u.horizontal,u.vertical,c,f]),ee=N.useCallback(Ne=>({vertical:pA(Ne,L.vertical),horizontal:mA(Ne,L.horizontal)}),[L.horizontal,L.vertical]),fe=N.useCallback(Ne=>{const st={width:Ne.offsetWidth,height:Ne.offsetHeight},gt=ee(st);if(f==="none")return{top:null,left:null,transformOrigin:gA(gt)};const gn=le();let Fn=gn.top-gt.vertical,$t=gn.left-gt.horizontal;const yn=Fn+st.height,Fe=$t+st.width,Tt=Da(u_(l)),Gn=Tt.innerHeight-k,cn=Tt.innerWidth-k;if(k!==null&&Fn<k){const nt=Fn-k;Fn-=nt,gt.vertical+=nt}else if(k!==null&&yn>Gn){const nt=yn-Gn;Fn-=nt,gt.vertical+=nt}if(k!==null&&$t<k){const nt=$t-k;$t-=nt,gt.horizontal+=nt}else if(Fe>cn){const nt=Fe-cn;$t-=nt,gt.horizontal+=nt}return{top:`${Math.round(Fn)}px`,left:`${Math.round($t)}px`,transformOrigin:gA(gt)}},[l,f,le,ee,k]),[ye,ke]=N.useState(E),Se=N.useCallback(()=>{const Ne=F.current;if(!Ne)return;const st=fe(Ne);st.top!==null&&(Ne.style.top=st.top),st.left!==null&&(Ne.style.left=st.left),Ne.style.transformOrigin=st.transformOrigin,ke(!0)},[fe]);N.useEffect(()=>(M&&window.addEventListener("scroll",Se),()=>window.removeEventListener("scroll",Se)),[l,M,Se]);const De=(Ne,st)=>{P&&P(Ne,st),Se()},Ie=()=>{ke(!1)};N.useEffect(()=>{E&&Se()}),N.useImperativeHandle(a,()=>E?{updatePosition:()=>{Se()}}:null,[E,Se]),N.useEffect(()=>{if(!E)return;const Ne=G2(()=>{Se()}),st=Da(l);return st.addEventListener("resize",Ne),()=>{Ne.clear(),st.removeEventListener("resize",Ne)}},[l,E,Se]);let Ve=D;D==="auto"&&!R.muiSupportAuto&&(Ve=void 0);const qe=_||(l?Hr(u_(l)).body:void 0),Pt=(i=S==null?void 0:S.root)!=null?i:$Y,Qt=(s=S==null?void 0:S.paper)!=null?s:FO,Lt=Pc({elementType:Qt,externalSlotProps:G({},V,{style:ye?V.style:G({},V.style,{opacity:0})}),additionalProps:{elevation:g,ref:se},ownerState:ce,className:rt(ue.paper,V==null?void 0:V.className)}),Jt=Pc({elementType:Pt,externalSlotProps:(O==null?void 0:O.root)||{},externalForwardedProps:$,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:qe,open:E},ownerState:ce,className:rt(ue.root,x)}),{slotProps:Ze}=Jt,$e=Ue(Jt,UY);return I.jsx(Pt,G({},$e,!vg(Pt)&&{slotProps:Ze,disableScrollLock:M},{children:I.jsx(R,G({appear:!0,in:E,onEntering:De,onExited:Ie,timeout:Ve},B,{children:I.jsx(Qt,G({},Lt,{children:m}))}))}))});function HY(t){return Yt("MuiMenu",t)}Rt("MuiMenu",["root","paper","list"]);const VY=["onEntering"],qY=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],WY={vertical:"top",horizontal:"right"},GY={vertical:"top",horizontal:"left"},KY=t=>{const{classes:e}=t;return ln({root:["root"],paper:["paper"],list:["list"]},HY,e)},XY=je(zY,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),YY=je(FO,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QY=je(NY,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),WT=N.forwardRef(function(e,n){var r,i;const s=un({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:f,open:m,PaperProps:x={},PopoverClasses:_,transitionDuration:g="auto",TransitionProps:{onEntering:k}={},variant:E="selectedMenu",slots:w={},slotProps:S={}}=s,O=Ue(s.TransitionProps,VY),L=Ue(s,qY),R=tK(),D=G({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:k,PaperProps:x,transitionDuration:g,TransitionProps:O,variant:E}),P=KY(D),M=o&&!u&&m,B=N.useRef(null),$=(ee,fe)=>{B.current&&B.current.adjustStyleForScrollbar(ee,{direction:R?"rtl":"ltr"}),k&&k(ee,fe)},V=ee=>{ee.key==="Tab"&&(ee.preventDefault(),f&&f(ee,"tabKeyDown"))};let F=-1;N.Children.map(a,(ee,fe)=>{N.isValidElement(ee)&&(ee.props.disabled||(E==="selectedMenu"&&ee.props.selected||F===-1)&&(F=fe))});const se=(r=w.paper)!=null?r:YY,ce=(i=S.paper)!=null?i:x,ue=Pc({elementType:w.root,externalSlotProps:S.root,ownerState:D,className:[P.root,l]}),le=Pc({elementType:se,externalSlotProps:ce,ownerState:D,className:P.paper});return I.jsx(XY,G({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?WY:GY,slots:{paper:se,root:w.root},slotProps:{root:ue,paper:le},open:m,ref:n,transitionDuration:g,TransitionProps:G({onEntering:$},O),ownerState:D},L,{classes:_,children:I.jsx(QY,G({onKeyDown:V,actions:B,autoFocus:o&&(F===-1||u),autoFocusItem:M,variant:E},c,{className:rt(P.list,c.className),children:a}))}))});function JY(t){return Yt("MuiMenuItem",t)}const Kd=Rt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ZY=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],eQ=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},tQ=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=ln({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},JY,o);return G({},o,l)},nQ=je($T,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:eQ})(({theme:t,ownerState:e})=>G({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Kd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Di(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Kd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Di(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Kd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Di(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Di(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Kd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Kd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${lA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${lA.inset}`]:{marginLeft:52},[`& .${hA.root}`]:{marginTop:0,marginBottom:0},[`& .${hA.inset}`]:{paddingLeft:36},[`& .${dA.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&G({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${dA.root} svg`]:{fontSize:"1.25rem"}}))),ob=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:f,className:m}=r,x=Ue(r,ZY),_=N.useContext(sb),g=N.useMemo(()=>({dense:o||_.dense||!1,disableGutters:l}),[_.dense,o,l]),k=N.useRef(null);ko(()=>{i&&k.current&&k.current.focus()},[i]);const E=G({},r,{dense:g.dense,divider:a,disableGutters:l}),w=tQ(r),S=tr(k,n);let O;return r.disabled||(O=f!==void 0?f:-1),I.jsx(sb.Provider,{value:g,children:I.jsx(nQ,G({ref:S,role:c,tabIndex:O,component:s,focusVisibleClassName:rt(w.focusVisible,u),className:rt(w.root,m)},x,{ownerState:E,classes:w}))})});function rQ(t){return Yt("MuiNativeSelect",t)}const GT=Rt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),iQ=["className","disabled","error","IconComponent","inputRef","variant"],sQ=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${it(n)}`,s&&"iconOpen",r&&"disabled"]};return ln(a,rQ,e)},BO=({ownerState:t,theme:e})=>G({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":G({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${GT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),oQ=je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${GT.multiple}`]:e.multiple}]}})(BO),UO=({ownerState:t,theme:e})=>G({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${GT.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),aQ=je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${it(n.variant)}`],n.open&&e.iconOpen]}})(UO),lQ=N.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=Ue(e,iQ),c=G({},e,{disabled:i,variant:l,error:s}),f=sQ(c);return I.jsxs(N.Fragment,{children:[I.jsx(oQ,G({ownerState:c,className:rt(f.select,r),disabled:i,ref:a||n},u)),e.multiple?null:I.jsx(aQ,{as:o,ownerState:c,className:f.icon})]})});var yA;const uQ=["children","classes","className","label","notched"],cQ=je("fieldset",{shouldForwardProp:Vi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),dQ=je("legend",{shouldForwardProp:Vi})(({ownerState:t,theme:e})=>G({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&G({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function hQ(t){const{className:e,label:n,notched:r}=t,i=Ue(t,uQ),s=n!=null&&n!=="",o=G({},t,{notched:r,withLabel:s});return I.jsx(cQ,G({"aria-hidden":!0,className:e,ownerState:o},i,{children:I.jsx(dQ,{ownerState:o,children:s?I.jsx("span",{children:n}):yA||(yA=I.jsx("span",{className:"notranslate",children:""}))})}))}const fQ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],pQ=t=>{const{classes:e}=t,r=ln({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gX,e);return G({},e,r)},mQ=je(by,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:vy})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return G({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Jo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Jo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Jo.focused} .${Jo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Jo.error} .${Jo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Jo.disabled} .${Jo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&G({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),gQ=je(hQ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),yQ=je(Ty,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:_y})(({theme:t,ownerState:e})=>G({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),KT=N.forwardRef(function(e,n){var r,i,s,o,a;const l=un({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:f="input",label:m,multiline:x=!1,notched:_,slots:g={},type:k="text"}=l,E=Ue(l,fQ),w=pQ(l),S=ad(),O=od({props:l,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=G({},l,{color:O.color||"primary",disabled:O.disabled,error:O.error,focused:O.focused,formControl:S,fullWidth:c,hiddenLabel:O.hiddenLabel,multiline:x,size:O.size,type:k}),R=(r=(i=g.root)!=null?i:u.Root)!=null?r:mQ,D=(s=(o=g.input)!=null?o:u.Input)!=null?s:yQ;return I.jsx(HT,G({slots:{root:R,input:D},renderSuffix:P=>I.jsx(gQ,{ownerState:L,className:w.notchedOutline,label:m!=null&&m!==""&&O.required?a||(a=I.jsxs(N.Fragment,{children:[m,"","*"]})):m,notched:typeof _<"u"?_:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:c,inputComponent:f,multiline:x,ref:n,type:k},E,{classes:G({},w,{notchedOutline:null})}))});KT.muiName="Input";function vQ(t){return Yt("MuiSelect",t)}const Xd=Rt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var vA;const _Q=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],bQ=je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Xd.select}`]:e.select},{[`&.${Xd.select}`]:e[n.variant]},{[`&.${Xd.error}`]:e.error},{[`&.${Xd.multiple}`]:e.multiple}]}})(BO,{[`&.${Xd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),TQ=je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${it(n.variant)}`],n.open&&e.iconOpen]}})(UO),xQ=je("input",{shouldForwardProp:t=>d4(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _A(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function SQ(t){return t==null||typeof t=="string"&&!t.trim()}const EQ=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${it(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ln(a,vQ,e)},wQ=N.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:f,disabled:m,displayEmpty:x,error:_=!1,IconComponent:g,inputRef:k,labelId:E,MenuProps:w={},multiple:S,name:O,onBlur:L,onChange:R,onClose:D,onFocus:P,onOpen:M,open:B,readOnly:$,renderValue:V,SelectDisplayProps:F={},tabIndex:se,value:ce,variant:ue="standard"}=e,le=Ue(e,_Q),[ee,fe]=N1({controlled:ce,default:f,name:"Select"}),[ye,ke]=N1({controlled:B,default:c,name:"Select"}),Se=N.useRef(null),De=N.useRef(null),[Ie,Ve]=N.useState(null),{current:qe}=N.useRef(B!=null),[Pt,Qt]=N.useState(),Lt=tr(n,k),Jt=N.useCallback(we=>{De.current=we,we&&Ve(we)},[]),Ze=Ie==null?void 0:Ie.parentNode;N.useImperativeHandle(Lt,()=>({focus:()=>{De.current.focus()},node:Se.current,value:ee}),[ee]),N.useEffect(()=>{c&&ye&&Ie&&!qe&&(Qt(a?null:Ze.clientWidth),De.current.focus())},[Ie,a]),N.useEffect(()=>{o&&De.current.focus()},[o]),N.useEffect(()=>{if(!E)return;const we=Hr(De.current).getElementById(E);if(we){const ut=()=>{getSelection().isCollapsed&&De.current.focus()};return we.addEventListener("click",ut),()=>{we.removeEventListener("click",ut)}}},[E]);const $e=(we,ut)=>{we?M&&M(ut):D&&D(ut),qe||(Qt(a?null:Ze.clientWidth),ke(we))},Ne=we=>{we.button===0&&(we.preventDefault(),De.current.focus(),$e(!0,we))},st=we=>{$e(!1,we)},gt=N.Children.toArray(l),gn=we=>{const ut=gt.find(Mt=>Mt.props.value===we.target.value);ut!==void 0&&(fe(ut.props.value),R&&R(we,ut))},Fn=we=>ut=>{let Mt;if(ut.currentTarget.hasAttribute("tabindex")){if(S){Mt=Array.isArray(ee)?ee.slice():[];const Yr=ee.indexOf(we.props.value);Yr===-1?Mt.push(we.props.value):Mt.splice(Yr,1)}else Mt=we.props.value;if(we.props.onClick&&we.props.onClick(ut),ee!==Mt&&(fe(Mt),R)){const Yr=ut.nativeEvent||ut,$o=new Yr.constructor(Yr.type,Yr);Object.defineProperty($o,"target",{writable:!0,value:{value:Mt,name:O}}),R($o,we)}S||$e(!1,ut)}},$t=we=>{$||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),$e(!0,we))},yn=Ie!==null&&ye,Fe=we=>{!yn&&L&&(Object.defineProperty(we,"target",{writable:!0,value:{value:ee,name:O}}),L(we))};delete le["aria-invalid"];let Tt,Gn;const cn=[];let nt=!1;(_g({value:ee})||x)&&(V?Tt=V(ee):nt=!0);const Zt=gt.map(we=>{if(!N.isValidElement(we))return null;let ut;if(S){if(!Array.isArray(ee))throw new Error(Bl(2));ut=ee.some(Mt=>_A(Mt,we.props.value)),ut&&nt&&cn.push(we.props.children)}else ut=_A(ee,we.props.value),ut&&nt&&(Gn=we.props.children);return N.cloneElement(we,{"aria-selected":ut?"true":"false",onClick:Fn(we),onKeyUp:Mt=>{Mt.key===" "&&Mt.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(Mt)},role:"option",selected:ut,value:void 0,"data-value":we.props.value})});nt&&(S?cn.length===0?Tt=null:Tt=cn.reduce((we,ut,Mt)=>(we.push(ut),Mt<cn.length-1&&we.push(", "),we),[]):Tt=Gn);let yt=Pt;!a&&qe&&Ie&&(yt=Ze.clientWidth);let dt;typeof se<"u"?dt=se:dt=m?null:0;const We=F.id||(O?`mui-component-select-${O}`:void 0),Ee=G({},e,{variant:ue,value:ee,open:yn,error:_}),Bn=EQ(Ee),gr=G({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),et=K2();return I.jsxs(N.Fragment,{children:[I.jsx(bQ,G({ref:Jt,tabIndex:dt,role:"combobox","aria-controls":et,"aria-disabled":m?"true":void 0,"aria-expanded":yn?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[E,We].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:$t,onMouseDown:m||$?null:Ne,onBlur:Fe,onFocus:P},F,{ownerState:Ee,className:rt(F.className,Bn.select,u),id:We,children:SQ(Tt)?vA||(vA=I.jsx("span",{className:"notranslate",children:""})):Tt})),I.jsx(xQ,G({"aria-invalid":_,value:Array.isArray(ee)?ee.join(","):ee,name:O,ref:Se,"aria-hidden":!0,onChange:gn,tabIndex:-1,disabled:m,className:Bn.nativeInput,autoFocus:o,ownerState:Ee},le)),I.jsx(TQ,{as:g,className:Bn.icon,ownerState:Ee}),I.jsx(WT,G({id:`menu-${O||""}`,anchorEl:Ze,open:yn,onClose:st,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:G({"aria-labelledby":E,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:et},w.MenuListProps),slotProps:G({},w.slotProps,{paper:G({},gr,{style:G({minWidth:yt},gr!=null?gr.style:null)})}),children:Zt}))]})}),CQ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],AQ=["root"],IQ=t=>{const{classes:e}=t;return e},XT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Vi(t)&&t!=="variant",slot:"Root"},kQ=je(qT,XT)(""),DQ=je(KT,XT)(""),PQ=je(VT,XT)(""),jO=N.forwardRef(function(e,n){const r=un({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=vX,id:f,input:m,inputProps:x,label:_,labelId:g,MenuProps:k,multiple:E=!1,native:w=!1,onClose:S,onOpen:O,open:L,renderValue:R,SelectDisplayProps:D,variant:P="outlined"}=r,M=Ue(r,CQ),B=w?lQ:wQ,$=ad(),V=od({props:r,muiFormControl:$,states:["variant","error"]}),F=V.variant||P,se=G({},r,{variant:F,classes:o}),ce=IQ(se),ue=Ue(ce,AQ),le=m||{standard:I.jsx(kQ,{ownerState:se}),outlined:I.jsx(DQ,{label:_,ownerState:se}),filled:I.jsx(PQ,{ownerState:se})}[F],ee=tr(n,le.ref);return I.jsx(N.Fragment,{children:N.cloneElement(le,G({inputComponent:B,inputProps:G({children:s,error:V.error,IconComponent:c,variant:F,type:void 0,multiple:E},w?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:k,onClose:S,onOpen:O,open:L,renderValue:R,SelectDisplayProps:G({id:f},D)},x,{classes:x?hi(ue,x.classes):ue},m?m.props.inputProps:{})},(E&&w||u)&&F==="outlined"?{notched:!0}:{},{ref:ee,className:rt(le.props.className,a,ce.root)},!m&&{variant:F},M))})});jO.muiName="Select";function RQ(t){return Yt("MuiTextField",t)}Rt("MuiTextField",["root"]);const OQ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],LQ={standard:qT,filled:VT,outlined:KT},NQ=t=>{const{classes:e}=t;return ln({root:["root"]},RQ,e)},MQ=je(oY,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),c_=N.forwardRef(function(e,n){const r=un({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:f=!1,FormHelperTextProps:m,fullWidth:x=!1,helperText:_,id:g,InputLabelProps:k,inputProps:E,InputProps:w,inputRef:S,label:O,maxRows:L,minRows:R,multiline:D=!1,name:P,onBlur:M,onChange:B,onFocus:$,placeholder:V,required:F=!1,rows:se,select:ce=!1,SelectProps:ue,type:le,value:ee,variant:fe="outlined"}=r,ye=Ue(r,OQ),ke=G({},r,{autoFocus:s,color:l,disabled:c,error:f,fullWidth:x,multiline:D,required:F,select:ce,variant:fe}),Se=NQ(ke),De={};fe==="outlined"&&(k&&typeof k.shrink<"u"&&(De.notched=k.shrink),De.label=O),ce&&((!ue||!ue.native)&&(De.id=void 0),De["aria-describedby"]=void 0);const Ie=K2(g),Ve=_&&Ie?`${Ie}-helper-text`:void 0,qe=O&&Ie?`${Ie}-label`:void 0,Pt=LQ[fe],Qt=I.jsx(Pt,G({"aria-describedby":Ve,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:x,multiline:D,name:P,rows:se,maxRows:L,minRows:R,type:le,value:ee,id:Ie,inputRef:S,onBlur:M,onChange:B,onFocus:$,placeholder:V,inputProps:E},De,w));return I.jsxs(MQ,G({className:rt(Se.root,a),disabled:c,error:f,fullWidth:x,ref:n,required:F,color:l,variant:fe,ownerState:ke},ye,{children:[O!=null&&O!==""&&I.jsx(IY,G({htmlFor:Ie,id:qe},k,{children:O})),ce?I.jsx(jO,G({"aria-describedby":Ve,id:Ie,labelId:qe,value:ee,input:Qt},ue,{children:o})):Qt,_&&I.jsx(dY,G({id:Ve},m,{children:_}))]}))}),FQ=()=>{const t=Ba(),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,o]=N.useState("password"),[a,l,u,c]=qU(mi);l&&(t("/home"),console.log(l)),c&&console.log(c),u&&console.log("loading....");const f=()=>{o(s==="password"?"text":"password")},m=async x=>{x.preventDefault(),console.log(e),console.log(r),a(e,r),console.log(l);const _=await at.get("https://twitter-clone-0b2e.onrender.com/loggedInUser",{params:{email:e}});console.log(_)};return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"login-container",children:[I.jsx("div",{className:"image-container",children:I.jsx("img",{src:H2,alt:"Twitter-image"})}),I.jsxs("div",{className:"form-container",children:[I.jsx(Xl,{className:"Twitter-icon",style:{fontSize:"37px"}}),I.jsx("h1",{className:"heading-1",children:"Happening now"}),I.jsx("h1",{className:"heading-2",children:"Log in to Twitter"}),I.jsxs("form",{className:"form",onSubmit:m,children:[I.jsx("input",{type:"email",className:"email form-option",placeholder:"Email",onChange:x=>{n(x.target.value)},style:{color:"black"},required:!0}),I.jsx("input",{type:s,className:"password form-option",placeholder:"Password",onChange:x=>{i(x.target.value)},style:{color:"black"},required:!0}),I.jsx(To,{className:"show-password",onClick:f,children:s==="password"?I.jsx(pT,{style:{scale:"0.8"}}):I.jsx(gT,{style:{scale:"0.8"}})}),I.jsx(ff,{to:"/password-reset",className:"forgot-pass-btn",children:"Forgot password?"}),I.jsx("div",{className:"login-btn",children:I.jsx("button",{type:"submit",className:"btn",children:"Login"})})]}),I.jsxs("div",{className:"login-class",children:["Don't have an account?",I.jsx(ff,{to:"/",style:{textDecoration:"none",color:"rgb(81, 192, 236)",marginLeft:"7px",fontWeight:"600"},children:"Sign up"})]})]})]}),I.jsx("div",{className:"footer"})]})},BQ=()=>{const t=Ba(),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState(""),[u,c]=N.useState("password"),[f,m,x,_]=HU(mi);m&&console.log(m),_&&console.log(_),x&&console.log("loading....");const g=()=>{c(u==="password"?"text":"password")},k=S=>{const R="ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz";let D="";for(let P=0;P<S;P++){const M=Math.floor(Math.random()*R.length);D+=R[M]}return D},E=()=>{const S=k(9);i(S)},w=async S=>{S.preventDefault(),console.log(e),console.log(r);try{await f(e,r);const O={name:a,username:s,email:e,password:r},{data:L}=await at.post("https://twitter-clone-0b2e.onrender.com/userdata",O);console.log(L),t("/login")}catch(O){console.log(O)}};return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"login-container",children:[I.jsx("div",{className:"image-container",children:I.jsx("img",{src:H2,alt:"Twitter-image"})}),I.jsxs("div",{className:"form-container",children:[I.jsx(Xl,{className:"Twitter-icon",style:{fontSize:"37px"}}),I.jsx("h1",{className:"heading-1",children:"Happening now"}),I.jsx("h1",{className:"heading-2",children:"Sign in to Twitter"}),I.jsxs("form",{className:"form",onSubmit:w,children:[I.jsx("input",{type:"text",className:"display-name form-option",placeholder:"Name",onChange:S=>{l(S.target.value)},style:{color:"black"},required:!0}),I.jsx("input",{type:"text",className:"display-username form-option",placeholder:"@username",onChange:S=>{o(S.target.value)},style:{color:"black"},required:!0}),I.jsx("input",{type:"email",className:"email form-option",placeholder:"Email",onChange:S=>{n(S.target.value)},style:{color:"black"},required:!0}),I.jsx("input",{type:u,className:"password form-option",value:r,placeholder:"Password",onChange:S=>{i(S.target.value)},style:{color:"black"},required:!0}),I.jsx(To,{className:"show-password",onClick:g,children:u==="password"?I.jsx(pT,{style:{scale:"0.8"}}):I.jsx(gT,{style:{scale:"0.8"}})}),I.jsx("div",{children:I.jsx("input",{type:"button",className:"pass-gen",onClick:E,value:"Generate Random Password"})}),I.jsx("div",{className:"login-btn",children:I.jsx("button",{type:"submit",className:"btn",children:"Sign up"})})]})]})]}),I.jsx("div",{className:"footer"})]})};var $O={},YT={},Sy={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.svgStyle=Qn.lightStyle=Qn.iconStyle=Qn.hoverStyle=Qn.disabledStyle=Qn.disabledIconStyle=Qn.darkStyle=void 0;function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=$Q(t,"string");return mf(e)=="symbol"?e:e+""}function $Q(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HO={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"};Qn.darkStyle=zO({backgroundColor:"#4285f4",color:"#fff"},HO);Qn.lightStyle=zO({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},HO);Qn.iconStyle={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};Qn.svgStyle={width:"48px",height:"48px",display:"block"};Qn.hoverStyle={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};Qn.disabledStyle={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};Qn.disabledIconStyle={backgroundColor:"transparent"};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.GoogleIcon=void 0;var ve=VO(N),TA=VO(vR),hc=Qn;function VO(t){return t&&t.__esModule?t:{default:t}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function xA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(n),!0).forEach(function(r){zQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e,n){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=VQ(t,"string");return gf(e)=="symbol"?e:e+""}function VQ(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qQ=ve.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:hc.svgStyle},ve.default.createElement("defs",null,ve.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},ve.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),ve.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),ve.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),ve.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),ve.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),ve.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),ve.default.createElement("feMerge",null,ve.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),ve.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),ve.default.createElement("feMergeNode",{in:"SourceGraphic"}))),ve.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),ve.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),ve.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},ve.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),ve.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},ve.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},ve.default.createElement("g",{id:"button-bg"},ve.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}))),ve.default.createElement("g",{id:"button-bg-copy"},ve.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"})),ve.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},ve.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),ve.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),ve.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),ve.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),ve.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),ve.default.createElement("g",{id:"handles_square"})))),WQ=ve.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:hc.svgStyle},ve.default.createElement("defs",null,ve.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},ve.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),ve.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),ve.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),ve.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),ve.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),ve.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),ve.default.createElement("feMerge",null,ve.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),ve.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),ve.default.createElement("feMergeNode",{in:"SourceGraphic"}))),ve.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),ve.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},ve.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),ve.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},ve.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},ve.default.createElement("g",{id:"button-bg"},ve.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}))),ve.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},ve.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),ve.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),ve.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),ve.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),ve.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),ve.default.createElement("g",{id:"handles_square"})))),GQ=ve.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:hc.svgStyle},ve.default.createElement("defs",null,ve.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),ve.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},ve.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),ve.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},ve.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},ve.default.createElement("g",{id:"button-bg"},ve.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}),ve.default.createElement("use",{fill:"none"}))),ve.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),ve.default.createElement("g",{id:"handles_square"})))),KQ=Sy.GoogleIcon=function(e){var n=e.disabled,r=e.type,i=r===void 0?"dark":r;return ve.default.createElement("div",{style:n?SA(SA({},hc.iconStyle),hc.disabledIconStyle):hc.iconStyle},n?GQ:i==="dark"?qQ:WQ)};KQ.propTypes={disabled:TA.default.bool,type:TA.default.oneOf(["light","dark"])};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}Object.defineProperty(YT,"__esModule",{value:!0});YT.default=WO;var Up=QQ(N),Iu=YQ(vR),XQ=Sy,jp=Qn;function YQ(t){return t&&t.__esModule?t:{default:t}}function qO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(qO=function(i){return i?n:e})(t)}function QQ(t,e){if(t&&t.__esModule)return t;if(t===null||Oc(t)!="object"&&typeof t!="function")return{default:t};var n=qO(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&{}.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){JQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JQ(t,e,n){return e=ZQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=eJ(t,"string");return Oc(e)=="symbol"?e:e+""}function eJ(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tJ(t,e){return sJ(t)||iJ(t,e)||rJ(t,e)||nJ()}function nJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function sJ(t){if(Array.isArray(t))return t}function WO(t){var e=t.label,n=e===void 0?"Sign in with Google":e,r=t.disabled,i=r===void 0?!1:r,s=t.tabIndex,o=s===void 0?0:s,a=t.onClick,l=a===void 0?function(){}:a,u=t.type,c=u===void 0?"dark":u,f=t.style,m=(0,Up.useState)(!1),x=tJ(m,2),_=x[0],g=x[1],k=function(){i||g(!0)},E=function(){i||g(!1)},w=function(){var L=c==="dark"?jp.darkStyle:jp.lightStyle;return Zo(_?Zo(Zo({},L),jp.hoverStyle):i?Zo(Zo({},L),jp.disabledStyle):Zo({},L),f)},S=function(L){i||l(L)};return Up.default.createElement("div",{disabled:i,tabIndex:o,onClick:S,role:"button",style:w(),onMouseOver:k,onMouseOut:E},Up.default.createElement(XQ.GoogleIcon,{disabled:i,type:c}),Up.default.createElement("span",null,n))}WO.propTypes={label:Iu.default.string,disabled:Iu.default.bool,tabIndex:Iu.default.number,onClick:Iu.default.func,type:Iu.default.oneOf(["light","dark"]),style:Iu.default.object};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(YT);function n(r){return r&&r.__esModule?r:{default:r}}})($O);const oJ=No($O),aJ=()=>{const t=Ba(),[e,n,r,i]=WU(mi),s=async()=>{const o=await e();console.log(o.user);const a=o.user.displayName.split(" ");console.log(a);const l={name:o.user.displayName,email:o.user.email,username:`${a[0]}1234`},{data:u}=await at.post("https://twitter-clone-0b2e.onrender.com/userdata",l);console.log(u)};return n&&(t("/home"),console.log(n)),i&&console.log(i),r&&console.log("loading...."),I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"login-container",children:[I.jsx("div",{className:"image-container",children:I.jsx("img",{src:H2,alt:"Twitter-image"})}),I.jsxs("div",{className:"form-container",children:[I.jsx(Xl,{className:"Twitter-icon",style:{fontSize:"37px"}}),I.jsx("h1",{className:"heading-1",children:"Happening now"}),I.jsx("h1",{className:"heading-2",children:"Join Twitter today"}),I.jsx("div",{className:"google-button",children:I.jsx(oJ,{className:"g-button",type:"light",style:{borderRadius:"30px",paddingLeft:"15px",marginTop:"40px",marginLeft:"80px",size:"larger",shape:"rectangular",width:"280px"},onClick:s})}),I.jsxs("div",{className:"or-class",children:[I.jsx("div",{className:"div-1"}),I.jsx("p",{children:"or"}),I.jsx("div",{className:"div-2"})]}),I.jsx("button",{className:"signup-btn",children:I.jsx(ff,{to:"/signup",style:{color:"white"},children:"Sign in with phone or email"})}),I.jsxs("div",{className:"login-class",children:["Already have an account?",I.jsx(ff,{to:"/login",style:{textDecoration:"none",color:"rgb(81, 192, 236)",marginLeft:"7px",fontWeight:"600"},children:"Login"})]})]})]}),I.jsx("div",{className:"footer"})]})},ea=({active:t,Icon:e,text:n})=>I.jsxs("div",{className:`sidebarOptions ${t&&"sidebarOptions_active"}`,children:[I.jsx(e,{}),I.jsx("h3",{children:n})]});var QT={},lJ=Xt;Object.defineProperty(QT,"__esModule",{value:!0});var GO=QT.default=void 0,uJ=lJ(mn()),cJ=I;GO=QT.default=(0,uJ.default)((0,cJ.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var JT={},dJ=Xt;Object.defineProperty(JT,"__esModule",{value:!0});var ZT=JT.default=void 0,hJ=dJ(mn()),fJ=I;ZT=JT.default=(0,hJ.default)((0,fJ.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var ex={},pJ=Xt;Object.defineProperty(ex,"__esModule",{value:!0});var KO=ex.default=void 0,mJ=pJ(mn()),gJ=I;KO=ex.default=(0,mJ.default)((0,gJ.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNone");var tx={},yJ=Xt;Object.defineProperty(tx,"__esModule",{value:!0});var XO=tx.default=void 0,vJ=yJ(mn()),_J=I;XO=tx.default=(0,vJ.default)((0,_J.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline");var nx={},bJ=Xt;Object.defineProperty(nx,"__esModule",{value:!0});var rx=nx.default=void 0,TJ=bJ(mn()),xJ=I;rx=nx.default=(0,TJ.default)((0,xJ.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var ix={},SJ=Xt;Object.defineProperty(ix,"__esModule",{value:!0});var YO=ix.default=void 0,EJ=SJ(mn()),wJ=I;YO=ix.default=(0,EJ.default)((0,wJ.jsx)("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25m-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12m0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5m0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2"}),"PeopleOutline");var sx={},CJ=Xt;Object.defineProperty(sx,"__esModule",{value:!0});var QO=sx.default=void 0,AJ=CJ(mn()),IJ=I;QO=sx.default=(0,AJ.default)((0,IJ.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PermIdentity");var ox={},kJ=Xt;Object.defineProperty(ox,"__esModule",{value:!0});var JO=ox.default=void 0,DJ=kJ(mn()),PJ=I;JO=ox.default=(0,DJ.default)((0,PJ.jsx)("path",{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.97.89 1.66.89H22c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"More");var ax={},RJ=Xt;Object.defineProperty(ax,"__esModule",{value:!0});var lx=ax.default=void 0,OJ=RJ(mn()),LJ=I;lx=ax.default=(0,OJ.default)((0,LJ.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");const tl=({children:t,to:e,...n})=>{let r=DT(e),i=Fq({path:r.pathname,end:!0});return I.jsx("div",{children:I.jsx(ff,{className:"highlighted-link",style:{color:i?"rgb(56, 189, 241)":"black",backgroundColor:i?"rgb(153, 214, 238)":"white"},to:e,...n,children:t})})},Ql=N.createContext(""),Jl=N.createContext({}),ux=N.createContext(!1),Zl=N.createContext(!1),Vf=N.createContext(!1),Ey=N.createContext(!1),cx=N.createContext(!1),NJ=()=>{const t=Kl(mi),[e,n]=N.useState({}),r=N.useContext(Ql),i=N.useContext(Jl),s=N.useContext(ux);return N.useEffect(()=>{if(t){const o=t[0].email;fetch(`https://twitter-clone-0b2e.onrender.com/loggedInUser?email=${o}`).then(a=>a.json()).then(a=>{i.setLoggedInUser(a[0]),n(a[0]),console.log(a[0])})}},[r.profileImage,s.editStatus]),[e,n]},MJ=({handleLogOut:t})=>{const e=Ba(),[n,r]=N.useState(null),i=!!n,s=N.useContext(Ql),o=Kl(mi),a=N.useContext(Jl),l=a.loggedInUser;N.useEffect(()=>{if(o){const f=o[0].email;fetch(`https://twitter-clone-0b2e.onrender.com/loggedInUser?email=${f}`).then(m=>m.json()).then(m=>{a.setLoggedInUser(m[0])})}},[s.profileImage]);const u=f=>{r(f.currentTarget)},c=()=>{r(null)};return I.jsxs("div",{className:"sidebar",children:[I.jsx(Xl,{className:"Twitter-icon",style:{fontSize:"30px"}}),I.jsx(tl,{to:"/home/feed",children:I.jsx(ea,{active:!0,Icon:GO,text:"Home"})}),I.jsx(tl,{to:"/home/explore",children:I.jsx(ea,{active:!0,Icon:ZT,text:"Explore"})}),I.jsx(tl,{to:"/home/notifications",children:I.jsx(ea,{active:!0,Icon:KO,text:"Notifications"})}),I.jsx(tl,{to:"/home/messages",children:I.jsx(ea,{active:!0,Icon:XO,text:"Messages"})}),I.jsx(tl,{to:"/home/bookmark",children:I.jsx(ea,{active:!0,Icon:rx,text:"Bookmarks"})}),I.jsx(tl,{to:"/home/communities",children:I.jsx(ea,{active:!0,Icon:YO,text:"Communities"})}),I.jsx(tl,{to:"/home/profile",children:I.jsx(ea,{active:!0,Icon:QO,text:"Profile"})}),I.jsx(ea,{active:!0,Icon:JO,text:"More"}),I.jsx("button",{className:"Tweet-btn",children:"Tweet"}),I.jsxs("div",{className:"Profile-info",children:[l.profileImage?I.jsx("img",{src:l.profileImage,className:"sidebar-profileimage"}):I.jsx(xy,{style:{scale:"1.1"}}),I.jsxs("div",{className:"user-info",children:[I.jsx("h4",{children:l.name}),I.jsx("h5",{children:`@${l.username}`})]}),I.jsx(To,{className:"profile-more","aria-controls":i?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:u,children:I.jsx(lx,{})}),I.jsxs(WT,{className:"basic-menu",anchorEl:n,open:i,onClick:c,onClose:c,children:[I.jsx(ob,{className:"profile_info1",onClick:()=>e("/"),children:"Add an existing account"}),I.jsxs(ob,{className:"profile_info2",onClick:t,children:["Log out @",l.username]})]})]})]})};var dx={},FJ=Xt;Object.defineProperty(dx,"__esModule",{value:!0});var ZO=dx.default=void 0,BJ=FJ(mn()),UJ=I;ZO=dx.default=(0,BJ.default)((0,UJ.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8zM5 19l3-4 2 3 3-4 4 5z"}),"AddPhotoAlternate");var hx={},jJ=Xt;Object.defineProperty(hx,"__esModule",{value:!0});var fx=hx.default=void 0,$J=jJ(mn()),zJ=I;fx=hx.default=(0,$J.default)((0,zJ.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const HJ=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1);N.useContext(Ql),Kl(mi);const a=N.useContext(Jl).loggedInUser,l=N.useContext(Zl),u=f=>{s(!0);const m=f.target.files[0],x=new FormData;x.set("image",m),at.post("https://api.imgbb.com/1/upload?key=2f52efed5e338fab7b042d1a5725375c",x).then(_=>{console.log(_);const g=_.data.data.display_url;r(g),console.log(n),console.log(g),s(!1)}).catch(_=>{console.log(_),s(!1)})},c=async f=>{f.preventDefault();const m={userid:a._id,name:a.name,username:a.username,email:a.email,post:t,image:n,profileImage:a.profileImage};console.log(m);try{const x=await at.post("https://twitter-clone-0b2e.onrender.com/post",m);console.log(x),l.changePostStatus(),r(""),e("")}catch(x){console.log(x)}};return I.jsx("div",{className:"tweetBox",children:I.jsxs("form",{onSubmit:c,children:[I.jsxs("div",{className:"tweetBox-input",children:[a.profileImage?I.jsx("img",{src:a.profileImage,className:"tweetbox-profileimage"}):I.jsx(xy,{style:{scale:"1.1"}}),I.jsx("input",{type:"text",className:"textBox",placeholder:"What is happening?",value:t,onChange:f=>{e(f.target.value)}})]}),I.jsxs("div",{className:"image-display",style:{display:n?"block":"none"},children:[I.jsx("img",{src:n,style:{width:"88%",minHeight:"180px",maxHeight:"400px",objectFit:"cover",borderRadius:"18px",marginTop:"13px",marginLeft:"54px",position:"relative",zIndex:"0"}}),I.jsx(To,{style:{position:"absolute",top:"108px",left:"859px",zIndex:"1"},onClick:f=>r(""),children:I.jsx(fx,{className:"close-icon",style:{transform:"scale(1.3)"}})})]}),I.jsxs("div",{className:"imageIcon-tweetBtn",children:[I.jsx("label",{htmlFor:"image",className:"image-icon",children:I.jsx(ZO,{style:{color:"rgb(56, 189, 241)"}})}),I.jsx("input",{type:"file",id:"image",className:"image-input",style:{display:"none"},onChange:u}),I.jsx("input",{type:"submit",className:"TweetBox-btn",value:"Tweet",disabled:!(n||t),style:{color:n||t?"white":"#e6dfdf"}})]})]})})};var px={},VJ=Xt;Object.defineProperty(px,"__esModule",{value:!0});var e3=px.default=void 0,qJ=VJ(mn()),WJ=I;e3=px.default=(0,qJ.default)((0,WJ.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var mx={},GJ=Xt;Object.defineProperty(mx,"__esModule",{value:!0});var t3=mx.default=void 0,KJ=GJ(mn()),XJ=I;t3=mx.default=(0,KJ.default)((0,XJ.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var gx={},YJ=Xt;Object.defineProperty(gx,"__esModule",{value:!0});var n3=gx.default=void 0,QJ=YJ(mn()),JJ=I;n3=gx.default=(0,QJ.default)((0,JJ.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline");const yx=({post:t,setPosts:e})=>{const[n,r]=N.useState(null),i=!!n;N.useContext(Ql),Kl(mi),N.useContext(Jl).loggedInUser;const o=N.useContext(Zl),a=N.useContext(Vf),l=N.useContext(Ey),u=_=>{r(_.currentTarget)},c=()=>{r(null)},f=async()=>{const _=await at.delete(`https://twitter-clone-0b2e.onrender.com/deletepost/${t._id}`);console.log(_),o.changePostStatus()},m=async()=>{let _="";t.bookmark==="true"?_="false":_="true";const g={bookmark:_};console.log(g.bookmark),at.patch(`https://twitter-clone-0b2e.onrender.com/uniquePostUpdate/${t._id}`,g).then(k=>console.log(k)),a.toggleBookmarkStatus()},x=async()=>{let _="";t.like==="true"?_="false":_="true";const g={like:_};at.patch(`https://twitter-clone-0b2e.onrender.com/uniquePostUpdate/${t._id}`,g).then(k=>console.log(k)),l.toggleLikeStatus()};return I.jsx(I.Fragment,{children:I.jsxs("div",{className:"post-container",children:[t.profileImage?I.jsx("img",{src:t.profileImage,className:"userpost-profileimage"}):I.jsx(xy,{style:{scale:"1",float:"left"}}),I.jsxs("div",{className:"post-header",children:[I.jsxs("div",{className:"post-userinfo",children:[I.jsx("h4",{children:t.name}),I.jsx(e3,{style:{scale:"1.1",color:"rgb(81, 192, 236)",paddingTop:"6px"}}),I.jsxs("h5",{children:["@",t.username]})]}),I.jsx(To,{"aria-controls":i?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:u,children:I.jsx(lx,{})}),I.jsx(WT,{className:"basic-menu",anchorEl:n,open:i,onClick:c,onClose:c,children:I.jsx(ob,{children:I.jsx(WX,{onClick:f,children:"Delete"})})})]}),I.jsxs("div",{className:"post-content",children:[I.jsx("p",{children:t.post}),I.jsx("img",{src:t.image,style:{borderRadius:"35px"}})]}),I.jsxs("div",{className:"post-footer",children:[I.jsx(To,{style:{marginLeft:"10px",marginRight:"10px",marginTop:"-9px"},onClick:x,children:I.jsx(t3,{style:{color:t.like==="true"?"red":"grey"}})}),I.jsx(n3,{style:{color:"grey"}}),I.jsx(To,{style:{marginLeft:"190px",marginTop:"-9px"},onClick:m,children:I.jsx(rx,{style:{color:t.bookmark==="true"?"rgb(6, 166, 230)":"grey"}})})]})]})})},CA=()=>{const[t,e]=N.useState([]),n=N.useContext(Ql),r=N.useContext(Zl),i=N.useContext(Vf),s=N.useContext(Ey),o=N.useContext(cx);N.useEffect(()=>{fetch("https://twitter-clone-0b2e.onrender.com/post").then(u=>u.json()).then(async u=>{e(u),console.log(u)})},[r.postStatus,i.bookmarkStatus,s.likeStatus,n.profileImage]),N.useEffect(()=>{if(t&&t.length>0&&!t[t.length-1].notified&&o.notificationsEnabled&&a(t[t.length-1])){l(t[t.length-1]);const u={notified:!0},c=t[t.length-1]._id;at.patch(`https://twitter-clone-0b2e.onrender.com/uniquePostUpdate/${c}`,u).then(f=>console.log(f))}},[t,o.notificationsEnabled]);const a=u=>{if(u){const c=u.post.toLowerCase();return c.includes("cricket")&&c.includes("science")}else return!1},l=u=>{Notification.permission==="granted"?new Notification("New Tweet Notification",{body:u.post,icon:u.image}):console.log("Notification permission is not granted.")};return I.jsx(I.Fragment,{children:I.jsxs("div",{className:"feed-page",children:[I.jsx("h3",{children:"Home"}),I.jsx(HJ,{}),t.slice().reverse().map(u=>(console.log(u),I.jsx(yx,{post:u,setPosts:e},u._id)))]})})},ZJ=()=>{const[t,e]=N.useState("");return I.jsxs("div",{className:"widgets",children:[I.jsxs("div",{className:"widgets-searchbar",children:[I.jsx(ZT,{style:{color:"grey",marginLeft:"20px",scale:"1.2",position:"relative",top:"0px",left:"40px"}}),I.jsx("input",{type:"text",placeholder:"Search Twitter",value:t,onChange:n=>e(n.target.value)})]}),I.jsx("div",{className:"widgets-heading",children:I.jsx("h2",{children:"What's happening"})})]})},eZ=()=>{Kl(mi);const[t,e]=N.useState({}),[n,r]=N.useState(""),[i,s]=N.useState(!1),[o,a]=N.useState(!1),[l,u]=N.useState(!1),[c,f]=N.useState(!1),[m,x]=N.useState(JSON.parse(localStorage.getItem("notificationsEnabled"))||!1);N.useEffect(()=>{"Notification"in window?Notification.requestPermission().then(S=>{console.log(S==="granted"?"Notification permission granted.":"Notification permission denied.")}):console.log("This browser does not support notifications.")},[]);const _=()=>{AB(mi)},g=()=>{s(!i)},k=()=>{u(!l)},E=()=>{f(!c)},w=()=>{a(!o)};return I.jsx(I.Fragment,{children:I.jsx(cx.Provider,{value:{notificationsEnabled:m,setNotificationsEnabled:x},children:I.jsx(Jl.Provider,{value:{loggedInUser:t,setLoggedInUser:e},children:I.jsx(ux.Provider,{value:{editStatus:i,setEditStatus:s,toggleEditStatus:g},children:I.jsx(Zl.Provider,{value:{postStatus:o,setPostStatus:a,changePostStatus:w},children:I.jsx(Vf.Provider,{value:{bookmarkStatus:l,setBookmarkStatus:u,toggleBookmarkStatus:k},children:I.jsx(Ey.Provider,{value:{likeStatus:c,setLikeStatus:f,toggleLikeStatus:E},children:I.jsx(Ql.Provider,{value:{profileImage:n,setProfileImage:r},children:I.jsxs("div",{className:"home",children:[I.jsx(MJ,{handleLogOut:_,loggedInUser:t,setLoggedInUser:e}),I.jsx(eW,{}),I.jsx(ZJ,{})]})})})})})})})})})},r3=()=>I.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:I.jsx("h1",{children:"Loading...."})}),tZ=({children:t})=>{const[e,n,r]=Kl(mi);return n?I.jsx(r3,{}):e?t:I.jsx(Zq,{to:"/login"})},nZ="/assets/video-D93AI0cm.mp4";var hh;typeof window<"u"?hh=window:typeof Em<"u"?hh=Em:typeof self<"u"?hh=self:hh={};var wy=hh;const q=No(wy),rZ={},iZ=Object.freeze(Object.defineProperty({__proto__:null,default:rZ},Symbol.toStringTag,{value:"Module"})),sZ=fs(iZ);var AA=typeof Em<"u"?Em:typeof window<"u"?window:{},oZ=sZ,fh;typeof document<"u"?fh=document:(fh=AA["__GLOBAL_DOCUMENT_CACHE@4"],fh||(fh=AA["__GLOBAL_DOCUMENT_CACHE@4"]=oZ));var i3=fh;const pe=No(i3);var vx={exports:{}},aZ=uZ,lZ=Object.prototype.toString;function uZ(t){if(!t)return!1;var e=lZ.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function cZ(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=dZ(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){if(t){if(typeof t=="string")return IA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hZ=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(r,i){this.typeToInterceptorsMap_.has(r)||this.typeToInterceptorsMap_.set(r,new Set);var s=this.typeToInterceptorsMap_.get(r);return s.has(i)?!1:(s.add(i),!0)},e.removeInterceptor=function(r,i){var s=this.typeToInterceptorsMap_.get(r);return s&&s.has(i)?(s.delete(i),!0):!1},e.clearInterceptorsByType=function(r){var i=this.typeToInterceptorsMap_.get(r);return i?(this.typeToInterceptorsMap_.delete(r),this.typeToInterceptorsMap_.set(r,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(r){return this.typeToInterceptorsMap_.get(r)||new Set},e.execute=function(r,i){for(var s=this.getForType(r),o=cZ(s),a;!(a=o()).done;){var l=a.value;try{i=l(i)}catch{}}return i},t}(),fZ=hZ,pZ=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(r){this.maxAttempts_=r},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(r){this.delayFactor_=r},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(r){this.fuzzFactor_=r},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(r){this.initialDelay_=r},e.createRetry=function(r){var i=r===void 0?{}:r,s=i.maxAttempts,o=i.delayFactor,a=i.fuzzFactor,l=i.initialDelay;return new mZ({maxAttempts:s||this.maxAttempts_,delayFactor:o||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),mZ=function(){function t(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return r+Math.random()*(i-r)},t}(),gZ=pZ,yZ=wy,vZ=function(e,n){return n===void 0&&(n=!1),function(r,i,s){if(r){e(r);return}if(i.statusCode>=400&&i.statusCode<=599){var o=s;if(n)if(yZ.TextDecoder){var a=_Z(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(a).decode(s)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:o});return}e(null,s)}};function _Z(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var r=n.split("="),i=r[0],s=r[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var bZ=vZ,s3=wy,TZ=AR,xZ=aZ,o3=fZ,SZ=gZ;Tn.httpHandler=bZ;Tn.requestInterceptorsStorage=new o3;Tn.responseInterceptorsStorage=new o3;Tn.retryManager=new SZ;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var EZ=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(r){var i=r.indexOf(":"),s=r.slice(0,i).trim().toLowerCase(),o=r.slice(i+1).trim();typeof n[s]>"u"?n[s]=o:Array.isArray(n[s])?n[s].push(o):n[s]=[n[s],o]}),n};vx.exports=Tn;vx.exports.default=Tn;Tn.XMLHttpRequest=s3.XMLHttpRequest||IZ;Tn.XDomainRequest="withCredentials"in new Tn.XMLHttpRequest?Tn.XMLHttpRequest:s3.XDomainRequest;wZ(["get","put","post","patch","head","delete"],function(t){Tn[t==="delete"?"del":t]=function(e,n,r){return n=a3(e,n,r),n.method=t.toUpperCase(),_x(n)}});function wZ(t,e){for(var n=0;n<t.length;n++)e(t[n])}function CZ(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function a3(t,e,n){var r=t;return xZ(e)?(n=e,typeof t=="string"&&(r={uri:t})):r=TZ({},e,{uri:t}),r.callback=n,r}function Tn(t,e,n){return e=a3(t,e,n),_x(e)}function _x(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Tn.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},n=Tn.requestInterceptorsStorage.execute(t.requestType,e);t.uri=n.uri,t.headers=n.headers,t.body=n.body,t.metadata=n.metadata,t.retry=n.retry,t.timeout=n.timeout}var r=!1,i=function(L,R,D){r||(r=!0,t.callback(L,R,D))};function s(){u.readyState===4&&!Tn.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function o(){var O=void 0;if(u.response?O=u.response:O=u.responseText||AZ(u),E)try{O=JSON.parse(O)}catch{}return O}function a(O){if(clearTimeout(w),clearTimeout(t.retryTimeout),O instanceof Error||(O=new Error(""+(O||"Unknown XMLHttpRequest Error"))),O.statusCode=0,!f&&Tn.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=u,_x(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Tn.responseInterceptorsStorage.getIsEnabled()){var L={headers:S.headers||{},body:S.body,responseUrl:u.responseURL,responseType:u.responseType},R=Tn.responseInterceptorsStorage.execute(t.requestType,L);S.body=R.body,S.headers=R.headers}return i(O,S)}function l(){if(!f){var O;clearTimeout(w),clearTimeout(t.retryTimeout),t.useXDR&&u.status===void 0?O=200:O=u.status===1223?204:u.status;var L=S,R=null;if(O!==0?(L={body:o(),statusCode:O,method:x,headers:{},url:m,rawRequest:u},u.getAllResponseHeaders&&(L.headers=EZ(u.getAllResponseHeaders()))):R=new Error("Internal XMLHttpRequest Error"),t.requestType&&Tn.responseInterceptorsStorage.getIsEnabled()){var D={headers:L.headers||{},body:L.body,responseUrl:u.responseURL,responseType:u.responseType},P=Tn.responseInterceptorsStorage.execute(t.requestType,D);L.body=P.body,L.headers=P.headers}return i(R,L,L.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new Tn.XDomainRequest:u=new Tn.XMLHttpRequest);var c,f,m=u.url=t.uri||t.url,x=u.method=t.method||"GET",_=t.body||t.data,g=u.headers=t.headers||{},k=!!t.sync,E=!1,w,S={body:void 0,headers:{},statusCode:0,method:x,url:m,rawRequest:u};if("json"in t&&t.json!==!1&&(E=!0,g.accept||g.Accept||(g.Accept="application/json"),x!=="GET"&&x!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),_=JSON.stringify(t.json===!0?_:t.json))),u.onreadystatechange=s,u.onload=l,u.onerror=a,u.onprogress=function(){},u.onabort=function(){f=!0,clearTimeout(t.retryTimeout)},u.ontimeout=a,u.open(x,m,!k,t.username,t.password),k||(u.withCredentials=!!t.withCredentials),!k&&t.timeout>0&&(w=setTimeout(function(){if(!f){f=!0,u.abort("timeout");var O=new Error("XMLHttpRequest timeout");O.code="ETIMEDOUT",a(O)}},t.timeout)),u.setRequestHeader)for(c in g)g.hasOwnProperty(c)&&u.setRequestHeader(c,g[c]);else if(t.headers&&!CZ(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(_||null),u}function AZ(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function IZ(){}var kZ=vx.exports;const l3=No(kZ);var u3={exports:{}},kA=i3,bx=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function li(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}li.prototype=bx(Error.prototype);li.prototype.constructor=li;li.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Tx(t){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+(o|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Oh(){this.values=bx(null)}Oh.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function ph(t,e,n,r){var i=r?t.split(r):[t];for(var s in i)if(typeof i[s]=="string"){var o=i[s].split(n);if(o.length===2){var a=o[0].trim(),l=o[1].trim();e(a,l)}}}function DZ(t,e,n){var r=t;function i(){var a=Tx(t);if(a===null)throw new li(li.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){var u=new Oh;ph(a,function(c,f){switch(c){case"region":for(var m=n.length-1;m>=0;m--)if(n[m].id===f){u.set(c,n[m].region);break}break;case"vertical":u.alt(c,f,["rl","lr"]);break;case"line":var x=f.split(","),_=x[0];u.integer(c,_),u.percent(c,_)&&u.set("snapToLines",!1),u.alt(c,_,["auto"]),x.length===2&&u.alt("lineAlign",x[1],["start","center","end"]);break;case"position":x=f.split(","),u.percent(c,x[0]),x.length===2&&u.alt("positionAlign",x[1],["start","center","end"]);break;case"size":u.percent(c,f);break;case"align":u.alt(c,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.substr(0,3)!=="-->")throw new li(li.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),o(),e.endTime=i(),o(),s(t,e)}var d_=kA.createElement&&kA.createElement("textarea"),PZ={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},DA={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},RZ={v:"title",lang:"lang"},PA={rt:"ruby"};function c3(t,e){function n(){if(!e)return null;function _(k){return e=e.substr(k.length),k}var g=e.match(/^([^<]*)(<[^>]*>?)?/);return _(g[1]?g[1]:g[2])}function r(_){return d_.innerHTML=_,_=d_.textContent,d_.textContent="",_}function i(_,g){return!PA[g.localName]||PA[g.localName]===_.localName}function s(_,g){var k=PZ[_];if(!k)return null;var E=t.document.createElement(k),w=RZ[_];return w&&g&&(E[w]=g.trim()),E}for(var o=t.document.createElement("div"),a=o,l,u=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),a=a.parentNode);continue}var c=Tx(l.substr(1,l.length-2)),f;if(c){f=t.document.createProcessingInstruction("timestamp",c),a.appendChild(f);continue}var m=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m||(f=s(m[1],m[3]),!f)||!i(a,f))continue;if(m[2]){var x=m[2].split(".");x.forEach(function(_){var g=/^bg_/.test(_),k=g?_.slice(3):_;if(DA.hasOwnProperty(k)){var E=g?"background-color":"color",w=DA[k];f.style[E]=w}}),f.className=x.join(" ")}u.push(m[1]),a.appendChild(f),a=f;continue}a.appendChild(t.document.createTextNode(r(l)))}return o}var RA=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function OZ(t){for(var e=0;e<RA.length;e++){var n=RA[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function LZ(t){var e=[],n="",r;if(!t||!t.childNodes)return"ltr";function i(a,l){for(var u=l.childNodes.length-1;u>=0;u--)a.push(l.childNodes[u])}function s(a){if(!a||!a.length)return null;var l=a.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(a.length=0,c[0]):u}if(l.tagName==="ruby")return s(a);if(l.childNodes)return i(a,l),s(a)}for(i(e,t);n=s(e);)for(var o=0;o<n.length;o++)if(r=n.charCodeAt(o),OZ(r))return"rtl";return"ltr"}function NZ(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)n[i].mode==="showing"&&r++;return++r*-1}function Cy(){}Cy.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};Cy.prototype.formatStyle=function(t,e){return t===0?0:t+e};function bg(t,e,n){Cy.call(this),this.cue=e,this.cueDiv=c3(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:LZ(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}bg.prototype=bx(Cy.prototype);bg.prototype.constructor=bg;function wr(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}wr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};wr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};wr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};wr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};wr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};wr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*n;return r/(this.height*this.width)};wr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};wr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n};return i};function MZ(t,e,n,r){function i(k,E){for(var w,S=new wr(k),O=1,L=0;L<E.length;L++){for(;k.overlapsOppositeAxis(n,E[L])||k.within(n)&&k.overlapsAny(r);)k.move(E[L]);if(k.within(n))return k;var R=k.intersectPercentage(n);O>R&&(w=new wr(k),O=R),k=new wr(S)}return w||S}var s=new wr(e),o=e.cue,a=NZ(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,f=c*Math.round(a),m=n[u]+c,x=l[0];Math.abs(f)>m&&(f=f<0?-1:1,f*=Math.ceil(m/c)*c),a<0&&(f+=o.vertical===""?n.height:n.width,l=l.reverse()),s.move(x,f)}else{var _=s.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=_/2;break;case"end":a-=_;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new wr(e)}var g=i(s,l);e.move(g.toCSSCompatValues(n))}function ld(){}ld.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ld.convertCueToDOMTree=function(t,e){return!t||!e?null:c3(t,e)};var FZ=.05,BZ="sans-serif",UZ="1.5%";ld.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=UZ,n.appendChild(r);function i(c){for(var f=0;f<c.length;f++)if(c[f].hasBeenReset||!c[f].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var o=[],a=wr.getSimpleBoxPosition(r),l=Math.round(a.height*FZ*100)/100,u={font:l+"px "+BZ};(function(){for(var c,f,m=0;m<e.length;m++)f=e[m],c=new bg(t,f,u),r.appendChild(c.div),MZ(t,c,a,o),f.displayState=c.div,o.push(wr.getSimpleBoxPosition(c))})()};ld.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};ld.Parser.prototype={reportOrThrowError:function(t){if(t instanceof li)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var c=e.buffer,f=0;f<c.length&&c[f]!=="\r"&&c[f]!==`
`;)++f;var m=c.substr(0,f);return c[f]==="\r"&&++f,c[f]===`
`&&++f,e.buffer=c.substr(f),m}function r(c){var f=new Oh;if(ph(c,function(x,_){switch(x){case"id":f.set(x,_);break;case"width":f.percent(x,_);break;case"lines":f.integer(x,_);break;case"regionanchor":case"viewportanchor":var g=_.split(",");if(g.length!==2)break;var k=new Oh;if(k.percent("x",g[0]),k.percent("y",g[1]),!k.has("x")||!k.has("y"))break;f.set(x+"X",k.get("x")),f.set(x+"Y",k.get("y"));break;case"scroll":f.alt(x,_,["up"]);break}},/=/,/\s/),f.has("id")){var m=new(e.vttjs.VTTRegion||e.window.VTTRegion);m.width=f.get("width",100),m.lines=f.get("lines",3),m.regionAnchorX=f.get("regionanchorX",0),m.regionAnchorY=f.get("regionanchorY",100),m.viewportAnchorX=f.get("viewportanchorX",0),m.viewportAnchorY=f.get("viewportanchorY",100),m.scroll=f.get("scroll",""),e.onregion&&e.onregion(m),e.regionList.push({id:f.get("id"),region:m})}}function i(c){var f=new Oh;ph(c,function(m,x){switch(m){case"MPEGT":f.integer(m+"S",x);break;case"LOCA":f.set(m+"L",Tx(x));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?ph(c,function(f,m){switch(f){case"X-TIMESTAMP-MAP":i(m);break}},/=/):ph(c,function(f,m){switch(f){case"Region":r(m);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=n();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new li(li.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=n(),e.state){case"HEADER":/:/.test(o)?s(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{DZ(o,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=o.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":o||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new li(li.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var jZ=ld,$Z="auto",zZ={"":1,lr:1,rl:1},HZ={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function VZ(t){if(typeof t!="string")return!1;var e=zZ[t.toLowerCase()];return e?t.toLowerCase():!1}function h_(t){if(typeof t!="string")return!1;var e=HZ[t.toLowerCase()];return e?t.toLowerCase():!1}function d3(t,e,n){this.hasBeenReset=!1;var r="",i=!1,s=t,o=e,a=n,l=null,u="",c=!0,f="auto",m="start",x="auto",_="auto",g=100,k="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(E){r=""+E}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(E){i=!!E}},startTime:{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");s=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");o=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(E){a=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(E){l=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(E){var w=VZ(E);if(w===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=w,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(E){c=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(E){if(typeof E!="number"&&E!==$Z)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(E){var w=h_(E);w?(m=w,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return x},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");x=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return _},set:function(E){var w=h_(E);w?(_=w,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");g=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return k},set:function(E){var w=h_(E);if(!w)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");k=w,this.hasBeenReset=!0}}}),this.displayState=void 0}d3.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var qZ=d3,WZ={"":!0,up:!0};function GZ(t){if(typeof t!="string")return!1;var e=WZ[t.toLowerCase()];return e?t.toLowerCase():!1}function Yd(t){return typeof t=="number"&&t>=0&&t<=100}function KZ(){var t=100,e=3,n=0,r=100,i=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!Yd(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(a){if(!Yd(a))throw new Error("RegionAnchorX must be between 0 and 100.");r=a}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(a){if(!Yd(a))throw new Error("RegionAnchorY must be between 0 and 100.");n=a}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(a){if(!Yd(a))throw new Error("ViewportAnchorY must be between 0 and 100.");s=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!Yd(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return o},set:function(a){var l=GZ(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var XZ=KZ,Po=wy,eu=u3.exports={WebVTT:jZ,VTTCue:qZ,VTTRegion:XZ};Po.vttjs=eu;Po.WebVTT=eu.WebVTT;var YZ=eu.VTTCue,QZ=eu.VTTRegion,JZ=Po.VTTCue,ZZ=Po.VTTRegion;eu.shim=function(){Po.VTTCue=YZ,Po.VTTRegion=QZ};eu.restore=function(){Po.VTTCue=JZ,Po.VTTRegion=ZZ};Po.VTTCue||eu.shim();var eee=u3.exports;const OA=No(eee);var h3={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=a.normalizePath(f.path),a.buildURLFromParts(f)}var m=a.parseURL(u);if(!m)throw new Error("Error trying to parse relative URL.");if(m.scheme)return c.alwaysNormalize?(m.path=a.normalizePath(m.path),a.buildURLFromParts(m)):u;var x=a.parseURL(l);if(!x)throw new Error("Error trying to parse base URL.");if(!x.netLoc&&x.path&&x.path[0]!=="/"){var _=i.exec(x.path);x.netLoc=_[1],x.path=_[2]}x.netLoc&&!x.path&&(x.path="/");var g={scheme:x.scheme,netLoc:m.netLoc,path:null,params:m.params,query:m.query,fragment:m.fragment};if(!m.netLoc&&(g.netLoc=x.netLoc,m.path[0]!=="/"))if(!m.path)g.path=x.path,m.params||(g.params=x.params,m.query||(g.query=x.query));else{var k=x.path,E=k.substring(0,k.lastIndexOf("/")+1)+m.path;g.path=a.normalizePath(E)}return g.path===null&&(g.path=c.alwaysNormalize?a.normalizePath(m.path):m.path),a.buildURLFromParts(g)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(h3);var tee=h3.exports;const LA=No(tee);var NA="http://example.com",Ay=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=q.location&&q.location.href||"");var r=typeof q.URL=="function",i=/^\/\//.test(e),s=!q.location&&!/\/\//i.test(e);if(r?e=new q.URL(e,q.location||NA):/\/\//i.test(e)||(e=LA.buildAbsoluteURL(q.location&&q.location.href||"",e)),r){var o=new URL(n,e);return s?o.href.slice(NA.length):i?o.href.slice(o.protocol.length):o.href}return LA.buildAbsoluteURL(e,n)},xx=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,i){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(i)},e.off=function(r,i){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(i);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var i=this.listeners[r];if(i)if(arguments.length===2)for(var s=i.length,o=0;o<s;++o)i[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(i){r.push(i)})},t}(),nee=function(e){return q.atob?q.atob(e):Buffer.from(e,"base64").toString("binary")};function ree(t){for(var e=nee(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class iee extends xx{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const see="	",f_=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},oee=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},br=function(t){const e={};if(!t)return e;const n=t.split(oee());let r=n.length,i;for(;r--;)n[r]!==""&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},MA=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class aee extends xx{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,o)=>{const a=o(e);return a===e?s:s.concat([a])},[e]).forEach(s=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){r=G(f_(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(r={type:"tag",tagType:"map"},n[1]){const o=br(n[1]);o.URI&&(r.uri=o.URI),o.BYTERANGE&&(r.byterange=f_(o.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=br(n[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=MA(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=br(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=br(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=br(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=br(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(see)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=br(n[1]),["DURATION"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=/YES/.test(r.attributes[o]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=f_(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=br(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=/YES/.test(r.attributes[o]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=br(n[1]),["PART-TARGET"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=br(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(r.attributes.hasOwnProperty(o)){r.attributes[o]=parseInt(r.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[a]=r.attributes[o],delete r.attributes[o]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=br(n[1]),["LAST-MSN","LAST-PART"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseInt(r.attributes[o],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=br(n[1]),["ID","CLASS"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=String(r.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=new Date(r.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/i.test(r.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=r.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in r.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(r.attributes[a]),u=/^\d+(\.\d+)?$/.test(r.attributes[a]);r.attributes[a]=l?r.attributes[a].toString(16):u?parseFloat(r.attributes[a]):String(r.attributes[a])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),n){r={type:"tag",tagType:"content-steering"},r.attributes=br(n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),n){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=br(n[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=MA(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(s),n){r={type:"tag",tagType:"define"},r.attributes=br(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:n,dataParser:r,segment:i}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:n,segment:i}),!0})}addTagMapper({expression:e,map:n}){const r=i=>e.test(i)?n(i):i;this.tagMappers.push(r)}}const lee=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),ta=function(t){const e={};return Object.keys(t).forEach(function(n){e[lee(n)]=t[n]}),e},p_=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",a=n&&n*3,l=r&&r*2;n&&!e.hasOwnProperty(s)&&(e[s]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[s]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${a})`}),e[s]=a),r&&!e.hasOwnProperty(o)&&(e[o]=r*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[o]}).`})),r&&e[o]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[o]}) to partTargetDuration * 2 (${l}).`}),e[o]=l)};class uee extends xx{constructor(e={}){super(),this.lineStream=new iee,this.parseStream=new aee,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,r=[];let i={},s,o,a=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let m=0,x=0;const _={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&s&&(i.map=s),!i.key&&o&&(i.key=o),!i.timeline&&typeof f=="number"&&(i.timeline=f),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(g){let k,E;if(n.manifest.definitions){for(const w in n.manifest.definitions)if(g.uri&&(g.uri=g.uri.replace(`{$${w}}`,n.manifest.definitions[w])),g.attributes)for(const S in g.attributes)typeof g.attributes[S]=="string"&&(g.attributes[S]=g.attributes[S].replace(`{$${w}}`,n.manifest.definitions[w]))}({tag(){({version(){g.version&&(this.manifest.version=g.version)},"allow-cache"(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const w={};"length"in g&&(i.byterange=w,w.length=g.length,"offset"in g||(g.offset=m)),"offset"in g&&(i.byterange=w,w.offset=g.offset),m=w.offset+w.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.title&&(i.title=g.title),g.duration>0&&(i.duration=g.duration),g.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){o=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:g.attributes.URI};return}if(g.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:ree(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV<"u"&&(o.iv=g.attributes.IV)},"media-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,f=g.number},"playlist-type"(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map(){s={},g.uri&&(s.uri=g.uri),g.byterange&&(s.byterange=g.byterange),o&&(s.key=o)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),G(i.attributes,g.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const w=this.manifest.mediaGroups[g.attributes.TYPE];w[g.attributes["GROUP-ID"]]=w[g.attributes["GROUP-ID"]]||{},k=w[g.attributes["GROUP-ID"]],E={default:/yes/i.test(g.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(E.language=g.attributes.LANGUAGE),g.attributes.URI&&(E.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(E.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(E.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(E.forced=/yes/i.test(g.attributes.FORCED)),k[g.attributes.NAME]=E},discontinuity(){f+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),i.dateTimeString=g.dateTimeString,i.dateTimeObject=g.dateTimeObject;const{lastProgramDateTime:w}=this;this.lastProgramDateTime=new Date(g.dateTimeString).getTime(),w===null&&this.manifest.segments.reduceRight((S,O)=>(O.programDateTime=S-O.duration*1e3,O.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,p_.call(this,this.manifest)},start(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out"(){i.cueOut=g.data},"cue-out-cont"(){i.cueOutCont=g.data},"cue-in"(){i.cueIn=g.data},skip(){this.manifest.skip=ta(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const w=this.manifest.segments.length,S=ta(g.attributes);i.parts=i.parts||[],i.parts.push(S),S.byterange&&(S.byterange.hasOwnProperty("offset")||(S.byterange.offset=x),x=S.byterange.offset+S.byterange.length);const O=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${O} for segment #${w}`,g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((L,R)=>{L.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${R} lacks required attribute(s): LAST-PART`})})},"server-control"(){const w=this.manifest.serverControl=ta(g.attributes);w.hasOwnProperty("canBlockReload")||(w.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),p_.call(this,this.manifest),w.canSkipDateranges&&!w.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const w=this.manifest.segments.length,S=ta(g.attributes),O=S.type&&S.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(S),S.byterange&&(S.byterange.hasOwnProperty("offset")||(S.byterange.offset=O?x:0,O&&(x=S.byterange.offset+S.byterange.length)));const L=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${L} for segment #${w}`,g.attributes,["TYPE","URI"]),!!S.type)for(let R=0;R<i.preloadHints.length-1;R++){const D=i.preloadHints[R];D.type&&D.type===S.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${L} for segment #${w} has the same TYPE ${S.type} as preload hint #${R}`})}},"rendition-report"(){const w=ta(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(w);const S=this.manifest.renditionReports.length-1,O=["LAST-MSN","URI"];a&&O.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${S}`,g.attributes,O)},"part-inf"(){this.manifest.partInf=ta(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),p_.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(ta(g.attributes));const w=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${w}`,g.attributes,["ID","START-DATE"]);const S=this.manifest.dateRanges[w];S.endDate&&S.startDate&&new Date(S.endDate)<new Date(S.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),S.duration&&S.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),S.plannedDuration&&S.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const O=!!S.endOnNext;if(O&&!S.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),O&&(S.duration||S.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),S.duration&&S.endDate){const R=S.startDate.getTime()+S.duration*1e3;this.manifest.dateRanges[w].endDate=new Date(R)}if(!_[S.id])_[S.id]=S;else{for(const R in _[S.id])if(S[R]&&JSON.stringify(_[S.id][R])!==JSON.stringify(S[R])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const L=this.manifest.dateRanges.findIndex(R=>R.id===S.id);this.manifest.dateRanges[L]=G(this.manifest.dateRanges[L],S),_[S.id]=G(_[S.id],S),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=ta(g.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",g.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const w=(S,O)=>{if(S in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${S}`});return}this.manifest.definitions[S]=O};if("QUERYPARAM"in g.attributes){if("NAME"in g.attributes||"IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const S=this.params.get(g.attributes.QUERYPARAM);if(!S){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${g.attributes.QUERYPARAM}`});return}w(g.attributes.QUERYPARAM,decodeURIComponent(S));return}if("NAME"in g.attributes){if("IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in g.attributes)||typeof g.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${g.attributes.NAME}`});return}w(g.attributes.NAME,g.attributes.VALUE);return}if("IMPORT"in g.attributes){if(!this.mainDefinitions[g.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${g.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}w(g.attributes.IMPORT,this.mainDefinitions[g.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:g.attributes,uri:g.uri,timeline:f}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",g.attributes,["BANDWIDTH","URI"])}}[g.tagType]||l).call(n)},uri(){i.uri=g.uri,r.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),o&&(i.key=o),i.timeline=f,s&&(i.map=s),x=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){g.segment?(i.custom=i.custom||{},i.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(e,n,r){const i=[];r.forEach(function(s){n.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var wl={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},cee=["video","audio","text"],FA=["Video","Audio","Text"],f3=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,r,i){var s=("00"+Number(r).toString(16)).slice(-2),o=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+o})},ks=function(e){e===void 0&&(e="");var n=e.split(","),r=[];return n.forEach(function(i){i=i.trim();var s;cee.forEach(function(o){var a=wl[o].exec(i.toLowerCase());if(!(!a||a.length<=1)){s=o;var l=i.substring(0,a[1].length),u=i.replace(l,"");r.push({type:l,details:u,mediaType:o})}}),s||r.push({type:i,details:"",mediaType:"unknown"})}),r},dee=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var r=e.mediaGroups.AUDIO[n];if(!r)return null;for(var i in r){var s=r[i];if(s.default&&s.playlists)return ks(s.playlists[0].attributes.CODECS)}return null},p3=function(e){return e===void 0&&(e=""),wl.audio.test(e.trim().toLowerCase())},hee=function(e){return e===void 0&&(e=""),wl.text.test(e.trim().toLowerCase())},yf=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return f3(s.trim())}),r="video";n.length===1&&p3(n[0])?r="audio":n.length===1&&hee(n[0])&&(r="application");var i="mp4";return n.every(function(s){return wl.mp4.test(s)})?i="mp4":n.every(function(s){return wl.webm.test(s)})?i="webm":n.every(function(s){return wl.ogg.test(s)})&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},bm=function(e){return e===void 0&&(e=""),q.MediaSource&&q.MediaSource.isTypeSupported&&q.MediaSource.isTypeSupported(yf(e))||!1},m_=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var r=0;r<FA.length;r++){var i=FA[r];if(wl["muxer"+i].test(n))return!0}return!1})},BA="mp4a.40.2",fee="avc1.4d400d",pee=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,mee=/^application\/dash\+xml/i,m3=function(e){return pee.test(e)?"hls":mee.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},gee=function(e){return e.toString(2).length},yee=function(e){return Math.ceil(gee(e)/8)},g3=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},vee=function(e){return g3(e)},Re=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!vee(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Xn=q.BigInt||Number,ab=[Xn("0x1"),Xn("0x100"),Xn("0x10000"),Xn("0x1000000"),Xn("0x100000000"),Xn("0x10000000000"),Xn("0x1000000000000"),Xn("0x100000000000000"),Xn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var _ee=function(e,n){var r=n===void 0?{}:n,i=r.signed,s=i===void 0?!1:i,o=r.le,a=o===void 0?!1:o;e=Re(e);var l=a?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(m,x,_){var g=a?_:Math.abs(_+1-e.length);return m+Xn(x)*ab[g]},Xn(0));if(s){var f=ab[e.length]/Xn(2)-Xn(1);c=Xn(c),c>f&&(c-=f,c-=f,c-=Xn(2))}return Number(c)},bee=function(e,n){var r={},i=r.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Xn(e);for(var o=yee(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=s?l:Math.abs(l+1-a.length);a[u]=Number(e/ab[l]&Xn(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},y3=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r},Tee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),n.length<=1)return Re(n[0]);var i=n.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),s=new Uint8Array(i),o=0;return n.forEach(function(a){a=Re(a),s.set(a,o),o+=a.byteLength}),s},Wt=function(e,n,r){var i=r===void 0?{}:r,s=i.offset,o=s===void 0?0:s,a=i.mask,l=a===void 0?[]:a;e=Re(e),n=Re(n);var u=n.every?n.every:Array.prototype.every;return n.length&&e.length-o>=n.length&&u.call(n,function(c,f){var m=l[f]?l[f]&e[o+f]:e[o+f];return c===m})},xee=function(e,n,r){n.forEach(function(i){for(var s in e.mediaGroups[i])for(var o in e.mediaGroups[i][s]){var a=e.mediaGroups[i][s][o];r(a,i,s,o)}})},See=function(e){return q.atob?q.atob(e):Buffer.from(e,"base64").toString("binary")};function Eee(t){for(var e=See(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ua={},jo={};function wee(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];if(e.call(void 0,i,r,t))return i}}function Sx(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function Cee(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var v3=Sx({HTML:"text/html",isHTML:function(t){return t===v3.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_3=Sx({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===_3.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});jo.assign=Cee;jo.find=wee;jo.freeze=Sx;jo.MIME_TYPE=v3;jo.NAMESPACE=_3;var b3=jo,Hs=b3.find,vf=b3.NAMESPACE;function Aee(t){return t!==""}function Iee(t){return t?t.split(/[\t\n\f\r ]+/).filter(Aee):[]}function kee(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function UA(t){if(!t)return[];var e=Iee(t);return Object.keys(e.reduce(kee,{}))}function Dee(t){return function(e){return t&&t.indexOf(e)!==-1}}function qf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Kr(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};var r=i;i.prototype=e.prototype,i=new i,qf(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Xr={},us=Xr.ELEMENT_NODE=1,Lc=Xr.ATTRIBUTE_NODE=2,Tg=Xr.TEXT_NODE=3,T3=Xr.CDATA_SECTION_NODE=4,x3=Xr.ENTITY_REFERENCE_NODE=5,Pee=Xr.ENTITY_NODE=6,S3=Xr.PROCESSING_INSTRUCTION_NODE=7,E3=Xr.COMMENT_NODE=8,w3=Xr.DOCUMENT_NODE=9,C3=Xr.DOCUMENT_TYPE_NODE=10,Ro=Xr.DOCUMENT_FRAGMENT_NODE=11,Ree=Xr.NOTATION_NODE=12,mr={},qn={};mr.INDEX_SIZE_ERR=(qn[1]="Index size error",1);mr.DOMSTRING_SIZE_ERR=(qn[2]="DOMString size error",2);var Mr=mr.HIERARCHY_REQUEST_ERR=(qn[3]="Hierarchy request error",3);mr.WRONG_DOCUMENT_ERR=(qn[4]="Wrong document",4);mr.INVALID_CHARACTER_ERR=(qn[5]="Invalid character",5);mr.NO_DATA_ALLOWED_ERR=(qn[6]="No data allowed",6);mr.NO_MODIFICATION_ALLOWED_ERR=(qn[7]="No modification allowed",7);var A3=mr.NOT_FOUND_ERR=(qn[8]="Not found",8);mr.NOT_SUPPORTED_ERR=(qn[9]="Not supported",9);var jA=mr.INUSE_ATTRIBUTE_ERR=(qn[10]="Attribute in use",10);mr.INVALID_STATE_ERR=(qn[11]="Invalid state",11);mr.SYNTAX_ERR=(qn[12]="Syntax error",12);mr.INVALID_MODIFICATION_ERR=(qn[13]="Invalid modification",13);mr.NAMESPACE_ERR=(qn[14]="Invalid namespace",14);mr.INVALID_ACCESS_ERR=(qn[15]="Invalid access",15);function Sn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,qn[t]),this.message=qn[t],Error.captureStackTrace&&Error.captureStackTrace(this,Sn);return n.code=t,e&&(this.message=this.message+": "+e),n}Sn.prototype=Error.prototype;qf(mr,Sn);function xo(){}xo.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)Yu(this[r],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Nc(t,e){this._node=t,this._refresh=e,Ex(this)}function Ex(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(U3(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var r=n.length;r in t;r++)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];qf(n,t),t._inc=e}}Nc.prototype.item=function(t){return Ex(this),this[t]||null};Kr(Nc,xo);function xg(){}function I3(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function $A(t,e,n,r){if(r?e[I3(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&P3(i,t,r),Oee(i,t,n))}}function zA(t,e,n){var r=I3(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(P3(s,t,n),n.ownerElement=null)}}else throw new Sn(A3,new Error(t.tagName+"@"+n))}xg.prototype={length:0,item:xo.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Sn(jA);var n=this.getNamedItem(t.nodeName);return $A(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new Sn(jA);return n=this.getNamedItemNS(t.namespaceURI,t.localName),$A(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return zA(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return zA(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function k3(){}k3.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new Wf;if(r.implementation=this,r.childNodes=new xo,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new Iy;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function It(){}It.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Sg(this,t,e)},replaceChild:function(t,e){Sg(this,t,e,O3),e&&this.removeChild(e)},removeChild:function(t){return R3(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return lb(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Tg&&t.nodeType==Tg?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===t)return r}e=e.nodeType==Lc?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==Lc?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function D3(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}qf(Xr,It);qf(Xr,It.prototype);function _f(t,e){if(e(t))return!0;if(t=t.firstChild)do if(_f(t,e))return!0;while(t=t.nextSibling)}function Wf(){this.ownerDocument=this}function Oee(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===vf.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function P3(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===vf.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function wx(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function R3(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,wx(t.ownerDocument,t),e}function Lee(t){return t&&(t.nodeType===It.DOCUMENT_NODE||t.nodeType===It.DOCUMENT_FRAGMENT_NODE||t.nodeType===It.ELEMENT_NODE)}function Nee(t){return t&&(Vs(t)||Cx(t)||Oo(t)||t.nodeType===It.DOCUMENT_FRAGMENT_NODE||t.nodeType===It.COMMENT_NODE||t.nodeType===It.PROCESSING_INSTRUCTION_NODE)}function Oo(t){return t&&t.nodeType===It.DOCUMENT_TYPE_NODE}function Vs(t){return t&&t.nodeType===It.ELEMENT_NODE}function Cx(t){return t&&t.nodeType===It.TEXT_NODE}function HA(t,e){var n=t.childNodes||[];if(Hs(n,Vs)||Oo(e))return!1;var r=Hs(n,Oo);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function VA(t,e){var n=t.childNodes||[];function r(s){return Vs(s)&&s!==e}if(Hs(n,r))return!1;var i=Hs(n,Oo);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function Mee(t,e,n){if(!Lee(t))throw new Sn(Mr,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new Sn(A3,"child not in parent");if(!Nee(e)||Oo(e)&&t.nodeType!==It.DOCUMENT_NODE)throw new Sn(Mr,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function Fee(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===It.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Vs);if(s.length>1||Hs(i,Cx))throw new Sn(Mr,"More than one element or text in fragment");if(s.length===1&&!HA(t,n))throw new Sn(Mr,"Element in fragment can not be inserted before doctype")}if(Vs(e)&&!HA(t,n))throw new Sn(Mr,"Only one element can be added and only after doctype");if(Oo(e)){if(Hs(r,Oo))throw new Sn(Mr,"Only one doctype is allowed");var o=Hs(r,Vs);if(n&&r.indexOf(o)<r.indexOf(n))throw new Sn(Mr,"Doctype can only be inserted before an element");if(!n&&o)throw new Sn(Mr,"Doctype can not be appended since element is present")}}function O3(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===It.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Vs);if(s.length>1||Hs(i,Cx))throw new Sn(Mr,"More than one element or text in fragment");if(s.length===1&&!VA(t,n))throw new Sn(Mr,"Element in fragment can not be inserted before doctype")}if(Vs(e)&&!VA(t,n))throw new Sn(Mr,"Only one element can be added and only after doctype");if(Oo(e)){let l=function(u){return Oo(u)&&u!==n};var a=l;if(Hs(r,l))throw new Sn(Mr,"Only one doctype is allowed");var o=Hs(r,Vs);if(n&&r.indexOf(o)<r.indexOf(n))throw new Sn(Mr,"Doctype can only be inserted before an element")}}function Sg(t,e,n,r){Mee(t,e,n),t.nodeType===It.DOCUMENT_NODE&&(r||Fee)(t,e,n);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Ro){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=n?n.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=n,a?a.nextSibling=s:t.firstChild=s,n==null?t.lastChild=o:n.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return wx(t.ownerDocument||t,t),e.nodeType==Ro&&(e.firstChild=e.lastChild=null),e}function Bee(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,wx(t.ownerDocument,t,e),e}Wf.prototype={nodeName:"#document",nodeType:w3,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ro){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return Sg(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===us&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),R3(this,t)},replaceChild:function(t,e){Sg(this,t,e,O3),t.ownerDocument=this,e&&this.removeChild(e),Vs(t)&&(this.documentElement=t)},importNode:function(t,e){return B3(this,t,e)},getElementById:function(t){var e=null;return _f(this.documentElement,function(n){if(n.nodeType==us&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=UA(t);return new Nc(this,function(n){var r=[];return e.length>0&&_f(n.documentElement,function(i){if(i!==n&&i.nodeType===us){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=UA(s);o=e.every(Dee(a))}o&&r.push(i)}}}),r})},createElement:function(t){var e=new Hl;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new xo;var n=e.attributes=new xg;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new ky;return t.ownerDocument=this,t.childNodes=new xo,t},createTextNode:function(t){var e=new Ax;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Ix;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new kx;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Px;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Eg;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Dx;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Hl,r=e.split(":"),i=n.attributes=new xg;return n.childNodes=new xo,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Eg,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};Kr(Wf,It);function Hl(){this._nsMap={}}Hl.prototype={nodeType:us,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ro?this.insertBefore(t,null):Bee(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Nc(this,function(e){var n=[];return _f(e,function(r){r!==e&&r.nodeType==us&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new Nc(this,function(n){var r=[];return _f(n,function(i){i!==n&&i.nodeType===us&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};Wf.prototype.getElementsByTagName=Hl.prototype.getElementsByTagName;Wf.prototype.getElementsByTagNameNS=Hl.prototype.getElementsByTagNameNS;Kr(Hl,It);function Eg(){}Eg.prototype.nodeType=Lc;Kr(Eg,It);function Gf(){}Gf.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(qn[Mr])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};Kr(Gf,It);function Ax(){}Ax.prototype={nodeName:"#text",nodeType:Tg,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Kr(Ax,Gf);function Ix(){}Ix.prototype={nodeName:"#comment",nodeType:E3};Kr(Ix,Gf);function kx(){}kx.prototype={nodeName:"#cdata-section",nodeType:T3};Kr(kx,Gf);function Iy(){}Iy.prototype.nodeType=C3;Kr(Iy,It);function L3(){}L3.prototype.nodeType=Ree;Kr(L3,It);function N3(){}N3.prototype.nodeType=Pee;Kr(N3,It);function Dx(){}Dx.prototype.nodeType=x3;Kr(Dx,It);function ky(){}ky.prototype.nodeName="#document-fragment";ky.prototype.nodeType=Ro;Kr(ky,It);function Px(){}Px.prototype.nodeType=S3;Kr(Px,It);function M3(){}M3.prototype.serializeToString=function(t,e,n){return F3.call(t,e,n)};It.prototype.toString=F3;function F3(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return Yu(this,n,t,e,o),n.join("")}function qA(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===vf.XML||i===vf.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===r)return o.namespace!==i}return!0}function g_(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,D3),'"')}function Yu(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case us:var s=t.attributes,o=s.length,E=t.firstChild,a=t.tagName;n=vf.isHTML(t.namespaceURI)||n;var l=a;if(!n&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var m=i[f];if(m.prefix===""&&m.namespace===t.namespaceURI){u=m.namespace;break}}if(u!==t.namespaceURI)for(var f=i.length-1;f>=0;f--){var m=i[f];if(m.namespace===t.namespaceURI){m.prefix&&(l=m.prefix+":"+a);break}}}e.push("<",l);for(var x=0;x<o;x++){var _=s.item(x);_.prefix=="xmlns"?i.push({prefix:_.localName,namespace:_.value}):_.nodeName=="xmlns"&&i.push({prefix:"",namespace:_.value})}for(var x=0;x<o;x++){var _=s.item(x);if(qA(_,n,i)){var g=_.prefix||"",k=_.namespaceURI;g_(e,g?"xmlns:"+g:"xmlns",k),i.push({prefix:g,namespace:k})}Yu(_,e,n,r,i)}if(a===l&&qA(t,n,i)){var g=t.prefix||"",k=t.namespaceURI;g_(e,g?"xmlns:"+g:"xmlns",k),i.push({prefix:g,namespace:k})}if(E||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),n&&/^script$/i.test(a))for(;E;)E.data?e.push(E.data):Yu(E,e,n,r,i.slice()),E=E.nextSibling;else for(;E;)Yu(E,e,n,r,i.slice()),E=E.nextSibling;e.push("</",l,">")}else e.push("/>");return;case w3:case Ro:for(var E=t.firstChild;E;)Yu(E,e,n,r,i.slice()),E=E.nextSibling;return;case Lc:return g_(e,t.name,t.value);case Tg:return e.push(t.data.replace(/[<&>]/g,D3));case T3:return e.push("<![CDATA[",t.data,"]]>");case E3:return e.push("<!--",t.data,"-->");case C3:var w=t.publicId,S=t.systemId;if(e.push("<!DOCTYPE ",t.name),w)e.push(" PUBLIC ",w),S&&S!="."&&e.push(" ",S),e.push(">");else if(S&&S!=".")e.push(" SYSTEM ",S,">");else{var O=t.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case S3:return e.push("<?",t.target," ",t.data,"?>");case x3:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function B3(t,e,n){var r;switch(e.nodeType){case us:r=e.cloneNode(!1),r.ownerDocument=t;case Ro:break;case Lc:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(B3(t,i,n)),i=i.nextSibling;return r}function lb(t,e,n){var r=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new xo),r.ownerDocument=t,r.nodeType){case us:var o=e.attributes,a=r.attributes=new xg,l=o.length;a._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(lb(t,o.item(u),!0));break;case Lc:n=!0}if(n)for(var c=e.firstChild;c;)r.appendChild(lb(t,c,n)),c=c.nextSibling;return r}function U3(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case us:case Ro:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};var Koe=t;Object.defineProperty(Nc.prototype,"length",{get:function(){return Ex(this),this.$$length}}),Object.defineProperty(It.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case us:case Ro:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),U3=function(e,n,r){e["$$"+n]=r}}}catch{}Ua.DocumentType=Iy;Ua.DOMException=Sn;Ua.DOMImplementation=k3;Ua.Element=Hl;Ua.Node=It;Ua.NodeList=xo;Ua.XMLSerializer=M3;var Dy={},j3={};(function(t){var e=jo.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(j3);var Rx={},bf=jo.NAMESPACE,ub=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,WA=new RegExp("[\\-\\.0-9"+ub.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),GA=new RegExp("^"+ub.source+WA.source+"*(?::"+ub.source+WA.source+"*)?$"),Qd=0,na=1,ku=2,Jd=3,Du=4,Pu=5,Zd=6,$p=7;function Mc(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Mc)}Mc.prototype=new Error;Mc.prototype.name=Mc.name;function $3(){}$3.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),z3(e,e={}),Uee(t,e,n,r,this.errorHandler),r.endDocument()}};function Uee(t,e,n,r,i){function s(ue){if(ue>65535){ue-=65536;var le=55296+(ue>>10),ee=56320+(ue&1023);return String.fromCharCode(le,ee)}else return String.fromCharCode(ue)}function o(ue){var le=ue.slice(1,-1);return Object.hasOwnProperty.call(n,le)?n[le]:le.charAt(0)==="#"?s(parseInt(le.substr(1).replace("x","0x"))):(i.error("entity not found:"+ue),ue)}function a(ue){if(ue>g){var le=t.substring(g,ue).replace(/&#?\w+;/g,o);m&&l(g),r.characters(le,0,ue-g),g=ue}}function l(ue,le){for(;ue>=c&&(le=f.exec(t));)u=le.index,c=u+le[0].length,m.lineNumber++;m.columnNumber=ue-u+1}for(var u=0,c=0,f=/.*(?:\r\n?|\n)|.*$/g,m=r.locator,x=[{currentNSMap:e}],_={},g=0;;){try{var k=t.indexOf("<",g);if(k<0){if(!t.substr(g).match(/^\s*$/)){var E=r.doc,w=E.createTextNode(t.substr(g));E.appendChild(w),r.currentElement=w}return}switch(k>g&&a(k),t.charAt(k+1)){case"/":var $=t.indexOf(">",k+3),S=t.substring(k+2,$).replace(/[ \t\n\r]+$/g,""),O=x.pop();$<0?(S=t.substring(k+2).replace(/[\s<].*/,""),i.error("end tag name: "+S+" is not complete:"+O.tagName),$=k+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),i.error("end tag name: "+S+" maybe not complete"),$=k+1+S.length);var L=O.localNSMap,R=O.tagName==S,D=R||O.tagName&&O.tagName.toLowerCase()==S.toLowerCase();if(D){if(r.endElement(O.uri,O.localName,S),L)for(var P in L)Object.prototype.hasOwnProperty.call(L,P)&&r.endPrefixMapping(P);R||i.fatalError("end tag name: "+S+" is not match the current start tagName:"+O.tagName)}else x.push(O);$++;break;case"?":m&&l(k),$=Vee(t,k,r);break;case"!":m&&l(k),$=Hee(t,k,r,i);break;default:m&&l(k);var M=new H3,B=x[x.length-1].currentNSMap,$=jee(t,k,M,B,o,i),V=M.length;if(!M.closed&&zee(t,$,M.tagName,_)&&(M.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),m&&V){for(var F=KA(m,{}),se=0;se<V;se++){var ce=M[se];l(ce.offset),ce.locator=KA(m,{})}r.locator=F,XA(M,r,B)&&x.push(M),r.locator=m}else XA(M,r,B)&&x.push(M);bf.isHTML(M.uri)&&!M.closed?$=$ee(t,$,M.tagName,o,r):$++}}catch(ue){if(ue instanceof Mc)throw ue;i.error("element parse error: "+ue),$=-1}$>g?g=$:a(Math.max(k,g)+1)}}function KA(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function jee(t,e,n,r,i,s){function o(m,x,_){n.attributeNames.hasOwnProperty(m)&&s.fatalError("Attribute "+m+" redefined"),n.addValue(m,x.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),_)}for(var a,l,u=++e,c=Qd;;){var f=t.charAt(u);switch(f){case"=":if(c===na)a=t.slice(e,u),c=Jd;else if(c===ku)c=Jd;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Jd||c===na)if(c===na&&(s.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u),o(a,l,e-1),c=Pu;else throw new Error("attribute value no end '"+f+"' match");else if(c==Du)l=t.slice(e,u),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+f+")!!"),e=u+1,c=Pu;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Qd:n.setTagName(t.slice(e,u));case Pu:case Zd:case $p:c=$p,n.closed=!0;case Du:case na:break;case ku:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==Qd&&n.setTagName(t.slice(e,u)),u;case">":switch(c){case Qd:n.setTagName(t.slice(e,u));case Pu:case Zd:case $p:break;case Du:case na:l=t.slice(e,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case ku:c===ku&&(l=a),c==Du?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!bf.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case Jd:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(c){case Qd:n.setTagName(t.slice(e,u)),c=Zd;break;case na:a=t.slice(e,u),c=ku;break;case Du:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case Pu:c=Zd;break}else switch(c){case ku:n.tagName,(!bf.isHTML(r[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=u,c=na;break;case Pu:s.warning('attribute space is required"'+a+'"!!');case Zd:c=na,e=u;break;case Jd:c=Du,e=u;break;case $p:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function XA(t,e,n){for(var r=t.tagName,i=null,f=t.length;f--;){var s=t[f],o=s.qName,a=s.value,m=o.indexOf(":");if(m>0)var l=s.prefix=o.slice(0,m),u=o.slice(m+1),c=l==="xmlns"&&u;else u=o,l=null,c=o==="xmlns"&&"";s.localName=u,c!==!1&&(i==null&&(i={},z3(n,n={})),n[c]=i[c]=a,s.uri=bf.XMLNS,e.startPrefixMapping(c,a))}for(var f=t.length;f--;){s=t[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=bf.XML),l!=="xmlns"&&(s.uri=n[l||""]))}var m=r.indexOf(":");m>0?(l=t.prefix=r.slice(0,m),u=t.localName=r.slice(m+1)):(l=null,u=t.localName=r);var x=t.uri=n[l||""];if(e.startElement(x,u,r,t),t.closed){if(e.endElement(x,u,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=i,!0}function $ee(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),s)}return e+1}function zee(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function z3(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Hee(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var o=qee(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var f=o[a-1];return n.startDTD(l,u,c),n.endDTD(),f.index+f[0].length}}return-1}function Vee(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function H3(){this.attributeNames={}}H3.prototype={setTagName:function(t){if(!GA.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!GA.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function qee(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}Rx.XMLReader=$3;Rx.ParseError=Mc;var Wee=jo,Gee=Ua,YA=j3,V3=Rx,Kee=Gee.DOMImplementation,QA=Wee.NAMESPACE,Xee=V3.ParseError,Yee=V3.XMLReader;function q3(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function W3(t){this.options=t||{locator:{}}}W3.prototype.parseFromString=function(t,e){var n=this.options,r=new Yee,i=n.domBuilder||new Kf,s=n.errorHandler,o=n.locator,a=n.xmlns||{},l=/\/x?html?$/.test(e),u=l?YA.HTML_ENTITIES:YA.XML_ENTITIES;o&&i.setDocumentLocator(o),r.errorHandler=Qee(s,i,o),r.domBuilder=n.domBuilder||i,l&&(a[""]=QA.HTML),a.xml=a.xml||QA.XML;var c=n.normalizeLineEndings||q3;return t&&typeof t=="string"?r.parse(c(t),a,u):r.errorHandler.error("invalid doc source"),i.doc};function Qee(t,e,n){if(!t){if(e instanceof Kf)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(o){var a=t[o];!a&&i&&(a=t.length==2?function(l){t(o,l)}:t),r[o]=a&&function(l){a("[xmldom "+o+"]	"+l+cb(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Kf(){this.cdata=!1}function Ru(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Kf.prototype={startDocument:function(){this.doc=new Kee().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),o=r.length;zp(this,s),this.currentElement=s,this.locator&&Ru(this.locator,s);for(var a=0;a<o;a++){var t=r.getURI(a),l=r.getValue(a),n=r.getQName(a),u=i.createAttributeNS(t,n);this.locator&&Ru(r.getLocator(a),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&Ru(this.locator,n),zp(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=JA.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&Ru(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=JA.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&Ru(this.locator,r),zp(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&Ru(this.locator,i),zp(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,cb(this.locator))},error:function(t){console.error("[xmldom error]	"+t,cb(this.locator))},fatalError:function(t){throw new Xee(t,this.locator)}};function cb(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function JA(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Kf.prototype[t]=function(){return null}});function zp(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Dy.__DOMHandler=Kf;Dy.normalizeLineEndings=q3;Dy.DOMParser=W3;var Jee=Dy.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const ZA=t=>!!t&&typeof t=="object",Hn=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):ZA(e[r])&&ZA(n[r])?e[r]=Hn(e[r],n[r]):e[r]=n[r]}),e),{}),G3=t=>Object.keys(t).map(e=>t[e]),Zee=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},Fc=t=>t.reduce((e,n)=>e.concat(n),[]),K3=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},ete=(t,e)=>t.reduce((n,r,i)=>(r[e]&&n.push(i),n),[]),tte=(t,e)=>G3(t.reduce((n,r)=>(r.forEach(i=>{n[e(i)]=i}),n),{}));var Bc={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Tf=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const i={uri:e,resolvedUri:Ay(t||"",e)};if(n||r){const o=(n||r).split("-");let a=q.BigInt?q.BigInt(o[0]):parseInt(o[0],10),l=q.BigInt?q.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=q.BigInt(l)-q.BigInt(a)+q.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),i.byterange={length:u,offset:a}}return i},nte=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=q.BigInt(t.offset)+q.BigInt(t.length)-q.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},eI=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),rte={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:i}=t,s=eI(t.endNumber),o=e/n;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/o}:{start:0,end:r/o}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:s,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,u=eI(t.endNumber),c=(e+n)/1e3,f=r+o,x=c+a-f,_=Math.ceil(x*i/s),g=Math.floor((c-f-l)*i/s),k=Math.floor((c-f)*i/s);return{start:Math.max(0,g),end:typeof u=="number"?u:Math.min(_,k)}}},ite=t=>e=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:n/r,timeline:i,time:e*n}},Ox=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:i,sourceDuration:s}=t,{start:o,end:a}=rte[e](t),l=Zee(o,a).map(ite(t));if(e==="static"){const u=l.length-1,c=typeof i=="number"?i:s;l[u].duration=c-n/r*u}return l},X3=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:s,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(Bc.NO_BASE_URL);const u=Tf({baseUrl:e,source:n.sourceURL,range:n.range}),c=Tf({baseUrl:e,source:e,indexRange:i});if(c.map=u,l){const f=Ox(t);f.length&&(c.duration=f[0].duration,c.timeline=f[0].timeline)}else r&&(c.duration=r,c.timeline=s);return c.presentationTime=o||s,c.number=a,[c]},Lx=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter(k=>k.referenceType!==1),c=[],f=t.endList?"static":"dynamic",m=t.sidx.timeline;let x=m,_=t.mediaSequence||0,g;typeof e.firstOffset=="bigint"?g=q.BigInt(a)+e.firstOffset:g=a+e.firstOffset;for(let k=0;k<u.length;k++){const E=e.references[k],w=E.referencedSize,S=E.subsegmentDuration;let O;typeof g=="bigint"?O=g+q.BigInt(w)-q.BigInt(1):O=g+w-1;const L=`${g}-${O}`,D=X3({baseUrl:n,timescale:l,timeline:s,periodStart:m,presentationTime:x,number:_,duration:S,sourceDuration:i,indexRange:L,type:f})[0];r&&(D.map=r),c.push(D),typeof g=="bigint"?g+=q.BigInt(w):g+=w,x+=S/l,_++}return t.segments=c,t},ste=["AUDIO","SUBTITLES"],ote=1/60,Y3=t=>tte(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),ate=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},tI=t=>{let e=[];return xee(t,ste,(n,r,i,s)=>{e=e.concat(n.playlists||[])}),e},nI=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},lte=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:l}){return l===r.timeline});const i=ate(t,r.attributes.NAME);if(!i||r.sidx)return;const s=r.segments[0],o=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<ote});if(o===-1){nI({playlist:r,mediaSequence:i.mediaSequence+i.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!i.segments.length&&r.timeline>i.timeline||i.segments.length&&r.timeline>i.segments[i.segments.length-1].timeline)&&r.discontinuitySequence--;return}i.segments[o].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),nI({playlist:r,mediaSequence:i.segments[o].number})})},ute=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(tI(t)),r=e.playlists.concat(tI(e));return e.timelineStarts=Y3([t.timelineStarts,e.timelineStarts]),lte({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},Py=t=>t&&t.uri+"-"+nte(t.byterange),y_=t=>{const e=t.reduce(function(r,i){return r[i.attributes.baseUrl]||(r[i.attributes.baseUrl]=[]),r[i.attributes.baseUrl].push(i),r},{});let n=[];return Object.values(e).forEach(r=>{const i=G3(r.reduce((s,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return s[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),s[a].segments.push(...o.segments)),o.attributes.contentProtection&&(s[a].attributes.contentProtection=o.attributes.contentProtection)):(s[a]=o,s[a].attributes.timelineStarts=[]),s[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),s},{}));n=n.concat(i)}),n.map(r=>(r.discontinuityStarts=ete(r.segments||[],"discontinuity"),r))},Nx=(t,e)=>{const n=Py(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&Lx(t,r,t.sidx.resolvedUri),t},cte=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=Nx(t[n],e);return t},dte=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:s},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),n&&(a.sidx=n),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},hte=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const o={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},fte=(t,e={},n=!1)=>{let r;const i=t.reduce((s,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const f=a?` (${a})`:"";u=`${o.attributes.lang}${f}`}s[u]||(s[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const c=Nx(dte(o,n),e);return s[u].playlists.push(c),typeof r>"u"&&a==="main"&&(r=o,r.default=!0),s},{});if(!r){const s=Object.keys(i)[0];i[s].default=!0}return i},pte=(t,e={})=>t.reduce((n,r)=>{const i=r.attributes.label||r.attributes.lang||"text";return n[i]||(n[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),n[i].playlists.push(Nx(hte(r),e)),n},{}),mte=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:i,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),gte=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),n&&(i.sidx=n),i},yte=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",vte=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",_te=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",bte=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,i)=>{r.number=i})})},rI=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],Tte=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=y_(t.filter(yte)).map(gte),f=y_(t.filter(vte)),m=y_(t.filter(_te)),x=t.map(O=>O.attributes.captionServices).filter(Boolean),_={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:cte(c,r)};u>=0&&(_.minimumUpdatePeriod=u*1e3),e&&(_.locations=e),n&&(_.contentSteering=n),a==="dynamic"&&(_.suggestedPresentationDelay=l),s&&s.length>0&&(_.eventStream=s);const g=_.playlists.length===0,k=f.length?fte(f,r,g):null,E=m.length?pte(m,r):null,w=c.concat(rI(k),rI(E)),S=w.map(({timelineStarts:O})=>O);return _.timelineStarts=Y3(S),bte(w,_.timelineStarts),k&&(_.mediaGroups.AUDIO.audio=k),E&&(_.mediaGroups.SUBTITLES.subs=E),x.length&&(_.mediaGroups["CLOSED-CAPTIONS"].cc=mte(x)),i?ute({oldManifest:i,newManifest:_}):_},xte=(t,e,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:s,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,u=(r+i)/1e3,c=s+a,m=u+l-c;return Math.ceil((m*o-e)/n)},Q3=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:s,timescale:o=1,startNumber:a=1,periodStart:l}=t,u=[];let c=-1;for(let f=0;f<e.length;f++){const m=e[f],x=m.d,_=m.r||0,g=m.t||0;c<0&&(c=g),g&&g>c&&(c=g);let k;if(_<0){const S=f+1;S===e.length?n==="dynamic"&&r>0&&i.indexOf("$Number$")>0?k=xte(t,c,x):k=(s*o-c)/x:k=(e[S].t-c)/x}else k=_+1;const E=a+u.length+k;let w=a+u.length;for(;w<E;)u.push({number:w,duration:x/o,time:c,timeline:l}),c+=x,w++}return u},Ste=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ete=t=>(e,n,r,i)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(r?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},iI=(t,e)=>t.replace(Ste,Ete(e)),wte=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?Ox(t):Q3(t,e),Cte=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,i=Tf({baseUrl:t.baseUrl,source:iI(r.sourceURL,n),range:r.range});return wte(t,e).map(o=>{n.Number=o.number,n.Time=o.time;const a=iI(t.media||"",n),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(o.time-u)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:Ay(t.baseUrl||"",a),map:i,number:o.number,presentationTime:c}})},Ate=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,i=Tf({baseUrl:n,source:r.sourceURL,range:r.range}),s=Tf({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=i,s},Ite=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=t;if(!n&&!e||n&&e)throw new Error(Bc.SEGMENT_TIME_UNSPECIFIED);const s=r.map(l=>Ate(t,l));let o;return n&&(o=Ox(t)),e&&(o=Q3(t,e)),o.map((l,u)=>{if(s[u]){const c=s[u],f=t.timescale||1,m=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=i+(l.time-m)/f,c}}).filter(l=>l)},kte=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=Cte,n=Hn(t,e.template)):e.base?(r=X3,n=Hn(t,e.base)):e.list&&(r=Ite,n=Hn(t,e.list));const i={attributes:t};if(!r)return i;const s=r(n,e.segmentTimeline);if(n.duration){const{duration:o,timescale:a=1}=n;n.duration=o/a}else s.length?n.duration=s.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):n.duration=0;return i.attributes=n,i.segments=s,e.base&&n.indexRange&&(i.sidx=s[0],i.segments=[]),i},Dte=t=>t.map(kte),Gt=(t,e)=>K3(t.childNodes).filter(({tagName:n})=>n===e),Xf=t=>t.textContent.trim(),Pte=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),Ou=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,u,c,f,m,x]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(f||0)*3600+parseFloat(m||0)*60+parseFloat(x||0)},Rte=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),sI={mediaPresentationDuration(t){return Ou(t)},availabilityStartTime(t){return Rte(t)/1e3},minimumUpdatePeriod(t){return Ou(t)},suggestedPresentationDelay(t){return Ou(t)},type(t){return t},timeShiftBufferDepth(t){return Ou(t)},start(t){return Ou(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return Pte(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Ou(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},kn=t=>t&&t.attributes?K3(t.attributes).reduce((e,n)=>{const r=sI[n.name]||sI.DEFAULT;return e[n.name]=r(n.value),e},{}):{},Ote={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Ry=(t,e)=>e.length?Fc(t.map(function(n){return e.map(function(r){const i=Xf(r),s=Ay(n.baseUrl,i),o=Hn(kn(r),{baseUrl:s});return s!==i&&!o.serviceLocation&&n.serviceLocation&&(o.serviceLocation=n.serviceLocation),o})})):t,Mx=t=>{const e=Gt(t,"SegmentTemplate")[0],n=Gt(t,"SegmentList")[0],r=n&&Gt(n,"SegmentURL").map(f=>Hn({tag:"SegmentURL"},kn(f))),i=Gt(t,"SegmentBase")[0],s=n||e,o=s&&Gt(s,"SegmentTimeline")[0],a=n||i||e,l=a&&Gt(a,"Initialization")[0],u=e&&kn(e);u&&l?u.initialization=l&&kn(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:o&&Gt(o,"S").map(f=>kn(f)),list:n&&Hn(kn(n),{segmentUrls:r,initialization:kn(l)}),base:i&&Hn(kn(i),{initialization:kn(l)})};return Object.keys(c).forEach(f=>{c[f]||delete c[f]}),c},Lte=(t,e,n)=>r=>{const i=Gt(r,"BaseURL"),s=Ry(e,i),o=Hn(t,kn(r)),a=Mx(r);return s.map(l=>({segmentInfo:Hn(n,a),attributes:Hn(o,l)}))},Nte=t=>t.reduce((e,n)=>{const r=kn(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const i=Ote[r.schemeIdUri];if(i){e[i]={attributes:r};const s=Gt(n,"cenc:pssh")[0];if(s){const o=Xf(s);e[i].pssh=o&&Eee(o)}}return e},{}),Mte=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let r,i;return i=n,/^CC\d=/.test(n)?[r,i]=n.split("="):/^CC\d$/.test(n)&&(r=n),{channel:r,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[i,s=""]=n.split("=");r.channel=i,r.language=n,s.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?r.language=l:a==="er"?r.easyReader=Number(l):a==="war"?r.aspectRatio=Number(l):a==="3D"&&(r["3D"]=Number(l))})}else r.language=n;return r.channel&&(r.channel="SERVICE"+r.channel),r})},Fte=t=>Fc(Gt(t.node,"EventStream").map(e=>{const n=kn(e),r=n.schemeIdUri;return Gt(e,"Event").map(i=>{const s=kn(i),o=s.presentationTime||0,a=n.timescale||1,l=s.duration||0,u=o/a+t.attributes.start;return{schemeIdUri:r,value:n.value,id:s.id,start:u,end:u+l/a,messageData:Xf(i)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),Bte=(t,e,n)=>r=>{const i=kn(r),s=Ry(e,Gt(r,"BaseURL")),o=Gt(r,"Role")[0],a={role:kn(o)};let l=Hn(t,i,a);const u=Gt(r,"Accessibility")[0],c=Mte(kn(u));c&&(l=Hn(l,{captionServices:c}));const f=Gt(r,"Label")[0];if(f&&f.childNodes.length){const k=f.childNodes[0].nodeValue.trim();l=Hn(l,{label:k})}const m=Nte(Gt(r,"ContentProtection"));Object.keys(m).length&&(l=Hn(l,{contentProtection:m}));const x=Mx(r),_=Gt(r,"Representation"),g=Hn(n,x);return Fc(_.map(Lte(l,s,g)))},Ute=(t,e)=>(n,r)=>{const i=Ry(e,Gt(n.node,"BaseURL")),s=Hn(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const o=Gt(n.node,"AdaptationSet"),a=Mx(n.node);return Fc(o.map(Bte(s,i,a)))},jte=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Hn({serverURL:Xf(t[0])},kn(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},$te=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,zte=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,o=Gt(t,"Period");if(!o.length)throw new Error(Bc.INVALID_NUMBER_OF_PERIOD);const a=Gt(t,"Location"),l=kn(t),u=Ry([{baseUrl:n}],Gt(t,"BaseURL")),c=Gt(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=i,a.length&&(l.locations=a.map(Xf));const f=[];return o.forEach((m,x)=>{const _=kn(m),g=f[x-1];_.start=$te({attributes:_,priorPeriodAttributes:g?g.attributes:null,mpdType:l.type}),f.push({node:m,attributes:_})}),{locations:l.locations,contentSteeringInfo:jte(c,s),representationInfo:Fc(f.map(Ute(l,u))),eventStream:Fc(f.map(Fte))}},J3=t=>{if(t==="")throw new Error(Bc.DASH_EMPTY_MANIFEST);const e=new Jee;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Bc.DASH_INVALID_XML);return r},Hte=t=>{const e=Gt(t,"UTCTiming")[0];if(!e)return null;const n=kn(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Bc.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},Vte=(t,e={})=>{const n=zte(J3(t),e),r=Dte(n.representationInfo);return Tte({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},qte=t=>Hte(J3(t));var Z3=Math.pow(2,32),Wte=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*Z3+e.getUint32(4)},Gte={getUint64:Wte,MAX_UINT32:Z3},oI=Gte.getUint64,Kte=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=e.getUint32(r),n.firstOffset=e.getUint32(r+4),r+=8):(n.earliestPresentationTime=oI(t.subarray(r)),n.firstOffset=oI(t.subarray(r+8)),r+=16),r+=2;var i=e.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return n},Xte=Kte;const Yte=No(Xte);var Qte=Re([73,68,51]),Jte=function(e,n){n===void 0&&(n=0),e=Re(e);var r=e[n+5],i=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(r&16)>>4;return s?i+20:i+10},mh=function t(e,n){return n===void 0&&(n=0),e=Re(e),e.length-n<10||!Wt(e,Qte,{offset:n})?n:(n+=Jte(e,n),t(e,n))},aI=function(e){return typeof e=="string"?y3(e):e},Zte=function(e){return Array.isArray(e)?e.map(function(n){return aI(n)}):[aI(e)]},ene=function t(e,n,r){r===void 0&&(r=!1),n=Zte(n),e=Re(e);var i=[];if(!n.length)return i;for(var s=0;s<e.length;){var o=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,a=e.subarray(s+4,s+8);if(o===0)break;var l=s+o;if(l>e.length){if(r)break;l=e.length}var u=e.subarray(s+8,l);Wt(a,n[0])&&(n.length===1?i.push(u):i.push.apply(i,t(u,n.slice(1),r))),s=l}return i},Hp={EBML:Re([26,69,223,163]),DocType:Re([66,130]),Segment:Re([24,83,128,103]),SegmentInfo:Re([21,73,169,102]),Tracks:Re([22,84,174,107]),Track:Re([174]),TrackNumber:Re([215]),DefaultDuration:Re([35,227,131]),TrackEntry:Re([174]),TrackType:Re([131]),FlagDefault:Re([136]),CodecID:Re([134]),CodecPrivate:Re([99,162]),VideoTrack:Re([224]),AudioTrack:Re([225]),Cluster:Re([31,67,182,117]),Timestamp:Re([231]),TimestampScale:Re([42,215,177]),BlockGroup:Re([160]),BlockDuration:Re([155]),Block:Re([161]),SimpleBlock:Re([163])},db=[128,64,32,16,8,4,2,1],tne=function(e){for(var n=1,r=0;r<db.length&&!(e&db[r]);r++)n++;return n},wg=function(e,n,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var s=tne(e[n]),o=e.subarray(n,n+s);return r&&(o=Array.prototype.slice.call(e,n,n+s),o[0]^=db[s-1]),{length:s,value:_ee(o,{signed:i}),bytes:o}},lI=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?bee(e):e},nne=function(e){return Array.isArray(e)?e.map(function(n){return lI(n)}):[lI(e)]},rne=function t(e,n,r){if(r>=n.length)return n.length;var i=wg(n,r,!1);if(Wt(e.bytes,i.bytes))return r;var s=wg(n,r+i.length);return t(e,n,r+s.length+s.value+i.length)},uI=function t(e,n){n=nne(n),e=Re(e);var r=[];if(!n.length)return r;for(var i=0;i<e.length;){var s=wg(e,i,!1),o=wg(e,i+s.length),a=i+s.length+o.length;o.value===127&&(o.value=rne(s,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,u=e.subarray(a,l);Wt(n[0],s.bytes)&&(n.length===1?r.push(u):r=r.concat(t(u,n.slice(1))));var c=s.length+o.length+u.length;i+=c}return r},ine=Re([0,0,0,1]),sne=Re([0,0,1]),one=Re([0,0,3]),ane=function(e){for(var n=[],r=1;r<e.length-2;)Wt(e.subarray(r,r+3),one)&&(n.push(r+2),r++),r++;if(n.length===0)return e;var i=e.length-n.length,s=new Uint8Array(i),o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),s[r]=e[o];return s},e5=function(e,n,r,i){e=Re(e),r=[].concat(r);for(var s=0,o,a=0;s<e.length&&(a<i||o);){var l=void 0;if(Wt(e.subarray(s),ine)?l=4:Wt(e.subarray(s),sne)&&(l=3),!l){s++;continue}if(a++,o)return ane(e.subarray(o,s));var u=void 0;n==="h264"?u=e[s+l]&31:n==="h265"&&(u=e[s+l]>>1&63),r.indexOf(u)!==-1&&(o=s+l),s+=l+(n==="h264"?1:2)}return e.subarray(0,0)},lne=function(e,n,r){return e5(e,"h264",n,r)},une=function(e,n,r){return e5(e,"h265",n,r)},Tr={webm:Re([119,101,98,109]),matroska:Re([109,97,116,114,111,115,107,97]),flac:Re([102,76,97,67]),ogg:Re([79,103,103,83]),ac3:Re([11,119]),riff:Re([82,73,70,70]),avi:Re([65,86,73]),wav:Re([87,65,86,69]),"3gp":Re([102,116,121,112,51,103]),mp4:Re([102,116,121,112]),fmp4:Re([115,116,121,112]),mov:Re([102,116,121,112,113,116]),moov:Re([109,111,111,118]),moof:Re([109,111,111,102])},Uc={aac:function(e){var n=mh(e);return Wt(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=mh(e);return Wt(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=uI(e,[Hp.EBML,Hp.DocType])[0];return Wt(n,Tr.webm)},mkv:function(e){var n=uI(e,[Hp.EBML,Hp.DocType])[0];return Wt(n,Tr.matroska)},mp4:function(e){if(Uc["3gp"](e)||Uc.mov(e))return!1;if(Wt(e,Tr.mp4,{offset:4})||Wt(e,Tr.fmp4,{offset:4})||Wt(e,Tr.moof,{offset:4})||Wt(e,Tr.moov,{offset:4}))return!0},mov:function(e){return Wt(e,Tr.mov,{offset:4})},"3gp":function(e){return Wt(e,Tr["3gp"],{offset:4})},ac3:function(e){var n=mh(e);return Wt(e,Tr.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=mh(e);return Wt(e,Tr.flac,{offset:n})},ogg:function(e){return Wt(e,Tr.ogg)},avi:function(e){return Wt(e,Tr.riff)&&Wt(e,Tr.avi,{offset:8})},wav:function(e){return Wt(e,Tr.riff)&&Wt(e,Tr.wav,{offset:8})},h264:function(e){return lne(e,7,3).length},h265:function(e){return une(e,[32,33],3).length}},hb=Object.keys(Uc).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);hb.forEach(function(t){var e=Uc[t];Uc[t]=function(n){return e(Re(n))}});var cne=Uc,Fx=function(e){e=Re(e);for(var n=0;n<hb.length;n++){var r=hb[n];if(cne[r](e))return r}return""},dne=function(e){return ene(e,["moof"]).length>0},Bx=9e4,Ux,jx,Oy,$x,t5,n5,r5;Ux=function(t){return t*Bx};jx=function(t,e){return t*e};Oy=function(t){return t/Bx};$x=function(t,e){return t/e};t5=function(t,e){return Ux($x(t,e))};n5=function(t,e){return jx(Oy(t),e)};r5=function(t,e,n){return Oy(n?t:t-e)};var bl={ONE_SECOND_IN_TS:Bx,secondsToVideoTs:Ux,secondsToAudioTs:jx,videoTsToSeconds:Oy,audioTsToSeconds:$x,audioTsToVideoTs:t5,videoTsToAudioTs:n5,metadataTsToSeconds:r5};/**
 * @license
 * Video.js 8.17.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var fb="8.17.4";const co={},Pa=function(t,e){return co[t]=co[t]||[],e&&(co[t]=co[t].concat(e)),co[t]},hne=function(t,e){Pa(t,e)},i5=function(t,e){const n=Pa(t).indexOf(e);return n<=-1?!1:(co[t]=co[t].slice(),co[t].splice(n,1),!0)},fne=function(t,e){Pa(t,[].concat(e).map(n=>{const r=(...i)=>(i5(t,r),n(...i));return r}))},Cg={prefixed:!0},Tm=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],cI=Tm[0];let gh;for(let t=0;t<Tm.length;t++)if(Tm[t][1]in pe){gh=Tm[t];break}if(gh){for(let t=0;t<gh.length;t++)Cg[cI[t]]=gh[t];Cg.prefixed=gh[0]!==cI[0]}let Lr=[];const pne=(t,e,n)=>(r,i,s)=>{const o=e.levels[i],a=new RegExp(`^(${o})$`);let l=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),n&&(l=`%c${t}`,s.unshift(n)),s.unshift(l+":"),Lr){Lr.push([].concat(s));const c=Lr.length-1e3;Lr.splice(0,c>0?c:0)}if(!q.console)return;let u=q.console[r];!u&&r==="debug"&&(u=q.console.info||q.console.log),!(!u||!o||!a.test(r))&&u[Array.isArray(s)?"apply":"call"](q.console,s)};function pb(t,e=":",n=""){let r="info",i;function s(...o){i("log",r,o)}return i=pne(t,s,n),s.createLogger=(o,a,l)=>{const u=a!==void 0?a:e,c=l!==void 0?l:n,f=`${t} ${u} ${o}`;return pb(f,u,c)},s.createNewLogger=(o,a,l)=>pb(o,a,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=o=>{if(typeof o=="string"){if(!s.levels.hasOwnProperty(o))throw new Error(`"${o}" in not a valid log level`);r=o}return r},s.history=()=>Lr?[].concat(Lr):[],s.history.filter=o=>(Lr||[]).filter(a=>new RegExp(`.*${o}.*`).test(a[0])),s.history.clear=()=>{Lr&&(Lr.length=0)},s.history.disable=()=>{Lr!==null&&(Lr.length=0,Lr=null)},s.history.enable=()=>{Lr===null&&(Lr=[])},s.error=(...o)=>i("error",r,o),s.warn=(...o)=>i("warn",r,o),s.debug=(...o)=>i("debug",r,o),s}const ct=pb("VIDEOJS"),s5=ct.createLogger,mne=Object.prototype.toString,o5=function(t){return Ws(t)?Object.keys(t):[]};function fc(t,e){o5(t).forEach(n=>e(t[n],n))}function a5(t,e,n=0){return o5(t).reduce((r,i)=>e(r,t[i],i),n)}function Ws(t){return!!t&&typeof t=="object"}function jc(t){return Ws(t)&&mne.call(t)==="[object Object]"&&t.constructor===Object}function Nt(...t){const e={};return t.forEach(n=>{n&&fc(n,(r,i)=>{if(!jc(r)){e[i]=r;return}jc(e[i])||(e[i]={}),e[i]=Nt(e[i],r)})}),e}function l5(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function Ly(t,e,n,r=!0){const i=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const o=n();return i(o),o}};return r&&(s.set=i),Object.defineProperty(t,e,s)}var gne=Object.freeze({__proto__:null,each:fc,reduce:a5,isObject:Ws,isPlain:jc,merge:Nt,values:l5,defineLazyProperty:Ly});let zx=!1,u5=null,Gs=!1,c5,d5=!1,pc=!1,mc=!1,Ks=!1,Hx=null,Ny=null;const yne=!!(q.cast&&q.cast.framework&&q.cast.framework.CastReceiverContext);let h5=null,Ag=!1,My=!1,Ig=!1,Fy=!1,kg=!1,Dg=!1,Pg=!1;const xf=!!(ud()&&("ontouchstart"in q||q.navigator.maxTouchPoints||q.DocumentTouch&&q.document instanceof q.DocumentTouch)),ra=q.navigator&&q.navigator.userAgentData;ra&&ra.platform&&ra.brands&&(Gs=ra.platform==="Android",pc=!!ra.brands.find(t=>t.brand==="Microsoft Edge"),mc=!!ra.brands.find(t=>t.brand==="Chromium"),Ks=!pc&&mc,Hx=Ny=(ra.brands.find(t=>t.brand==="Chromium")||{}).version||null,My=ra.platform==="Windows");if(!mc){const t=q.navigator&&q.navigator.userAgent||"";zx=/iPod/i.test(t),u5=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Gs=/Android/i.test(t),c5=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),d5=/Firefox/i.test(t),pc=/Edg/i.test(t),mc=/Chrome/i.test(t)||/CriOS/i.test(t),Ks=!pc&&mc,Hx=Ny=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),h5=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),kg=/Tizen/i.test(t),Dg=/Web0S/i.test(t),Pg=kg||Dg,Ag=/Safari/i.test(t)&&!Ks&&!Gs&&!pc&&!Pg,My=/Windows/i.test(t),Ig=/iPad/i.test(t)||Ag&&xf&&!/iPhone/i.test(t),Fy=/iPhone/i.test(t)&&!Ig}const Ir=Fy||Ig||zx,By=(Ag||Ir)&&!Ks;var f5=Object.freeze({__proto__:null,get IS_IPOD(){return zx},get IOS_VERSION(){return u5},get IS_ANDROID(){return Gs},get ANDROID_VERSION(){return c5},get IS_FIREFOX(){return d5},get IS_EDGE(){return pc},get IS_CHROMIUM(){return mc},get IS_CHROME(){return Ks},get CHROMIUM_VERSION(){return Hx},get CHROME_VERSION(){return Ny},IS_CHROMECAST_RECEIVER:yne,get IE_VERSION(){return h5},get IS_SAFARI(){return Ag},get IS_WINDOWS(){return My},get IS_IPAD(){return Ig},get IS_IPHONE(){return Fy},get IS_TIZEN(){return kg},get IS_WEBOS(){return Dg},get IS_SMART_TV(){return Pg},TOUCH_ENABLED:xf,IS_IOS:Ir,IS_ANY_SAFARI:By});function dI(t){return typeof t=="string"&&!!t.trim()}function vne(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ud(){return pe===q.document}function cd(t){return Ws(t)&&t.nodeType===1}function p5(){try{return q.parent!==q.self}catch{return!0}}function m5(t){return function(e,n){if(!dI(e))return pe[t](null);dI(n)&&(n=pe.querySelector(n));const r=cd(n)?n:pe;return r[t]&&r[t](e)}}function Me(t="div",e={},n={},r){const i=pe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const o=e[s];s==="textContent"?ja(i,o):(i[s]!==o||s==="tabIndex")&&(i[s]=o)}),Object.getOwnPropertyNames(n).forEach(function(s){i.setAttribute(s,n[s])}),r&&Vx(i,r),i}function ja(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function mb(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Lh(t,e){return vne(e),t.classList.contains(e)}function Cl(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function Uy(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(ct.warn("removeClass was called with an element that doesn't exist"),null)}function g5(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function y5(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function la(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let i=r.length-1;i>=0;i--){const s=r[i].name;let o=r[i].value;n.includes(s)&&(o=o!==null),e[s]=o}}return e}function v5(t,e){return t.getAttribute(e)}function $c(t,e,n){t.setAttribute(e,n)}function jy(t,e){t.removeAttribute(e)}function _5(){pe.body.focus(),pe.onselectstart=function(){return!1}}function b5(){pe.onselectstart=function(){return!0}}function zc(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(Hc(t,"height"))),n.width||(n.width=parseFloat(Hc(t,"width"))),n}}function Sf(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,i=0;for(;t.offsetParent&&t!==pe[Cg.fullscreenElement];)r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:r,top:i,width:e,height:n}}function $y(t,e){const n={x:0,y:0};if(Ir){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const f=Hc(c,"transform");if(/^matrix/.test(f)){const m=f.slice(7,-1).split(/,\s/).map(Number);n.x+=m[4],n.y+=m[5]}else if(/^matrix3d/.test(f)){const m=f.slice(9,-1).split(/,\s/).map(Number);n.x+=m[12],n.y+=m[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&q.WebKitCSSMatrix){const m=q.getComputedStyle(c.assignedSlot.parentElement).transform,x=new q.WebKitCSSMatrix(m);n.x+=x.m41,n.y+=x.m42}c=c.parentNode||c.host}}const r={},i=Sf(e.target),s=Sf(t),o=s.width,a=s.height;let l=e.offsetY-(s.top-i.top),u=e.offsetX-(s.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Ir&&(u-=n.x,l-=n.y)),r.y=1-Math.max(0,Math.min(1,l/a)),r.x=Math.max(0,Math.min(1,u/o)),r}function T5(t){return Ws(t)&&t.nodeType===3}function zy(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function x5(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),cd(e)||T5(e))return e;if(typeof e=="string"&&/\S/.test(e))return pe.createTextNode(e)}).filter(e=>e)}function Vx(t,e){return x5(e).forEach(n=>t.appendChild(n)),t}function S5(t,e){return Vx(zy(t),e)}function Ef(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Ra=m5("querySelector"),E5=m5("querySelectorAll");function Hc(t,e){if(!t||!e)return"";if(typeof q.getComputedStyle=="function"){let n;try{n=q.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function w5(t){[...pe.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(i=>i.cssText).join(""),r=pe.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const r=pe.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var C5=Object.freeze({__proto__:null,isReal:ud,isEl:cd,isInFrame:p5,createEl:Me,textContent:ja,prependTo:mb,hasClass:Lh,addClass:Cl,removeClass:Uy,toggleClass:g5,setAttributes:y5,getAttributes:la,getAttribute:v5,setAttribute:$c,removeAttribute:jy,blockTextSelection:_5,unblockTextSelection:b5,getBoundingClientRect:zc,findPosition:Sf,getPointerPosition:$y,isTextNode:T5,emptyEl:zy,normalizeContent:x5,appendContent:Vx,insertContent:S5,isSingleLeftClick:Ef,$:Ra,$$:E5,computedStyle:Hc,copyStyleSheetsToWindow:w5});let A5=!1,gb;const _ne=function(){if(gb.options.autoSetup===!1)return;const t=Array.prototype.slice.call(pe.getElementsByTagName("video")),e=Array.prototype.slice.call(pe.getElementsByTagName("audio")),n=Array.prototype.slice.call(pe.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let i=0,s=r.length;i<s;i++){const o=r[i];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&gb(o);else{yb(1);break}}else A5||yb(1)};function yb(t,e){ud()&&(e&&(gb=e),q.setTimeout(_ne,t))}function vb(){A5=!0,q.removeEventListener("load",vb)}ud()&&(pe.readyState==="complete"?vb():q.addEventListener("load",vb));const I5=function(t){const e=pe.createElement("style");return e.className=t,e},k5=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Cr=new WeakMap;const bne=3;let Tne=bne;function ji(){return Tne++}function hI(t,e){if(!Cr.has(t))return;const n=Cr.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Cr.delete(t)}function qx(t,e,n,r){n.forEach(function(i){t(e,i,r)})}function Hy(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||q.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in r)i.includes(s)||s==="returnValue"&&r.preventDefault||(t[s]=r[s]);if(t.target||(t.target=t.srcElement||pe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const s=pe.documentElement,o=pe.body;t.pageX=t.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Vp;const xne=function(){if(typeof Vp!="boolean"){Vp=!1;try{const t=Object.defineProperty({},"passive",{get(){Vp=!0}});q.addEventListener("test",null,t),q.removeEventListener("test",null,t)}catch{}}return Vp},Sne=["touchstart","touchmove"];function gi(t,e,n){if(Array.isArray(e))return qx(gi,t,e,n);Cr.has(t)||Cr.set(t,{});const r=Cr.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=ji()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(i,s){if(r.disabled)return;i=Hy(i);const o=r.handlers[i.type];if(o){const a=o.slice(0);for(let l=0,u=a.length;l<u&&!i.isImmediatePropagationStopped();l++)try{a[l].call(t,i,s)}catch(c){ct.error(c)}}}),r.handlers[e].length===1)if(t.addEventListener){let i=!1;xne()&&Sne.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function dr(t,e,n){if(!Cr.has(t))return;const r=Cr.get(t);if(!r.handlers)return;if(Array.isArray(e))return qx(dr,t,e,n);const i=function(o,a){r.handlers[a]=[],hI(o,a)};if(e===void 0){for(const o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&i(t,o);return}const s=r.handlers[e];if(s){if(!n){i(t,e);return}if(n.guid)for(let o=0;o<s.length;o++)s[o].guid===n.guid&&s.splice(o--,1);hI(t,e)}}function dd(t,e,n){const r=Cr.has(t)?Cr.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Hy(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&e.bubbles===!0)dd.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Cr.has(e.target)||Cr.set(e.target,{});const s=Cr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Vy(t,e,n){if(Array.isArray(e))return qx(Vy,t,e,n);const r=function(){dr(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||ji(),gi(t,e,r)}function Wx(t,e,n){const r=function(){dr(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||ji(),gi(t,e,r)}var Ene=Object.freeze({__proto__:null,fixEvent:Hy,on:gi,off:dr,trigger:dd,one:Vy,any:Wx});const $i=30,jt=function(t,e,n){e.guid||(e.guid=ji());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},Xs=function(t,e){let n=q.performance.now();return function(...i){const s=q.performance.now();s-n>=e&&(t(...i),n=s)}},D5=function(t,e,n,r=q){let i;const s=()=>{r.clearTimeout(i),i=null},o=function(){const a=this,l=arguments;let u=function(){i=null,u=null,n||t.apply(a,l)};!i&&n&&t.apply(a,l),r.clearTimeout(i),i=r.setTimeout(u,e)};return o.cancel=s,o};var wne=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:$i,bind_:jt,throttle:Xs,debounce:D5});let eh;class yi{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},gi(this,e,n),this.addEventListener=r}off(e,n){dr(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},Vy(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},Wx(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=Hy(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),dd(this,e)}queueTrigger(e){eh||(eh=new Map);const n=e.type||e;let r=eh.get(this);r||(r=new Map,eh.set(this,r));const i=r.get(n);r.delete(n),q.clearTimeout(i);const s=q.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,eh.delete(this)),this.trigger(e)},0);r.set(n,s)}}yi.prototype.allowedEvents_={};yi.prototype.addEventListener=yi.prototype.on;yi.prototype.removeEventListener=yi.prototype.off;yi.prototype.dispatchEvent=yi.prototype.trigger;const qy=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,So=t=>t instanceof yi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),Cne=(t,e)=>{So(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},_b=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Rg=(t,e,n)=>{if(!t||!t.nodeName&&!So(t))throw new Error(`Invalid target for ${qy(e)}#${n}; must be a DOM node or evented object.`)},P5=(t,e,n)=>{if(!_b(t))throw new Error(`Invalid event type for ${qy(e)}#${n}; must be a non-empty string or array.`)},R5=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${qy(e)}#${n}; must be a function.`)},v_=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,o;return r?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,o]=e):(i=e[0],s=e[1],o=e[2]),Rg(i,t,n),P5(s,t,n),R5(o,t,n),o=jt(t,o),{isTargetingSelf:r,target:i,type:s,listener:o}},nl=(t,e,n,r)=>{Rg(t,t,e),t.nodeName?Ene[e](t,n,r):t[e](n,r)},Ane={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=v_(this,t,"on");if(nl(n,"on",r,i),!e){const s=()=>this.off(n,r,i);s.guid=i.guid;const o=()=>this.off("dispose",s);o.guid=i.guid,nl(this,"on","dispose",s),nl(n,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=v_(this,t,"one");if(e)nl(n,"one",r,i);else{const s=(...o)=>{this.off(n,r,s),i.apply(null,o)};s.guid=i.guid,nl(n,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=v_(this,t,"any");if(e)nl(n,"any",r,i);else{const s=(...o)=>{this.off(n,r,s),i.apply(null,o)};s.guid=i.guid,nl(n,"any",r,s)}},off(t,e,n){if(!t||_b(t))dr(this.eventBusEl_,t,e);else{const r=t,i=e;Rg(r,this,"off"),P5(i,this,"off"),R5(n,this,"off"),n=jt(this,n),this.off("dispose",n),r.nodeName?(dr(r,i,n),dr(r,"dispose",n)):So(r)&&(r.off(i,n),r.off("dispose",n))}},trigger(t,e){Rg(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!_b(n))throw new Error(`Invalid event type for ${qy(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return dd(this.eventBusEl_,t,e)}};function Gx(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=Me("span",{className:"vjs-event-bus"});return Object.assign(t,Ane),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Cr.has(r)&&Cr.delete(r)}),q.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const Ine={state:{},setState(t){typeof t=="function"&&(t=t());let e;return fc(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&So(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function O5(t,e){return Object.assign(t,Ine),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&So(t)&&t.on("statechanged",t.handleStateChanged),t}const Nh=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},pn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},L5=function(t,e){return pn(t)===pn(e)};var kne=Object.freeze({__proto__:null,toLowerCase:Nh,toTitleCase:pn,titleCaseEquals:L5});class ie{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Nt({},this.options_),n=this.options_=Nt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${ji()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),n.evented!==!1&&(Gx(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),O5(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Nt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return Me(e,n,r)}localize(e,n,r=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),o=s&&s[i],a=i&&i.split("-")[0],l=s&&s[a];let u=r;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),n&&(u=u.replace(/\{(\d+)\}/g,function(c,f){const m=n[f-1];let x=m;return typeof m>"u"&&(x=c),x})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,i)=>r.concat(i),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",i=Me("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=pe.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const o=pe.createElementNS(r,"use");return s.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?n.replaceChild(i,n.querySelector(".vjs-icon-placeholder")):n.appendChild(i),this.iconIsSet_=!0,i}addChild(e,n={},r=this.children_.length){let i,s;if(typeof e=="string"){s=pn(e);const o=n.componentClass||s;n.name=s;const a=ie.getComponent(o);if(!a)throw new Error(`Component ${o} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,n)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&pn(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[Nh(s)]=i),typeof i.el=="function"&&i.el()){let o=null;this.children_[r+1]&&(this.children_[r+1].el_?o=this.children_[r+1].el_:cd(this.children_[r+1])&&(o=this.children_[r+1])),this.contentEl().insertBefore(i.el(),o)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[pn(e.name())]=null,this.childNameIndex_[Nh(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=o=>{const a=o.name;let l=o.opts;if(n[a]!==void 0&&(l=n[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let i;const s=ie.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(o){return!i.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=ie.getComponent(o.opts.componentClass||pn(o.name));return a&&!s.isTech(a)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Ra(e,n||this.contentEl())}$$(e,n){return E5(e,n||this.contentEl())}hasClass(e){return Lh(this.el_,e)}addClass(...e){Cl(this.el_,...e)}removeClass(...e){Uy(this.el_,...e)}toggleClass(e,n){g5(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return v5(this.el_,e)}setAttribute(e,n){$c(this.el_,e,n)}removeAttribute(e){jy(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+pn(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Hc(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${pn(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,i=200;let s;this.on("touchstart",function(a){a.touches.length===1&&(n={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=q.performance.now(),s=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)s=!1;else if(n){const l=a.touches[0].pageX-n.pageX,u=a.touches[0].pageY-n.pageY;Math.sqrt(l*l+u*u)>r&&(s=!1)}});const o=function(){s=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){n=null,s===!0&&q.performance.now()-e<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=jt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(i){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=jt(this,e),this.clearTimersOnDispose_(),r=q.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),q.clearTimeout(e)),e}setInterval(e,n){e=jt(this,e),this.clearTimersOnDispose_();const r=q.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),q.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=jt(this,e),n=q.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=jt(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),q.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,i)=>this[n](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(s){const o=q.getComputedStyle(s,null),a=o.getPropertyValue("visibility");return o.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function r(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||q.getComputedStyle(s).height==="0px"||q.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const o={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(o.x<0||o.x>(pe.documentElement.clientWidth||q.innerWidth)||o.y<0||o.y>(pe.documentElement.clientHeight||q.innerHeight))return!1;let a=pe.elementFromPoint(o.x,o.y);for(;a;){if(a===s)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=ie.getComponent("Tech"),i=r&&r.isTech(n),s=ie===n||ie.prototype.isPrototypeOf(n.prototype);if(i||!s){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=pn(e),ie.components_||(ie.components_={});const o=ie.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(u=>a[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return ie.components_[e]=n,ie.components_[Nh(e)]=n,n}static getComponent(e){if(!(!e||!ie.components_))return ie.components_[e]}}ie.registerComponent("Component",ie);function Dne(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function fI(t,e,n,r){return Dne(t,r,n.length-1),n[r][e]}function __(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:fI.bind(null,"start",0,t),end:fI.bind(null,"end",1,t)},q.Symbol&&q.Symbol.iterator&&(e[q.Symbol.iterator]=()=>(t||[]).values()),e}function cs(t,e){return Array.isArray(t)?__(t):t===void 0||e===void 0?__():__([[t,e]])}const N5=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),i=i>0||o>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n};let Kx=N5;function M5(t){Kx=t}function F5(){Kx=N5}function Vl(t,e=t){return Kx(t,e)}var Pne=Object.freeze({__proto__:null,createTimeRanges:cs,createTimeRange:cs,setFormatTime:M5,resetFormatTime:F5,formatTime:Vl});function B5(t,e){let n=0,r,i;if(!e)return 0;(!t||!t.length)&&(t=cs(0,0));for(let s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e}function an(t){if(t instanceof an)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Ws(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=an.defaultMessages[this.code]||"")}an.prototype.code=0;an.prototype.message="";an.prototype.status=null;an.prototype.metadata=null;an.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];an.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};an.MEDIA_ERR_CUSTOM=0;an.prototype.MEDIA_ERR_CUSTOM=0;an.MEDIA_ERR_ABORTED=1;an.prototype.MEDIA_ERR_ABORTED=1;an.MEDIA_ERR_NETWORK=2;an.prototype.MEDIA_ERR_NETWORK=2;an.MEDIA_ERR_DECODE=3;an.prototype.MEDIA_ERR_DECODE=3;an.MEDIA_ERR_SRC_NOT_SUPPORTED=4;an.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;an.MEDIA_ERR_ENCRYPTED=5;an.prototype.MEDIA_ERR_ENCRYPTED=5;function Mh(t){return t!=null&&typeof t.then=="function"}function Ns(t){Mh(t)&&t.then(null,e=>{})}const bb=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,r,i)=>(t[r]&&(n[r]=t[r]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},Rne=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=bb(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return n.indexOf(i)===-1}).map(bb))},One=function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(i=>r.addCue(i))}),e.textTracks()};var pI={textTracksToJson:Rne,jsonToTextTracks:One,trackToJson_:bb};const b_="vjs-modal-dialog";class hd extends ie{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Me("div",{className:`${b_}-content`},{role:"document"}),this.descEl_=Me("p",{className:`${b_}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ja(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${b_} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,i=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),S5(n,e),this.trigger("modalfill"),i?r.insertBefore(n,i):r.appendChild(n);const s=this.getChild("closeButton");s&&r.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),zy(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=pe.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let i;for(let s=0;s<n.length;s++)if(r===n[s]){i=s;break}pe.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof q.HTMLAnchorElement||n instanceof q.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof q.HTMLInputElement||n instanceof q.HTMLSelectElement||n instanceof q.HTMLTextAreaElement||n instanceof q.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof q.HTMLIFrameElement||n instanceof q.HTMLObjectElement||n instanceof q.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}hd.prototype.options_={pauseOnOpen:!0,temporary:!0};ie.registerComponent("ModalDialog",hd);class Vc extends yi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},So(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}Vc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Vc.prototype.allowedEvents_)Vc.prototype["on"+t]=null;const T_=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class Lne extends Vc{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){T_(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&T_(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,T_(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const x_=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class Nne extends Vc{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){x_(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&x_(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,x_(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class U5 extends Vc{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Mne{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Og{constructor(e){Og.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(n<i)for(r=n;r<i;r++)s.call(this,r)}getCueById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}const Fne={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Bne={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Une={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},mI={disabled:"disabled",hidden:"hidden",showing:"showing"};class Xx extends yi{constructor(e={}){super();const n={id:e.id||"vjs_track_"+ji(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const i in n)Object.defineProperty(this,i,{get(){return n[i]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(i){i!==r&&(r=i,this.trigger("labelchange"))}})}}const Yx=function(t){return new URL(t,pe.baseURI)},j5=function(t){return new URL(t,pe.baseURI).href},Qx=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},Wy=function(t,e=q.location){return Yx(t).origin!==e.origin};var jne=Object.freeze({__proto__:null,parseUrl:Yx,getAbsoluteURL:j5,getFileExtension:Qx,isCrossOrigin:Wy});const gI=function(t,e){const n=new q.WebVTT.Parser(q,q.vttjs,q.WebVTT.StringDecoder()),r=[];n.oncue=function(i){e.addCue(i)},n.onparsingerror=function(i){r.push(i)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(q.console&&q.console.groupCollapsed&&q.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(i=>ct.error(i)),q.console&&q.console.groupEnd&&q.console.groupEnd()),n.flush()},yI=function(t,e){const n={uri:t},r=Wy(t);r&&(n.cors=r);const i=e.tech_.crossOrigin()==="use-credentials";i&&(n.withCredentials=i),l3(n,jt(this,function(s,o,a){if(s)return ct.error(s,o);e.loaded_=!0,typeof q.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){ct.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return gI(a,e)}):gI(a,e)}))};class Yf extends Xx{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Nt(e,{kind:Une[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=mI[n.mode]||"disabled";const i=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Og(this.cues_),o=new Og(this.activeCues_);let a=!1;this.timeupdateHandler=jt(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return r},set(u){mI[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&yI(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),c=[];for(let f=0,m=this.cues.length;f<m;f++){const x=this.cues[f];x.startTime<=u&&x.endTime>=u&&c.push(x)}if(a=!1,c.length!==this.activeCues_.length)a=!0;else for(let f=0;f<c.length;f++)this.activeCues_.indexOf(c[f])===-1&&(a=!0);return this.activeCues_=c,o.setCues_(this.activeCues_),o},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&yI(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new q.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}Yf.prototype.allowedEvents_={cuechange:"cuechange"};class $5 extends Xx{constructor(e={}){const n=Nt(e,{kind:Bne[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class z5 extends Xx{constructor(e={}){const n=Nt(e,{kind:Fne[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class Lo extends yi{constructor(e={}){super();let n;const r=new Yf(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=Lo.NONE,r.addEventListener("loadeddata",()=>{n=Lo.LOADED,this.trigger({type:"load",target:this})})}}Lo.prototype.allowedEvents_={load:"load"};Lo.NONE=0;Lo.LOADING=1;Lo.LOADED=2;Lo.ERROR=3;const Ni={audio:{ListClass:Lne,TrackClass:$5,capitalName:"Audio"},video:{ListClass:Nne,TrackClass:z5,capitalName:"Video"},text:{ListClass:U5,TrackClass:Yf,capitalName:"Text"}};Object.keys(Ni).forEach(function(t){Ni[t].getterName=`${t}Tracks`,Ni[t].privateName=`${t}Tracks_`});const qc={remoteText:{ListClass:U5,TrackClass:Yf,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Mne,TrackClass:Lo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Er=Object.assign({},Ni,qc);qc.names=Object.keys(qc);Ni.names=Object.keys(Ni);Er.names=[].concat(qc.names).concat(Ni.names);function $ne(t,e,n,r,i={}){const s=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;const o=new Er.text.TrackClass(i);return s.addTrack(o),o}class Ke extends ie{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Er.names.forEach(r=>{const i=Er[r];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Er.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(jt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return cs(0,0)}bufferedPercent(){return B5(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Ni.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let i=r.length;for(;i--;){const s=r[i];n==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new an(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?cs(0,0):cs()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Ni.names.forEach(e=>{const n=Ni[e],r=()=>{this.trigger(`${e}trackchange`)},i=this[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),this.on("dispose",()=>{i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!q.WebVTT)if(pe.body.contains(this.el())){if(!this.options_["vtt.js"]&&jc(OA)&&Object.keys(OA).length>0){this.trigger("vttjsloaded");return}const e=pe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),q.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=a=>e.addTrack(a.track),i=a=>e.removeTrack(a.track);n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),o=()=>{s();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",s)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return $ne(this,e,n,r)}createRemoteTextTrack(e){const n=Nt(e,{tech:this});return new qc.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=ji();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return Ke.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Ke||e instanceof Ke||e===Ke}static registerTech(e,n){if(Ke.techs_||(Ke.techs_={}),!Ke.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!Ke.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ke.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=pn(e),Ke.techs_[e]=n,Ke.techs_[Nh(e)]=n,e!=="Tech"&&Ke.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(Ke.techs_&&Ke.techs_[e])return Ke.techs_[e];if(e=pn(e),q&&q.videojs&&q.videojs[e])return ct.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),q.videojs[e]}}}Er.names.forEach(function(t){const e=Er[t];Ke.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ke.prototype.featuresVolumeControl=!0;Ke.prototype.featuresMuteControl=!0;Ke.prototype.featuresFullscreenResize=!1;Ke.prototype.featuresPlaybackRate=!1;Ke.prototype.featuresProgressEvents=!1;Ke.prototype.featuresSourceset=!1;Ke.prototype.featuresTimeupdateEvents=!1;Ke.prototype.featuresNativeTextTracks=!1;Ke.prototype.featuresVideoFrameCallback=!1;Ke.withSourceHandlers=function(t){t.registerSourceHandler=function(n,r){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),r===void 0&&(r=i.length),i.splice(r,0,n)},t.canPlayType=function(n){const r=t.sourceHandlers||[];let i;for(let s=0;s<r.length;s++)if(i=r[s].canPlayType(n),i)return i;return""},t.selectSourceHandler=function(n,r){const i=t.sourceHandlers||[];let s;for(let o=0;o<i.length;o++)if(s=i[o].canHandleSource(n,r),s)return i[o];return null},t.canPlaySource=function(n,r){const i=t.selectSourceHandler(n,r);return i?i.canHandleSource(n,r):""},["seekable","seeking","duration"].forEach(function(n){const r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let r=t.selectSourceHandler(n,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:ct.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ie.registerComponent("Tech",Ke);Ke.registerTech("Tech",Ke);Ke.defaultTechOrder_=[];const Al={},Lg={},Ng={};function zne(t,e){Al[t]=Al[t]||[],Al[t].push(e)}function Hne(t,e,n){t.setTimeout(()=>ll(e,Al[e.type],n,t),1)}function Vne(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function qne(t,e,n){return t.reduceRight(Jx(n),e[n]())}function Wne(t,e,n,r){return e[n](t.reduce(Jx(n),r))}function vI(t,e,n,r=null){const i="call"+pn(n),s=t.reduce(Jx(i),r),o=s===Ng,a=o?null:e[n](s);return Xne(t,n,a,o),a}const Gne={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Kne={setCurrentTime:1,setMuted:1,setVolume:1},_I={play:1,pause:1};function Jx(t){return(e,n)=>e===Ng?Ng:n[t]?n[t](e):e}function Xne(t,e,n,r){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](r,n)}}function Yne(t){Lg.hasOwnProperty(t.id())&&delete Lg[t.id()]}function Qne(t,e){const n=Lg[t.id()];let r=null;if(n==null)return r=e(t),Lg[t.id()]=[[e,r]],r;for(let i=0;i<n.length;i++){const[s,o]=n[i];s===e&&(r=o)}return r===null&&(r=e(t),n.push([e,r])),r}function ll(t={},e=[],n,r,i=[],s=!1){const[o,...a]=e;if(typeof o=="string")ll(t,Al[o],n,r,i,s);else if(o){const l=Qne(r,o);if(!l.setSource)return i.push(l),ll(t,a,n,r,i,s);l.setSource(Object.assign({},t),function(u,c){if(u)return ll(t,a,n,r,i,s);i.push(l),ll(c,t.type===c.type?a:Al[c.type],n,r,i,s)})}else a.length?ll(t,a,n,r,i,s):s?n(t,i):ll(t,Al["*"],n,r,i,!0)}const Jne={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Mg=function(t=""){const e=Qx(t);return Jne[e.toLowerCase()]||""},Zne=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(i=>i.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let i=0;i<r.length;i++){const s=r[i];if(s.type&&s.src&&s.src===e)return s.type}return Mg(e)},H5=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=H5(n),Array.isArray(n)?e=e.concat(n):Ws(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[bI({src:t})]:Ws(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[bI(t)]:t=[];return t};function bI(t){if(!t.type){const e=Mg(t.src);e&&(t.type=e)}return t}var ere=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const TI=kg?10009:Dg?461:8,Lu={codes:{play:415,pause:19,ff:417,rw:412,back:TI},names:{415:"play",19:"pause",417:"ff",412:"rw",[TI]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},xI=5;class tre extends yi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(Lu.isEventKey(n,"play")||Lu.isEventKey(n,"pause")||Lu.isEventKey(n,"ff")||Lu.isEventKey(n,"rw")){n.preventDefault();const r=Lu.getEventName(n);this.performMediaAction_(r)}else Lu.isEventKey(n,"Back")&&e.target&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+xI);break;case"rw":this.userSeek_(this.player_.currentTime()-xI);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let r=null;const i=this.getCurrentComponent(e.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!n)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function r(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&r(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){n.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?r(i.children_):i.hasOwnProperty("items")&&i.items.length>0?r(i.items):this.findSuitableDOMChild(i)&&n.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((a,l)=>{n.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{const u=a.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},f={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:f}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let i=0;i<r.children.length;i++){const s=r.children[i],o=n(s);if(o)return o}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),i=this.focusableComponents.filter(o=>o!==n&&this.isInDirection_(r.boundingClientRect,o.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(r.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,r){let i=1/0,s=null;for(const o of n){const a=o.getPositions().center,l=this.calculateDistance_(e,a,r);l<i&&(i=l,s=o)}return s}isInDirection_(e,n,r){switch(r){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,r){const i=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);let o;switch(r){case"right":case"left":o=i+s*100;break;case"up":o=s*2+i*.5;break;case"down":o=s*5+i;break;default:o=i+s}return o}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class nre extends ie{constructor(e,n,r){const i=Nt({createEl:!1},n);if(super(e,i,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,o=n.playerOptions.techOrder;s<o.length;s++){const a=pn(o[s]);let l=Ke.getTech(a);if(a||(l=ie.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(n.playerOptions.sources)}}ie.registerComponent("MediaLoader",nre);class Gy extends ie{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&ct.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const i=Me(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Me("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,ja(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ie.registerComponent("ClickableComponent",Gy);class Tb extends Gy{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Me("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Me("picture",{className:"vjs-poster",tabIndex:-1},{},Me("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ns(this.player_.play()):this.player_.pause())}}Tb.prototype.crossorigin=Tb.prototype.crossOrigin;ie.registerComponent("PosterImage",Tb);const Si="#222",SI="#ccc",rre={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function S_(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function As(t,e,n){try{t.style[e]=n}catch{return}}function EI(t){return t?`${t}px`:""}class ire extends ie{constructor(e,n,r){super(e,n,r);const i=o=>this.updateDisplay(o),s=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",i),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(jt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const o=q.screen.orientation||q,a=q.screen.orientation?"change":"orientationchange";o.addEventListener(a,s),e.on("dispose",()=>o.removeEventListener(a,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let i,s,o;for(let a=0;a<n.length;a++){const l=n[a];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?o=l:o||(o=l):r&&!r.enabled?(o=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}o?o.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof q.WebVTT=="function"&&q.WebVTT.processCues(q,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let r=null,i=null,s=e.length;for(;s--;){const o=e[s];o.mode==="showing"&&(o.kind==="descriptions"?r=o:i=o)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!q.CSS.supports("inset","10px")){const o=this.el_,a=o.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;o.style="",As(o,"position","relative"),As(o,"height",u-l+"px"),As(o,"top","unset"),Pg?As(o,"bottom",u+"px"):As(o,"bottom","0px"),a.length>0&&a.forEach(c=>{if(c.style.inset){const f=c.style.inset.split(" ");f.length===3&&Object.assign(c.style,{top:f[0],right:f[1],bottom:f[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!q.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,o=0;Math.abs(r-i)>.1&&(r>i?s=Math.round((e-n*i)/2):o=Math.round((n-e/i)/2)),As(this.el_,"insetInline",EI(s)),As(this.el_,"insetBlock",EI(o))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let i=r.length;for(;i--;){const s=r[i];if(!s)continue;const o=s.displayState;if(n.color&&(o.firstChild.style.color=n.color),n.textOpacity&&As(o.firstChild,"color",S_(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(o.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&As(o.firstChild,"backgroundColor",S_(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?As(o,"backgroundColor",S_(n.windowColor,n.windowOpacity)):o.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?o.firstChild.style.textShadow=`2px 2px 3px ${Si}, 2px 2px 4px ${Si}, 2px 2px 5px ${Si}`:n.edgeStyle==="raised"?o.firstChild.style.textShadow=`1px 1px ${Si}, 2px 2px ${Si}, 3px 3px ${Si}`:n.edgeStyle==="depressed"?o.firstChild.style.textShadow=`1px 1px ${SI}, 0 1px ${SI}, -1px -1px ${Si}, 0 -1px ${Si}`:n.edgeStyle==="uniform"&&(o.firstChild.style.textShadow=`0 0 4px ${Si}, 0 0 4px ${Si}, 0 0 4px ${Si}, 0 0 4px ${Si}`)),n.fontPercent&&n.fontPercent!==1){const a=q.parseFloat(o.style.fontSize);o.style.fontSize=a*n.fontPercent+"px",o.style.height="auto",o.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=rre[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof q.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s)n.push(i.activeCues[s])}q.WebVTT.processCues(q,n,this.el_);for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s){const o=i.activeCues[s].displayState;Cl(o,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:r)),i.language&&$c(o,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}ie.registerComponent("TextTrackDisplay",ire);class sre extends ie{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=Me("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}ie.registerComponent("LoadingSpinner",sre);class hr extends Gy{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const i=Me(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,n={}){const r=this.constructor.name;return ct.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),ie.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}ie.registerComponent("Button",hr);class V5 extends hr{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ns(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();Mh(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}V5.prototype.controlText_="Play Video";ie.registerComponent("BigPlayButton",V5);class ore extends hr{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ie.registerComponent("CloseButton",ore);class q5 extends hr{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ns(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}q5.prototype.controlText_="Play";ie.registerComponent("PlayToggle",q5);class fd extends ie{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=Me("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(r),this.contentEl_=Me("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Vl(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,ct.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=pe.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}fd.prototype.labelText_="Time";fd.prototype.controlText_="Time";ie.registerComponent("TimeDisplay",fd);class Zx extends fd{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}Zx.prototype.labelText_="Current Time";Zx.prototype.controlText_="Current Time";ie.registerComponent("CurrentTimeDisplay",Zx);class eS extends fd{constructor(e,n){super(e,n);const r=i=>this.updateContent(i);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}eS.prototype.labelText_="Duration";eS.prototype.controlText_="Duration";ie.registerComponent("DurationDisplay",eS);class are extends ie{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}ie.registerComponent("TimeDivider",are);class tS extends fd{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Me("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}tS.prototype.labelText_="Remaining Time";tS.prototype.controlText_="Remaining Time";ie.registerComponent("RemainingTimeDisplay",tS);class lre extends ie{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Me("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Me("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(pe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}ie.registerComponent("LiveDisplay",lre);class W5 extends hr{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Me("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}W5.prototype.controlText_="Seek to live, currently playing live";ie.registerComponent("SeekToLive",W5);function Qf(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var ure=Object.freeze({__proto__:null,clamp:Qf});class nS extends ie{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Ks&&e.preventDefault(),_5(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;b5(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Qf(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=$y(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,i=n&&n.horizontalSeek;r?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}ie.registerComponent("Slider",nS);const E_=(t,e)=>Qf(t/e*100,0,100).toFixed(2)+"%";class cre extends ie{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=Me("span",{className:"vjs-control-text"}),r=Me("span",{textContent:this.localize("Loaded")}),i=pe.createTextNode(": ");return this.percentageEl_=Me("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),i=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),o=this.partEls_,a=E_(s,i);this.percent_!==a&&(this.el_.style.width=a,ja(this.percentageEl_,a),this.percent_=a);for(let l=0;l<r.length;l++){const u=r.start(l),c=r.end(l);let f=o[l];f||(f=this.el_.appendChild(Me()),o[l]=f),!(f.dataset.start===u&&f.dataset.end===c)&&(f.dataset.start=u,f.dataset.end=c,f.style.left=E_(u,s),f.style.width=E_(c-u,s))}for(let l=o.length;l>r.length;l--)this.el_.removeChild(o[l-1]);o.length=r.length})}}ie.registerComponent("LoadProgressBar",cre);class dre extends ie{constructor(e,n){super(e,n),this.update=Xs(jt(this,this.update),$i)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const i=Sf(this.el_),s=zc(this.player_.el()),o=e.width*n;if(!s||!i)return;let a=e.left-s.left+o,l=e.width-o+(s.right-e.right);l||(l=e.width-o,a=o);let u=i.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(e){ja(this.el_,e)}updateTime(e,n,r,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-n*a;s=(l<1?"":"-")+Vl(l,a)}else s=Vl(r,o);this.update(e,n,s),i&&i()})}}ie.registerComponent("TimeTooltip",dre);class rS extends ie{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Xs(jt(this,this.update),$i)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const r=this.getChild("timeTooltip");if(!r)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,n,i)}}rS.prototype.options_={children:[]};!Ir&&!Gs&&rS.prototype.options_.children.push("timeTooltip");ie.registerComponent("PlayProgressBar",rS);class G5 extends ie{constructor(e,n){super(e,n),this.update=Xs(jt(this,this.update),$i)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}G5.prototype.options_={children:["timeTooltip"]};ie.registerComponent("MouseTimeDisplay",G5);const qp=5,wI=12;class iS extends nS{constructor(e,n){super(e,n),this.setEventHandlers_()}setEventHandlers_(){this.update_=jt(this,this.update),this.update=Xs(this.update_,$i),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in pe&&"visibilityState"in pe&&this.on(pe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){pe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,$i))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(pe.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Vl(r,s),Vl(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(zc(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Ef(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Ef(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=i*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(i>=.99){s.seekToLiveEdge();return}const o=s.seekableStart(),a=s.liveCurrentTime();if(r=o+i*s.liveWindow(),r>=a&&(r=a),r<=o&&(r=o+.1),r===1/0)return}this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ns(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+qp)}stepBack(){this.userSeek_(this.player_.currentTime()-qp)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-qp*wI)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+qp*wI)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in pe&&"visibilityState"in pe&&this.off(pe,"visibilitychange",this.toggleVisibility_),super.dispose()}}iS.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Ir&&!Gs&&iS.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ie.registerComponent("SeekBar",iS);class K5 extends ie{constructor(e,n){super(e,n),this.handleMouseMove=Xs(jt(this,this.handleMouseMove),$i),this.throttledHandleMouseSeek=Xs(jt(this,this.handleMouseSeek),$i),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay");if(!r&&!i)return;const s=n.el(),o=Sf(s);let a=$y(s,e).x;a=Qf(a,0,1),i&&i.update(o,a),r&&r.update(o,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ns(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}K5.prototype.options_={children:["seekBar"]};ie.registerComponent("ProgressControl",K5);class X5 extends hr{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){pe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in q?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof pe.exitPictureInPicture=="function"&&super.show()}}X5.prototype.controlText_="Picture-in-Picture";ie.registerComponent("PictureInPictureToggle",X5);class Y5 extends hr{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),pe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Y5.prototype.controlText_="Fullscreen";ie.registerComponent("FullscreenToggle",Y5);const hre=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class fre extends ie{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}ie.registerComponent("VolumeLevel",fre);class pre extends ie{constructor(e,n){super(e,n),this.update=Xs(jt(this,this.update),$i)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,i){if(!r){const s=zc(this.el_),o=zc(this.player_.el()),a=e.width*n;if(!o||!s)return;const l=e.left-o.left+a,u=e.width-a+(o.right-e.right);let c=s.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right=`-${c}px`}this.write(`${i}%`)}write(e){ja(this.el_,e)}updateVolume(e,n,r,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,i.toFixed(0)),s&&s()})}}ie.registerComponent("VolumeLevelTooltip",pre);class Q5 extends ie{constructor(e,n){super(e,n),this.update=Xs(jt(this,this.update),$i)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const i=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,i,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}Q5.prototype.options_={children:["volumeLevelTooltip"]};ie.registerComponent("MouseVolumeLevelDisplay",Q5);class Ky extends nS{constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Ef(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),i=zc(r),s=this.vertical();let o=$y(r,e);o=s?o.y:o.x,o=Qf(o,0,1),n.update(i,o,s)}Ef(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Ky.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Ir&&!Gs&&Ky.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Ky.prototype.playerEvent="volumechange";ie.registerComponent("VolumeBar",Ky);class J5 extends ie{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||jc(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),hre(this,e),this.throttledHandleMouseMove=Xs(jt(this,this.handleMouseMove),$i),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}J5.prototype.options_={children:["volumeBar"]};ie.registerComponent("VolumeControl",J5);const mre=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Z5 extends hr{constructor(e,n){super(e,n),mre(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Ir&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),Uy(this.el_,[0,1,2,3].reduce((r,i)=>r+`${i?" ":""}vjs-vol-${i}`,"")),Cl(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}Z5.prototype.controlText_="Mute";ie.registerComponent("MuteToggle",Z5);class eL extends ie{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||jc(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),gi(pe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),dr(pe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}eL.prototype.options_={children:["muteToggle","volumeControl"]};ie.registerComponent("VolumePanel",eL);class tL extends hr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;n+this.skipTime<=i?s=n+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}tL.prototype.controlText_="Skip Forward";ie.registerComponent("SkipForward",tL);class nL extends hr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()&&r.seekableStart();let s;i&&n-this.skipTime<=i?s=i:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}nL.prototype.controlText_="Skip Backward";ie.registerComponent("SkipBackward",nL);class rL extends ie{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof ie&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof ie&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Me(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),gi(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||pe.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(i=>i.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}ie.registerComponent("Menu",rL);class sS extends ie{constructor(e,n={}){super(e,n),this.menuButton_=new hr(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=hr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),gi(pe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new rL(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=Me("li",{className:"vjs-menu-title",textContent:pn(this.options_.title),tabIndex:-1}),r=new ie(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=hr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),dr(pe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ir&&p5())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}ie.registerComponent("MenuButton",sS);class oS extends sS{constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const i=jt(this,this.update);r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),r.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i),r.removeEventListener("labelchange",i)})}}ie.registerComponent("TrackButton",oS);class Jf extends Gy{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),s=Me("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}ie.registerComponent("MenuItem",Jf);class Zf extends Jf{constructor(e,n){const r=n.track,i=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",o)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof q.Event!="object")try{a=new q.Event("change")}catch{}a||(a=pe.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let i=0;i<r.length;i++){const s=r[i];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}ie.registerComponent("TextTrackMenuItem",Zf);class iL extends Zf{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const o=n[i];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const o=n[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}ie.registerComponent("OffTextTrackMenuItem",iL);class pd extends oS{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=Zf){let r;this.label_&&(r=`${this.label_} off`),e.push(new iL(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const o=i[s];if(this.kinds_.indexOf(o.kind)>-1){const a=new n(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${o.kind}-menu-item`),e.push(a)}}return e}}ie.registerComponent("TextTrackButton",pd);class sL extends Jf{constructor(e,n){const r=n.track,i=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=s&&s<i.endTime,super(e,n),this.track=r,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}ie.registerComponent("ChaptersTrackMenuItem",sL);class aS extends pd{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(pn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,i=n.length;r<i;r++){const s=n[r],o=new sL(this.player_,{track:this.track_,cue:s});e.push(o)}return e}}aS.prototype.kind_="chapters";aS.prototype.controlText_="Chapters";ie.registerComponent("ChaptersButton",aS);class lS extends pd{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const i=e.textTracks(),s=jt(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let i=0,s=n.length;i<s;i++){const o=n[i];if(o.kind!==this.kind_&&o.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}lS.prototype.kind_="descriptions";lS.prototype.controlText_="Descriptions";ie.registerComponent("DescriptionsButton",lS);class uS extends pd{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}uS.prototype.kind_="subtitles";uS.prototype.controlText_="Subtitles";ie.registerComponent("SubtitlesButton",uS);class cS extends Zf{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}ie.registerComponent("CaptionSettingsMenuItem",cS);class dS extends pd{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new cS(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}dS.prototype.kind_="captions";dS.prototype.controlText_="Captions";ie.registerComponent("CaptionsButton",dS);class oL extends Zf{createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Me("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}ie.registerComponent("SubsCapsMenuItem",oL);class hS extends pd{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(pn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new cS(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,oL),e}}hS.prototype.kinds_=["captions","subtitles"];hS.prototype.controlText_="Subtitles";ie.registerComponent("SubsCapsButton",hS);class aL extends Jf{constructor(e,n){const r=n.track,i=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...o)=>{this.handleTracksChange.apply(this,o)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Me("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}ie.registerComponent("AudioTrackMenuItem",aL);class lL extends oS{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];e.push(new aL(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}lL.prototype.controlText_="Audio Track";ie.registerComponent("AudioTrackButton",lL);class fS extends Jf{constructor(e,n){const r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=i===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}fS.prototype.contentElType="button";ie.registerComponent("PlaybackRateMenuItem",fS);class uL extends sS{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Me("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new fS(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}uL.prototype.controlText_="Playback Rate";ie.registerComponent("PlaybackRateMenuButton",uL);class cL extends ie{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}ie.registerComponent("Spacer",cL);class gre extends cL{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}ie.registerComponent("CustomControlSpacer",gre);class dL extends ie{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}dL.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};ie.registerComponent("ControlBar",dL);class hL extends hd{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}hL.prototype.options_=Object.assign({},hd.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ie.registerComponent("ErrorDisplay",hL);class fL extends ie{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Me("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${ji()}`)+"-"+n[1].replace(/\W+/g,""),i=Me("option",{id:r,value:this.localize(n[0]),textContent:n[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),i}))}}ie.registerComponent("TextTrackSelect",fL);class Il extends ie{constructor(e,n={}){super(e,n);const r=Me("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const i=this.options_.selects;for(const s of i){const o=this.options_.selectConfigs[s],a=o.className,l=o.id.replace("%s",this.options_.id_);let u=null;const c=`vjs_select_${ji()}`;if(this.options_.type==="colors"){u=Me("span",{className:a});const m=Me("label",{id:l,className:"vjs-label",textContent:o.label});m.setAttribute("for",c),u.appendChild(m)}const f=new fL(e,{SelectOptions:o.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(f),this.options_.type==="colors"&&(u.appendChild(f.el()),this.el().appendChild(u))}}createEl(){return Me("fieldset",{className:this.options_.className})}}ie.registerComponent("TextTrackFieldset",Il);class pL extends ie{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new Il(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new Il(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const o=new Il(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o)}createEl(){return Me("div",{className:"vjs-track-settings-colors"})}}ie.registerComponent("TextTrackSettingsColors",pL);class mL extends ie{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new Il(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new Il(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const o=new Il(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o)}createEl(){return Me("div",{className:"vjs-track-settings-font"})}}ie.registerComponent("TextTrackSettingsFont",mL);class gL extends ie{constructor(e,n={}){super(e,n);const r=this.localize("restore all settings to the default values"),i=new hr(e,{controlText:r,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new hr(e,{controlText:r,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return Me("div",{className:"vjs-track-settings-controls"})}}ie.registerComponent("TrackSettingsControls",gL);const w_="vjs-text-track-settings",CI=["#000","Black"],AI=["#00F","Blue"],II=["#0FF","Cyan"],kI=["#0F0","Green"],DI=["#F0F","Magenta"],PI=["#F00","Red"],RI=["#FFF","White"],OI=["#FF0","Yellow"],C_=["1","Opaque"],A_=["0.5","Semi-Transparent"],LI=["0","Transparent"],ua={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[CI,RI,PI,kI,AI,OI,DI,II],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[C_,A_,LI],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[RI,CI,PI,kI,AI,OI,DI,II],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[C_,A_],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[LI,A_,C_],className:"vjs-window-opacity vjs-opacity"}};ua.windowColor.options=ua.backgroundColor.options;function yL(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function yre(t,e){const n=t.options[t.options.selectedIndex].value;return yL(n,e)}function vre(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(yL(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class _re extends hd{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Me("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new pL(e,{textTrackComponentid:this.id_,selectConfigs:ua,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new mL(e,{textTrackComponentid:this.id_,selectConfigs:ua,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const i=new gL(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),fc(ua,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return a5(ua,(e,n,r)=>{const i=yre(this.$(n.selector),n.parser);return i!==void 0&&(e[r]=i),e},{})}setValues(e){fc(ua,(n,r)=>{vre(this.$(n.selector),e[r],n.parser)})}setDefaults(){fc(ua,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(q.localStorage.getItem(w_))}catch(n){ct.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?q.localStorage.setItem(w_,JSON.stringify(e)):q.localStorage.removeItem(w_)}catch(n){ct.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}ie.registerComponent("TextTrackSettings",_re);class bre extends ie{constructor(e,n){let r=n.ResizeObserver||q.ResizeObserver;n.ResizeObserver===null&&(r=!1);const i=Nt({createEl:!r,reportTouchActivity:!1},n);super(e,i),this.ResizeObserver=n.ResizeObserver||q.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=D5(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let o=this.unloadListener_=function(){dr(this,"resize",s),dr(this,"unload",o),o=null};gi(this.el_.contentWindow,"unload",o),gi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}ie.registerComponent("ResizeManager",bre);const Tre={trackingThreshold:20,liveTolerance:15};class xre extends ie{constructor(e,n){const r=Nt(Tre,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(q.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const i=this.liveCurrentTime(),s=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,$i),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}ie.registerComponent("LiveTracker",xre);class Sre extends ie{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Me("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${ji()}`}),description:Me("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${ji()}`})},Me("div",{className:"vjs-title-bar"},{},l5(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],o=this.els[i],a=r[i];zy(o),s&&ja(o,s),n&&(n.removeAttribute(a),s&&n.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}ie.registerComponent("TitleBar",Sre);const Ere={initialDisplay:4e3,position:[],takeFocus:!1};class wre extends hr{constructor(e,n){n=Nt(Ere,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=Me("button",{},{type:"button",class:this.buildCSSClass()},Me("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}ie.registerComponent("TransientButton",wre);const xb=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let i="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const o=n[s].src;o&&r.indexOf(o)===-1&&r.push(o)}return r.length?(r.length===1&&(i=r[0]),t.triggerSourceset(i),!0):!1},Cre=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=pe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=pe.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",q.Element.prototype.appendChild.call(this,n),this.innerHTML}}),vL=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},Are=t=>vL([t.el(),q.HTMLMediaElement.prototype,q.Element.prototype,Cre],"innerHTML"),NI=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=Are(t),i=s=>(...o)=>{const a=s.apply(e,o);return xb(t),a};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=i(n[s]))}),Object.defineProperty(e,"innerHTML",Nt(r,{set:i(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},Ire=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?j5(q.Element.prototype.getAttribute.call(this,"src")):""},set(t){return q.Element.prototype.setAttribute.call(this,"src",t),t}}),kre=t=>vL([t.el(),q.HTMLMediaElement.prototype,Ire],"src"),Dre=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=kre(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Nt(n,{set:s=>{const o=n.set.call(e,s);return t.triggerSourceset(e.src),o}})),e.setAttribute=(s,o)=>{const a=r.call(e,s,o);return/src/i.test(s)&&t.triggerSourceset(e.src),a},e.load=()=>{const s=i.call(e);return xb(t)||(t.triggerSourceset(""),NI(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):xb(t)||NI(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Te extends Ke{constructor(e,n){super(e,n);const r=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let o=s.length;const a=[];for(;o--;){const l=s[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&Wy(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&ct.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(xf||Fy)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Te.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){Dre(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let s=0;s<e.length;s++){const o=e[s];o.kind==="metadata"&&n.push({track:o,storedMode:o.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const i=()=>{for(let s=0;s<n.length;s++){const o=n[s];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",i)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(i=>{this.el()[`${r}Tracks`].removeEventListener(i,this[`${r}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Ni[e],r=this.el()[n.getterName],i=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[qc.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<i.length;l++){let u=!1;for(let c=0;c<r.length;c++)if(r[c]===i[l]){u=!0;break}u||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(a=>{const l=s[a];r.addEventListener(a,l),this.on("dispose",u=>r.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){Ni.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Te.disposeMediaElement(e),e=r}else{e=pe.createElement("video");const r=this.options_.tag&&la(this.options_.tag),i=Nt({},r);(!xf||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,y5(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&$c(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const i=n[r],s=this.options_[i];typeof s<"u"&&(s?$c(e,i,i):jy(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const i=function(){r=!0};this.on("loadstart",i);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&By?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){ct(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Gs&&Ks&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ns(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Te.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=pe.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),q.performance&&(e.creationTime=q.performance.now()),e}}Ly(Te,"TEST_VID",function(){if(!ud())return;const t=pe.createElement("video"),e=pe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Te.isSupported=function(){try{Te.TEST_VID.volume=.5}catch{return!1}return!!(Te.TEST_VID&&Te.TEST_VID.canPlayType)};Te.canPlayType=function(t){return Te.TEST_VID.canPlayType(t)};Te.canPlaySource=function(t,e){return Te.canPlayType(t.type)};Te.canControlVolume=function(){try{const t=Te.TEST_VID.volume;Te.TEST_VID.volume=t/2+.1;const e=t!==Te.TEST_VID.volume;return e&&Ir?(q.setTimeout(()=>{Te&&Te.prototype&&(Te.prototype.featuresVolumeControl=t!==Te.TEST_VID.volume)}),!1):e}catch{return!1}};Te.canMuteVolume=function(){try{const t=Te.TEST_VID.muted;return Te.TEST_VID.muted=!t,Te.TEST_VID.muted?$c(Te.TEST_VID,"muted","muted"):jy(Te.TEST_VID,"muted","muted"),t!==Te.TEST_VID.muted}catch{return!1}};Te.canControlPlaybackRate=function(){if(Gs&&Ks&&Ny<58)return!1;try{const t=Te.TEST_VID.playbackRate;return Te.TEST_VID.playbackRate=t/2+.1,t!==Te.TEST_VID.playbackRate}catch{return!1}};Te.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(pe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(pe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(pe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(pe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Te.supportsNativeTextTracks=function(){return By||Ir&&Ks};Te.supportsNativeVideoTracks=function(){return!!(Te.TEST_VID&&Te.TEST_VID.videoTracks)};Te.supportsNativeAudioTracks=function(){return!!(Te.TEST_VID&&Te.TEST_VID.audioTracks)};Te.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Ly(Te.prototype,t,()=>Te[e](),!0)});Te.prototype.featuresVolumeControl=Te.canControlVolume();Te.prototype.movingMediaElementInDOM=!Ir;Te.prototype.featuresFullscreenResize=!0;Te.prototype.featuresProgressEvents=!0;Te.prototype.featuresTimeupdateEvents=!0;Te.prototype.featuresVideoFrameCallback=!!(Te.TEST_VID&&Te.TEST_VID.requestVideoFrameCallback);Te.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Te.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Te.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Te.prototype["set"+pn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Te.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Te.prototype["set"+pn(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Te.prototype[t]=function(){return this.el_[t]()}});Ke.withSourceHandlers(Te);Te.nativeSourceHandler={};Te.nativeSourceHandler.canPlayType=function(t){try{return Te.TEST_VID.canPlayType(t)}catch{return""}};Te.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Te.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=Qx(t.src);return Te.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Te.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Te.nativeSourceHandler.dispose=function(){};Te.registerSourceHandler(Te.nativeSourceHandler);Ke.registerTech("Html5",Te);const _L=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],I_={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Sb=["tiny","xsmall","small","medium","large","xlarge","huge"],xm={};Sb.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;xm[t]=`vjs-layout-${e}`});const Pre={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Ht extends ie{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${ji()}`,n=Object.assign(Ht.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const o=e.closest("[lang]");o&&(n.language=o.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.boundUpdatePlayerHeightOnAudioOnlyMode_=o=>this.updatePlayerHeightOnAudioOnlyMode_(o),this.isFullscreen_=!1,this.log=s5(this.id_),this.fsApi_=Cg,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&la(e),this.language(this.options_.language),n.languages){const o={};Object.getOwnPropertyNames(n.languages).forEach(function(a){o[a.toLowerCase()]=n.languages[a]}),this.languages_=o}else this.languages_=Ht.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error(`plugin "${o}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Gx(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(gi(pe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Nt(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(o=>{this[o](n.plugins[o])}),n.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const a=new q.DOMParser().parseFromString(ere,"image/svg+xml");if(a.querySelector("parsererror"))ct.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new tre(this),this.addClass("vjs-spatial-navigation-enabled")),xf&&this.addClass("vjs-touch-enabled"),Ir||this.addClass("vjs-workinghover"),Ht.players[this.id_]=this;const s=fb.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),dr(pe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),dr(pe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ht.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Yne(this),Er.names.forEach(e=>{const n=Er[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:i||(n=this.el_=super.createEl("div"));const s=la(e);if(i){for(n=this.el_=e,e=this.tag=pe.createElement("video");n.children.length;)e.appendChild(n.firstChild);Lh(n,"video-js")||Cl(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",Ks&&My&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||n.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const o=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>f5[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...o),q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=I5("vjs-styles-dimensions");const l=Ra(".vjs-styles-defaults"),u=Ra("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const u=a.item(l);Cl(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),mb(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ct.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const i=parseFloat(n);if(isNaN(i)){ct.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,So(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Cne(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(q.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let e,n,r,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),o=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*o,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),k5(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${n}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${o*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=pn(e),i=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(Ke.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const o={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Er.names.forEach(l=>{const u=Er[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[r]),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=Ke.getTech(e);if(!a)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new a(o),this.tech_.ready(jt(this,this.handleTechReady_),!0),pI.jsonToTextTracks(this.textTracksJson_||[],this.tech_),_L.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${pn(l)}_`](u))}),Object.keys(I_).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${I_[l]}_`].bind(this),event:u});return}this[`handleTech${I_[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&mb(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Er.names.forEach(e=>{const n=Er[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=pI.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ct.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":fb}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const o=this.play();if(Mh(o))return o.catch(a=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),Mh(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!Mh(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=Zne(this,n)),this.cache_.source=Nt({},e,{src:n,type:r});const i=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const u=la(o[l]);s.push(u),u.src&&u.src===n&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=()=>{}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ns(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let i=pe[this.fsApi_.fullscreenElement]===r;!i&&r.matches&&(i=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in Kne)return Wne(this.middleware_,this.tech_,e,n);if(e in _I)return vI(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw ct(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Gne)return qne(this.middleware_,this.tech_,e);if(e in _I)return vI(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(ct(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(ct(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(ct(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ns){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(By||Ir);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||cs(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=cs(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=cs(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return B5(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,i)=>{function s(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){s(),r()}function a(u,c){s(),i(c)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(r,i))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function i(){e.off("fullscreenerror",o),e.off("fullscreenchange",s)}function s(){i(),n()}function o(l,u){i(),r(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(i,i),a.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=pe[this.fsApi_.exitFullscreen]();return e&&Ns(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=pe.documentElement.style.overflow,gi(pe,"keydown",this.boundFullWindowOnEscKey_),pe.documentElement.style.overflow="hidden",Cl(pe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,dr(pe,"keydown",this.boundFullWindowOnEscKey_),pe.documentElement.style.overflow=this.docOrigOverflow,Uy(pe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&q.documentPictureInPicture){const e=pe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Me("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),q.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(w5(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const i=r.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in pe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(q.documentPictureInPicture&&q.documentPictureInPicture.window)return q.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in pe)return pe.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?o.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=o=>e.key.toLowerCase()==="f",muteKey:i=o=>e.key.toLowerCase()==="m",playPauseKey:s=o=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const o=ie.getComponent("FullscreenToggle");pe[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),ie.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ie.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,i=this.options_.techOrder;r<i.length;r++){const s=i[r];let o=Ke.getTech(s);if(o||(o=ie.getComponent(s)),!o){ct.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(o.isSupported()&&(n=o.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(a=>[a,Ke.getTech(a)]).filter(([a,l])=>l?l.isSupported():(ct.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(a,l,u){let c;return a.some(f=>l.some(m=>{if(c=u(f,m),c)return!0})),c};let i;const s=a=>(l,u)=>a(u,l),o=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?i=r(e,n,s(o)):i=r(n,e,o),i||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=H5(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),Hne(this,r[0],(i,s)=>{if(this.middleware_=s,n||(this.cache_.sources=r),this.updateSourceCaches_(i),this.src_(i)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Vne(s,this.tech_)}),r.length>1){const i=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?L5(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ns(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),So(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),n&&n.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Pa("beforeerror").forEach(n=>{const r=n(this,e);if(!(Ws(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new an(e),this.addClass("vjs-error"),ct.error(`(CODE:${this.error_.code} ${an.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Pa("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const i=jt(this,this.reportUserActivity),s=function(f){(f.screenX!==n||f.screenY!==r)&&(n=f.screenX,r=f.screenY,i())},o=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(f){i(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",s),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!Ir&&!Gs&&(l.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const f=this.options_.inactivityTimeout;f<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(i=>{i!==n&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),So(this)&&this.trigger("languagechange"))}languages(){return Nt(Ht.prototype.options_.languages,this.languages_)}toJSON(){const e=Nt(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let i=n[r];i=Nt(i),i.player=void 0,e.tracks[r]=i}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new hd(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<Sb.length;r++){const i=Sb[r],s=this.breakpoints_[i];if(n<=s){if(e===i)return;e&&this.removeClass(xm[e]),this.addClass(xm[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},Pre,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return xm[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=Nt(e);const{artist:i,artwork:s,description:o,poster:a,src:l,textTracks:u,title:c}=this.cache_.media;!s&&a&&(this.cache_.media.artwork=[{src:a,type:Mg(a)}]),r&&this.crossOrigin(r),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:c,description:o||i||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:n,textTracks:r};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:Mg(i.poster)}]),i}return Nt(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=la(e),i=r["data-setup"];if(Lh(e,"vjs-fill")&&(r.fill=!0),Lh(e,"vjs-fluid")&&(r.fluid=!0),i!==null)try{Object.assign(r,JSON.parse(i||"{}"))}catch(s){ct.error("data-setup",s)}if(Object.assign(n,r),e.hasChildNodes()){const s=e.childNodes;for(let o=0,a=s.length;o<a;o++){const l=s[o],u=l.nodeName.toLowerCase();u==="source"?n.sources.push(la(l)):u==="track"&&n.tracks.push(la(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Er.names.forEach(function(t){const e=Er[t];Ht.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ht.prototype.crossorigin=Ht.prototype.crossOrigin;Ht.players={};const th=q.navigator;Ht.prototype.options_={techOrder:Ke.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:th&&(th.languages&&th.languages[0]||th.userLanguage||th.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};_L.forEach(function(t){Ht.prototype[`handleTech${pn(t)}_`]=function(){return this.trigger(t)}});ie.registerComponent("Player",Ht);const Fg="plugin",gc="activePlugins_",Qu={},Bg=t=>Qu.hasOwnProperty(t),Sm=t=>Bg(t)?Qu[t]:void 0,bL=(t,e)=>{t[gc]=t[gc]||{},t[gc][e]=!0},Ug=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},Rre=function(t,e){const n=function(){Ug(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return bL(this,t),Ug(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},MI=(t,e)=>(e.prototype.name=t,function(...n){Ug(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,Ug(this,r.getEventHash()),r});class Wr{constructor(e){if(this.constructor===Wr)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Gx(this),delete this.trigger,O5(this,this.constructor.defaultState),bL(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return dd(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[gc][e]=!1,this.player=this.state=null,n[e]=MI(e,Qu[e])}static isBasic(e){const n=typeof e=="string"?Sm(e):e;return typeof n=="function"&&!Wr.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Bg(e))ct.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Ht.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return Qu[e]=n,e!==Fg&&(Wr.isBasic(n)?Ht.prototype[e]=Rre(e,n):Ht.prototype[e]=MI(e,n)),n}static deregisterPlugin(e){if(e===Fg)throw new Error("Cannot de-register base plugin.");Bg(e)&&(delete Qu[e],delete Ht.prototype[e])}static getPlugins(e=Object.keys(Qu)){let n;return e.forEach(r=>{const i=Sm(r);i&&(n=n||{},n[r]=i)}),n}static getPluginVersion(e){const n=Sm(e);return n&&n.VERSION||""}}Wr.getPlugin=Sm;Wr.BASE_PLUGIN_NAME=Fg;Wr.registerPlugin(Fg,Wr);Ht.prototype.usingPlugin=function(t){return!!this[gc]&&this[gc][t]===!0};Ht.prototype.hasPlugin=function(t){return!!Bg(t)};function Ore(t,e){let n=!1;return function(...r){return n||ct.warn(t),n=!0,e.apply(this,r)}}function ys(t,e,n,r){return Ore(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var Lre={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const TL=t=>t.indexOf("#")===0?t.slice(1):t;function J(t,e,n){let r=J.getPlayer(t);if(r)return e&&ct.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const i=typeof t=="string"?Ra("#"+TL(t)):t;if(!cd(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in i?i.getRootNode()instanceof q.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!o.contains(i))&&ct.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Pa("beforesetup").forEach(l=>{const u=l(i,Nt(e));if(!Ws(u)||Array.isArray(u)){ct.error("please return an object in beforesetup hooks");return}e=Nt(e,u)});const a=ie.getComponent("Player");return r=new a(i,e,n),Pa("setup").forEach(l=>l(r)),r}J.hooks_=co;J.hooks=Pa;J.hook=hne;J.hookOnce=fne;J.removeHook=i5;if(q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&ud()){let t=Ra(".vjs-styles-defaults");if(!t){t=I5("vjs-styles-defaults");const e=Ra("head");e&&e.insertBefore(t,e.firstChild),k5(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}yb(1,J);J.VERSION=fb;J.options=Ht.prototype.options_;J.getPlayers=()=>Ht.players;J.getPlayer=t=>{const e=Ht.players;let n;if(typeof t=="string"){const r=TL(t),i=e[r];if(i)return i;n=Ra("#"+r)}else n=t;if(cd(n)){const{player:r,playerId:i}=n;if(r||e[i])return r||e[i]}};J.getAllPlayers=()=>Object.keys(Ht.players).map(t=>Ht.players[t]).filter(Boolean);J.players=Ht.players;J.getComponent=ie.getComponent;J.registerComponent=(t,e)=>(Ke.isTech(e)&&ct.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),ie.registerComponent.call(ie,t,e));J.getTech=Ke.getTech;J.registerTech=Ke.registerTech;J.use=zne;Object.defineProperty(J,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(J.middleware,"TERMINATOR",{value:Ng,writeable:!1,enumerable:!0});J.browser=f5;J.obj=gne;J.mergeOptions=ys(9,"videojs.mergeOptions","videojs.obj.merge",Nt);J.defineLazyProperty=ys(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Ly);J.bind=ys(9,"videojs.bind","native Function.prototype.bind",jt);J.registerPlugin=Wr.registerPlugin;J.deregisterPlugin=Wr.deregisterPlugin;J.plugin=(t,e)=>(ct.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Wr.registerPlugin(t,e));J.getPlugins=Wr.getPlugins;J.getPlugin=Wr.getPlugin;J.getPluginVersion=Wr.getPluginVersion;J.addLanguage=function(t,e){return t=(""+t).toLowerCase(),J.options.languages=Nt(J.options.languages,{[t]:e}),J.options.languages[t]};J.log=ct;J.createLogger=s5;J.time=Pne;J.createTimeRange=ys(9,"videojs.createTimeRange","videojs.time.createTimeRanges",cs);J.createTimeRanges=ys(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",cs);J.formatTime=ys(9,"videojs.formatTime","videojs.time.formatTime",Vl);J.setFormatTime=ys(9,"videojs.setFormatTime","videojs.time.setFormatTime",M5);J.resetFormatTime=ys(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",F5);J.parseUrl=ys(9,"videojs.parseUrl","videojs.url.parseUrl",Yx);J.isCrossOrigin=ys(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Wy);J.EventTarget=yi;J.any=Wx;J.on=gi;J.one=Vy;J.off=dr;J.trigger=dd;J.xhr=l3;J.TextTrack=Yf;J.AudioTrack=$5;J.VideoTrack=z5;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{J[t]=function(){return ct.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),C5[t].apply(null,arguments)}});J.computedStyle=ys(9,"videojs.computedStyle","videojs.dom.computedStyle",Hc);J.dom=C5;J.fn=wne;J.num=ure;J.str=kne;J.url=jne;J.Error=Lre;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class Nre{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class jg extends J.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new Nre(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const i=this[n];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}jg.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in jg.prototype.allowedEvents_)jg.prototype["on"+t]=null;var xL="4.1.0";const Mre=function(t,e){const n=t.qualityLevels,r=new jg,i=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>r,t.qualityLevels.VERSION=xL,r},SL=function(t){return Mre(this,J.obj.merge({},t))};J.registerPlugin("qualityLevels",SL);SL.VERSION=xL;/*! @name @videojs/http-streaming @version 3.13.3 @license Apache-2.0 */const Fr=Ay,$g=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Wi=t=>J.log.debug?J.log.debug.bind(J,"VHS:",`${t} >`):function(){};function wt(...t){const e=J.obj||J;return(e.merge||e.mergeOptions).apply(e,t)}function Jn(...t){const e=J.time||J;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function Fre(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),i=t.end(n);e+=`${r} --> ${i}. Duration (${i-r})
`}return e}const Ms=1/30,Fs=Ms*3,EL=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return Jn(n)},Ju=function(t,e){return EL(t,function(n,r){return n-Fs<=e&&r+Fs>=e})},Wp=function(t,e){return EL(t,function(n){return n-Ms>=e})},Bre=function(t){if(t.length<2)return Jn();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),i=t.start(n);e.push([r,i])}return Jn(e)},Ure=function(t,e){let n=null,r=null,i=0;const s=[],o=[];if(!t||!t.length||!e||!e.length)return Jn();let a=t.length;for(;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(a=e.length;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),a=0;a<s.length;a++)s[a].type==="start"?(i++,i===2&&(n=s[a].time)):s[a].type==="end"&&(i--,i===1&&(r=s[a].time)),n!==null&&r!==null&&(o.push([n,r]),n=null,r=null);return Jn(o)},wL=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},jre=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Tl=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},$re=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},k_=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},pS=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const i=t.start(r),s=t.end(r);if(!(e>s)){if(e>i&&e<=s){n+=s-e;continue}n+=s-i}}return n},mS=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},Eb=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:r,partIndex:s,part:i,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),CL=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},AL=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},IL=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=CL(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},zre=function(t,e){let n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],typeof i.end<"u")return{result:n+i.end,precise:!0};if(n+=mS(t,i),typeof i.start<"u")return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},Hre=function(t,e){let n=0,r,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(r=t.segments[i],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=mS(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},kL=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=zre(t,e);if(r.precise)return r.result;const i=Hre(t,e);return i.precise?i.result:r.result+n},DL=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return q.Infinity}return kL(t,e,n)},Fh=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let i=0;if(n>r&&([n,r]=[r,n]),n<0){for(let s=n;s<Math.min(0,r);s++)i+=t;n=0}for(let s=n;s<r;s++)i+=e[s].duration;return i},PL=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return DL(t);if(e===null)return null;e=e||0;let i=kL(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:IL(null,t),i-=r),Math.max(0,i)},Vre=function(t,e,n){const i=e||0;let s=PL(t,e,!0,n);return s===null?Jn():(s<i&&(s=i),Jn(i,s))},qre=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:i,exactManifestTimings:s}){let o=e-i;const a=Eb(t);let l=0;for(let u=0;u<a.length;u++){const c=a[u];if(n===c.segmentIndex&&!(typeof r=="number"&&typeof c.partIndex=="number"&&r!==c.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const c=a[u];if(o+=c.duration,s){if(o<0)continue}else if(o+Ms<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i-Fh({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<a.length;u++){const c=a[u];o-=c.duration;const f=c.duration>Ms,m=o===0,x=f&&o+Ms>=0;if(!((m||x)&&u!==a.length-1)){if(s){if(o>0)continue}else if(o-Ms>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i+Fh({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},RL=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},gS=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Xy=function(t){const e=RL(t);return!t.disabled&&!e},Wre=function(t){return t.disabled},Gre=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},OL=function(t,e){return e.attributes&&e.attributes[t]},Kre=function(t,e,n,r=0){return OL("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},wb=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>Xy(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},yS=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),FI=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const i in n){for(const s in n[i])if(r=e(n[i][s]),r)break;if(r)break}return!!r},ep=t=>{if(!t||!t.playlists||!t.playlists.length)return FI(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(s=>p3(s))||FI(t,s=>yS(n,s))))return!1}return!0};var Br={liveEdgeDelay:IL,duration:DL,seekable:Vre,getMediaInfoForTime:qre,isEnabled:Xy,isDisabled:Wre,isExcluded:RL,isIncompatible:gS,playlistEnd:PL,isAes:Gre,hasAttribute:OL,estimateSegmentRequestTime:Kre,isLowestEnabledRendition:wb,isAudioOnly:ep,playlistMatch:yS,segmentDurationWithParts:mS};const{log:LL}=J,yc=(t,e)=>`${t}-${e}`,NL=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,Xre=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:i=[],llhls:s})=>{const o=new uee;t&&o.on("warn",t),e&&o.on("info",e),r.forEach(u=>o.addParser(u)),i.forEach(u=>o.addTagMapper(u)),o.push(n),o.end();const a=o.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((c,f)=>Math.max(c,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),a.targetDuration=u}const l=CL(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((c,f)=>Math.max(c,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),LL.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},md=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const i in t.mediaGroups[n][r]){const s=t.mediaGroups[n][r][i];e(s,n,r,i)}})},ML=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},Yre=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];ML({playlist:n,id:yc(e,n.uri)}),n.resolvedUri=Fr(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||LL.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Qre=t=>{md(t,e=>{e.uri&&(e.resolvedUri=Fr(t.uri,e.uri))})},Jre=(t,e)=>{const n=yc(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:q.location.href,resolvedUri:q.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},FL=(t,e,n=NL)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const r=ep(t);md(t,(i,s,o,a)=>{if(!i.playlists||!i.playlists.length){if(r&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}i.playlists=[G({},i)]}i.playlists.forEach(function(l,u){const c=n(s,o,a,l),f=yc(u,c);l.uri?l.resolvedUri=l.resolvedUri||Fr(t.uri,l.uri):(l.uri=u===0?c:f,l.resolvedUri=l.uri),l.id=l.id||f,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),Yre(t),Qre(t)};class BI{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,i)=>{if(!this.processedDateRanges_.has(i)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const i=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&i[r.classListIndex+1]?r.endTime=i[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,i)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const BL=22,kl=({requestType:t,request:e,error:n,parseFailure:r})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,o={uri:e.uri,requestType:t},a=i&&!s||r;if(n&&s)o.error=G({},n),o.errorType=J.Error.NetworkRequestFailed;else if(e.aborted)o.errorType=J.Error.NetworkRequestAborted;else if(e.timedout)o.erroType=J.Error.NetworkRequestTimeout;else if(a){const l=r?J.Error.NetworkBodyParserFailed:J.Error.NetworkBadStatus;o.errorType=l,o.status=e.status,o.headers=e.headers}return o},{EventTarget:Zre}=J,eie=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let i=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],o=AL(e)-1;o>-1&&o!==s.length-1&&(n._HLS_part=o),(o>-1||s.length)&&i--}n._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new q.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){n.hasOwnProperty(i)&&r.searchParams.set(i,n[i])}),t=r.toString()}return t},tie=(t,e)=>{if(!t)return e;const n=wt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=wt(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},nie=(t,e,n)=>{const r=t.slice(),i=e.slice();n=n||0;const s=[];let o;for(let a=0;a<i.length;a++){const l=r[a+n],u=i[a];l?(o=l.map||o,s.push(tie(l,u))):(o&&!u.map&&(u.map=o),s.push(u))}return s},UL=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Fr(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Fr(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Fr(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Fr(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Fr(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Fr(e,n.uri))})},jL=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},$L=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Cb=(t,e,n=$L)=>{const r=wt(t,{}),i=r.playlists[e.id];if(!i||n(i,e))return null;e.segments=jL(e);const s=wt(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}s.segments=nie(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(o=>{UL(o,s.resolvedUri)});for(let o=0;o<r.playlists.length;o++)r.playlists[o].id===e.id&&(r.playlists[o]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,md(t,(o,a,l,u)=>{if(o.playlists)for(let c=0;c<o.playlists.length;c++)e.id===o.playlists[c].id&&(o.playlists[c]=s)}),r},Ab=(t,e)=>{const n=t.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],s=i&&i.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},UI=(t,e,n)=>{if(!t)return;const r=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:o,CODECS:a}=i.attributes;r.push({id:i.id,bandwidth:s,resolution:o,codecs:a})}),{type:e,isLive:n,renditions:r}};class Zu extends Zre{constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Wi("PlaylistLoader");const{withCredentials:i=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=i,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new BI,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Fr(this.main.uri,e.uri);this.llhls&&(n=eie(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:i,id:s}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:kl({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{return Xre({onwarn:({message:r})=>this.logger_(`m3u8-parser warn for ${e}: ${r}`),oninfo:({message:r})=>this.logger_(`m3u8-parser info for ${e}: ${r}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(r){this.error=r,this.error.metadata={errorType:J.Error.StreamingHlsPlaylistParserError,error:r}}}haveMetadata({playlistString:e,playlistObject:n,url:r,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:s});const o=n||this.parseManifest_({url:r,manifestString:e});o.lastRequest=Date.now(),ML({playlist:o,uri:r,id:i});const a=Cb(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ab(this.media(),!!a)),s.parsedPlaylist=UI(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),q.clearTimeout(this.mediaUpdateTimeout),q.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new BI,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(q.clearTimeout(this.finalRenditionTimeout),n){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=q.setTimeout(this.media.bind(this,e,!1),a);return}const r=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Ab(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const o={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:o}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=$g(e.resolvedUri,l),a)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:o}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=q.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=q.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:kl({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=$g(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=UI(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,FL(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=jL(r),r.segments.forEach(i=>{UL(i,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||q.location.href;this.main=Jre(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,i=e.ID;let s=r.playlists.length;for(;s--;){const o=r.playlists[s];if(o.attributes["PATHWAY-ID"]===i){const a=o.resolvedUri,l=o.id;if(n){const u=this.createCloneURI_(o.resolvedUri,e),c=yc(i,u),f=this.createCloneAttributes_(i,o.attributes),m=this.createClonePlaylist_(o,c,e,f);r.playlists[s]=m,r.playlists[c]=m,r.playlists[u]=m}else r.playlists.splice(s,1);delete r.playlists[l],delete r.playlists[a]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][i])){for(const o in r.mediaGroups[s])if(o===i){for(const a in r.mediaGroups[s][o])r.mediaGroups[s][o][a].playlists.forEach((u,c)=>{const f=r.playlists[u.id],m=f.id,x=f.resolvedUri;delete r.playlists[m],delete r.playlists[x]});delete r.mediaGroups[s][o]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,i=r.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),o=yc(e.ID,s),a=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,o,e,a);r.playlists[i]=l,r.playlists[o]=l,r.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][n]))for(const o in i.mediaGroups[s]){if(o===r)i.mediaGroups[s][n]={};else continue;for(const a in i.mediaGroups[s][o]){const l=i.mediaGroups[s][o][a];i.mediaGroups[s][n][a]=G({},l);const u=i.mediaGroups[s][n][a],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((f,m)=>{const x=i.playlists[f.id],_=NL(s,n,a),g=yc(n,_);if(x&&!i.playlists[g]){const k=this.createClonePlaylist_(x,g,e),E=k.resolvedUri;i.playlists[g]=k,i.playlists[E]=k}u.playlists[m]=this.createClonePlaylist_(f,g,e)})}}})}createClonePlaylist_(e,n,r,i){const s=this.createCloneURI_(e.resolvedUri,r),o={resolvedUri:s,uri:s,id:n};return e.segments&&(o.segments=[]),i&&(o.attributes=i),wt(e,o)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const i=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))r.searchParams.set(s,i[s]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{n[i]&&(r[i]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes.keyId;i&&n.add(i.toLowerCase())}return n}}}const Ib=function(t,e,n,r){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),r(e,t)},rie=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},iie=(t,e,n,r)=>{!t||!t.size||t.forEach(i=>{i(e,n,r)})},zL=function(){const t=function e(n,r){n=wt({timeout:45e3},n);const i=e.beforeRequest||J.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||J.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||J.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(J.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const a=J.Vhs.xhr.original===!0?J.xhr:J.Vhs.xhr,l=rie(s,n);s.delete(i);const u=a(l||n,function(f,m){return iie(o,u,f,m),Ib(u,f,m,r)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=n.uri,u.requestType=n.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},sie=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=q.BigInt(t.offset)+q.BigInt(t.length)-q.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},kb=function(t){const e={};return t.byterange&&(e.Range=sie(t.byterange)),e},oie=function(t,e){return t.start(e)+"-"+t.end(e)},aie=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},lie=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},HL=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];g3(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},zg=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},VL=function(t){return t.resolvedUri},qL=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",i,s;for(let o=0;o<e.length/n;o++)i=e.slice(o*n,o*n+n).map(aie).join(""),s=e.slice(o*n,o*n+n).map(lie).join(""),r+=i+" "+s+`
`;return r},uie=({bytes:t})=>qL(t),cie=t=>{let e="",n;for(n=0;n<t.length;n++)e+=oie(t,n)+" ";return e};var die=Object.freeze({__proto__:null,createTransferableMessage:HL,initSegmentId:zg,segmentKeyId:VL,hexDump:qL,tagDump:uie,textRanges:cie});const WL=.25,hie=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+n,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},fie=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,pie=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(n<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,o=i.videoTimingInfo?fie(i.videoTimingInfo):i.duration+i.duration*WL,a=new Date(s.getTime()+o*1e3);return n>a?null:(n>new Date(s)&&(r=i),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Br.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},mie=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+i.duration*WL)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},gie=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const i=n.getTime();return(r.getTime()-i)/1e3},yie=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},vie=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=mie(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const i={mediaSeconds:e},s=hie(e,r.segment);return s&&(i.programDateTime=s.toISOString()),n(null,i)},GL=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:i=!0,tech:s,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!yie(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=pie(t,e);if(!a)return o({message:`${t} was not found in the stream`});const l=a.segment,u=gie(l.dateTimeObject,t);if(a.type==="estimate"){if(n===0)return o({message:`${t} is not buffered yet. Try again`});r(a.estimatedStart+u),s.one("seeked",()=>{GL({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:i,tech:s,callback:o})});return}const c=l.start+u,f=()=>o(null,s.currentTime());s.one("seeked",f),i&&s.pause(),r(c)},D_=(t,e)=>{if(t.readyState===4)return e()},_ie=(t,e,n,r)=>{let i=[],s,o=!1;const a=function(f,m,x,_){return m.abort(),o=!0,n(f,m,x,_)},l=function(f,m){if(o)return;if(f)return f.metadata=kl({requestType:r,request:m,error:f}),a(f,m,"",i);const x=m.responseText.substring(i&&i.byteLength||0,m.responseText.length);if(i=Tee(i,y3(x,!0)),s=s||mh(i),i.length<10||s&&i.length<s+2)return D_(m,()=>a(f,m,"",i));const _=Fx(i);return _==="ts"&&i.length<188?D_(m,()=>a(f,m,"",i)):!_&&i.length<376?D_(m,()=>a(f,m,"",i)):a(null,m,_,i)},c=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:m,loaded:x}){return Ib(f,null,{statusCode:f.status},l)})}},function(f,m){return Ib(c,f,m,l)});return c},{EventTarget:bie}=J,jI=function(t,e){if(!$L(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],i=e.segments[n];if(r.uri!==i.uri)return!1;if(!r.byterange&&!i.byterange)continue;const s=r.byterange,o=i.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}return!0},Tie=(t,e,n,r)=>{const i=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${i}`},xie=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:i})=>{const s=Vte(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:i});return FL(s,e,Tie),s},Sie=(t,e)=>{md(t,(n,r,i,s)=>{s in e.mediaGroups[r][i]||delete t.mediaGroups[r][i][s]})},Eie=(t,e,n)=>{let r=!0,i=wt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const o=e.playlists[s];if(o.sidx){const l=Py(o.sidx);n&&n[l]&&n[l].sidx&&Lx(o,n[l].sidx,o.sidx.resolvedUri)}const a=Cb(i,o,jI);a&&(i=a,r=!1)}return md(e,(s,o,a,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=Cb(i,s.playlists[0],jI);c&&(i=c,l in i.mediaGroups[o][a]||(i.mediaGroups[o][a][l]=s),i.mediaGroups[o][a][l].playlists[0]=i.playlists[u],r=!1)}}),Sie(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:i},wie=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,$I=(t,e)=>{const n={};for(const r in t){const s=t[r].sidx;if(s){const o=Py(s);if(!e[o])break;const a=e[o].sidxInfo;wie(a,s)&&(n[o]=e[o])}}return n},Cie=(t,e)=>{let r=$I(t.playlists,e);return md(t,(i,s,o,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;r=wt(r,$I(l,e))}}),r};class Db extends bie{constructor(e,n,r={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Wi("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const i=e.sidx&&Py(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=q.setTimeout(()=>r(!1),0);return}const s=$g(e.sidx.resolvedUri),o=(l,u)=>{if(this.requestErrored_(l,u,n))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:f}=u;let m;try{m=Yte(Re(u.response).subarray(8))}catch(x){x.metadata=kl({requestType:f,request:u,parseFailure:!0}),this.requestErrored_(x,u,n);return}return c[i]={sidxInfo:e.sidx,sidx:m},Lx(e,m,e.sidx.resolvedUri),r(!0)},a="dash-sidx";this.request=_ie(s,this.vhs_.xhr,(l,u,c,f)=>{if(l)return o(l,u);if(!c||c!=="mp4"){const _=c||"unknown";return o({status:u.status,message:`Unsupported ${_} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:m,length:x}=e.sidx.byterange;if(f.length>=x+m)return o(l,{response:f.subarray(m,m+x),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:kb({byterange:e.sidx.byterange})},o)},a)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},q.clearTimeout(this.minimumUpdatePeriodTimeout_),q.clearTimeout(this.mediaRequest_),q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,i=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(q.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=q.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=q.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,i)=>{if(r){const{requestType:o}=i;r.metadata=kl({requestType:o,request:i,error:r})}if(this.requestErrored_(r,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=$g(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const n=qte(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Fr(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,i)=>{if(!this.request)return;if(r){const{requestType:o}=i;return this.error.metadata=kl({requestType:o,request:i,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;n.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=xie({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:J.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(r=Eie(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:s,endList:o}=r,a=[];r.playlists.forEach(u=>{a.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!o,renditions:a};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(q.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=q.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Cie(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=q.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},Ab(this.media(),!!r)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes["cenc:default_KID"];i&&n.add(i.replace(/-/g,"").toLowerCase())}return n}}}var zn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Aie=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},KL=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},Iie=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},XL=function(t){return function(){const e=Iie(t),n=KL(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},YL=function(t){return`var browserWorkerPolyFill = ${KL.toString()};
browserWorkerPolyFill(self);
`+t},QL=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},kie=YL(QL(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var h={};this.on=function(p,v){h[p]||(h[p]=[]),h[p]=h[p].concat(v)},this.off=function(p,v){var y;return h[p]?(y=h[p].indexOf(v),h[p]=h[p].slice(),h[p].splice(y,1),y>-1):!1},this.trigger=function(p){var v,y,T,C;if(v=h[p],!!v)if(arguments.length===2)for(T=v.length,y=0;y<T;++y)v[y].call(this,arguments[1]);else{for(C=[],y=arguments.length,y=1;y<arguments.length;++y)C.push(arguments[y]);for(T=v.length,y=0;y<T;++y)v[y].apply(this,C)}},this.dispose=function(){h={}}}};e.prototype.pipe=function(h){return this.on("data",function(p){h.push(p)}),this.on("done",function(p){h.flush(p)}),this.on("partialdone",function(p){h.partialFlush(p)}),this.on("endedtimeline",function(p){h.endTimeline(p)}),this.on("reset",function(p){h.reset(p)}),h},e.prototype.push=function(h){this.trigger("data",h)},e.prototype.flush=function(h){this.trigger("done",h)},e.prototype.partialFlush=function(h){this.trigger("partialdone",h)},e.prototype.endTimeline=function(h){this.trigger("endedtimeline",h)},e.prototype.reset=function(h){this.trigger("reset",h)};var n=e,r=Math.pow(2,32),i=function(h){var p=new DataView(h.buffer,h.byteOffset,h.byteLength),v;return p.getBigUint64?(v=p.getBigUint64(0),v<Number.MAX_SAFE_INTEGER?Number(v):v):p.getUint32(0)*r+p.getUint32(4)},s={getUint64:i,MAX_UINT32:r},o=s.MAX_UINT32,a,l,u,c,f,m,x,_,g,k,E,w,S,O,L,R,D,P,M,B,$,V,F,se,ce,ue,le,ee,fe,ye,ke,Se,De,Ie,Ve,qe;(function(){var h;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(h in F)F.hasOwnProperty(h)&&(F[h]=[h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)]);se=new Uint8Array([105,115,111,109]),ue=new Uint8Array([97,118,99,49]),ce=new Uint8Array([0,0,0,1]),le=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ee=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),fe={video:le,audio:ee},Se=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ke=new Uint8Array([0,0,0,0,0,0,0,0]),De=new Uint8Array([0,0,0,0,0,0,0,0]),Ie=De,Ve=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),qe=De,ye=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(h){var p=[],v=0,y,T,C;for(y=1;y<arguments.length;y++)p.push(arguments[y]);for(y=p.length;y--;)v+=p[y].byteLength;for(T=new Uint8Array(v+8),C=new DataView(T.buffer,T.byteOffset,T.byteLength),C.setUint32(0,T.byteLength),T.set(h,4),y=0,v=8;y<p.length;y++)T.set(p[y],v),v+=p[y].byteLength;return T},l=function(){return a(F.dinf,a(F.dref,Se))},u=function(h){return a(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},c=function(){return a(F.ftyp,se,ce,se,ue)},R=function(h){return a(F.hdlr,fe[h])},f=function(h){return a(F.mdat,h)},L=function(h){var p=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(p[12]=h.samplerate>>>24&255,p[13]=h.samplerate>>>16&255,p[14]=h.samplerate>>>8&255,p[15]=h.samplerate&255),a(F.mdhd,p)},O=function(h){return a(F.mdia,L(h),R(h.type),x(h))},m=function(h){return a(F.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},x=function(h){return a(F.minf,h.type==="video"?a(F.vmhd,ye):a(F.smhd,ke),l(),P(h))},_=function(h,p){for(var v=[],y=p.length;y--;)v[y]=B(p[y]);return a.apply(null,[F.moof,m(h)].concat(v))},g=function(h){for(var p=h.length,v=[];p--;)v[p]=w(h[p]);return a.apply(null,[F.moov,E(4294967295)].concat(v).concat(k(h)))},k=function(h){for(var p=h.length,v=[];p--;)v[p]=$(h[p]);return a.apply(null,[F.mvex].concat(v))},E=function(h){var p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(F.mvhd,p)},D=function(h){var p=h.samples||[],v=new Uint8Array(4+p.length),y,T;for(T=0;T<p.length;T++)y=p[T].flags,v[T+4]=y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy;return a(F.sdtp,v)},P=function(h){return a(F.stbl,M(h),a(F.stts,qe),a(F.stsc,Ie),a(F.stsz,Ve),a(F.stco,De))},function(){var h,p;M=function(v){return a(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),v.type==="video"?h(v):p(v))},h=function(v){var y=v.sps||[],T=v.pps||[],C=[],j=[],z,H;for(z=0;z<y.length;z++)C.push((y[z].byteLength&65280)>>>8),C.push(y[z].byteLength&255),C=C.concat(Array.prototype.slice.call(y[z]));for(z=0;z<T.length;z++)j.push((T[z].byteLength&65280)>>>8),j.push(T[z].byteLength&255),j=j.concat(Array.prototype.slice.call(T[z]));if(H=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(v.width&65280)>>8,v.width&255,(v.height&65280)>>8,v.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(F.avcC,new Uint8Array([1,v.profileIdc,v.profileCompatibility,v.levelIdc,255].concat([y.length],C,[T.length],j))),a(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],v.sarRatio){var W=v.sarRatio[0],Y=v.sarRatio[1];H.push(a(F.pasp,new Uint8Array([(W&4278190080)>>24,(W&16711680)>>16,(W&65280)>>8,W&255,(Y&4278190080)>>24,(Y&16711680)>>16,(Y&65280)>>8,Y&255])))}return a.apply(null,H)},p=function(v){return a(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(v.channelcount&65280)>>8,v.channelcount&255,(v.samplesize&65280)>>8,v.samplesize&255,0,0,0,0,(v.samplerate&65280)>>8,v.samplerate&255,0,0]),u(v))}}(),S=function(h){var p=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return a(F.tkhd,p)},B=function(h){var p,v,y,T,C,j,z;return p=a(F.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),j=Math.floor(h.baseMediaDecodeTime/o),z=Math.floor(h.baseMediaDecodeTime%o),v=a(F.tfdt,new Uint8Array([1,0,0,0,j>>>24&255,j>>>16&255,j>>>8&255,j&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255])),C=92,h.type==="audio"?(y=V(h,C),a(F.traf,p,v,y)):(T=D(h),y=V(h,T.length+C),a(F.traf,p,v,y,T))},w=function(h){return h.duration=h.duration||4294967295,a(F.trak,S(h),O(h))},$=function(h){var p=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(p[p.length-1]=0),a(F.trex,p)},function(){var h,p,v;v=function(y,T){var C=0,j=0,z=0,H=0;return y.length&&(y[0].duration!==void 0&&(C=1),y[0].size!==void 0&&(j=2),y[0].flags!==void 0&&(z=4),y[0].compositionTimeOffset!==void 0&&(H=8)),[0,0,C|j|z|H,1,(y.length&4278190080)>>>24,(y.length&16711680)>>>16,(y.length&65280)>>>8,y.length&255,(T&4278190080)>>>24,(T&16711680)>>>16,(T&65280)>>>8,T&255]},p=function(y,T){var C,j,z,H,W,Y;for(H=y.samples||[],T+=20+16*H.length,z=v(H,T),j=new Uint8Array(z.length+H.length*16),j.set(z),C=z.length,Y=0;Y<H.length;Y++)W=H[Y],j[C++]=(W.duration&4278190080)>>>24,j[C++]=(W.duration&16711680)>>>16,j[C++]=(W.duration&65280)>>>8,j[C++]=W.duration&255,j[C++]=(W.size&4278190080)>>>24,j[C++]=(W.size&16711680)>>>16,j[C++]=(W.size&65280)>>>8,j[C++]=W.size&255,j[C++]=W.flags.isLeading<<2|W.flags.dependsOn,j[C++]=W.flags.isDependedOn<<6|W.flags.hasRedundancy<<4|W.flags.paddingValue<<1|W.flags.isNonSyncSample,j[C++]=W.flags.degradationPriority&61440,j[C++]=W.flags.degradationPriority&15,j[C++]=(W.compositionTimeOffset&4278190080)>>>24,j[C++]=(W.compositionTimeOffset&16711680)>>>16,j[C++]=(W.compositionTimeOffset&65280)>>>8,j[C++]=W.compositionTimeOffset&255;return a(F.trun,j)},h=function(y,T){var C,j,z,H,W,Y;for(H=y.samples||[],T+=20+8*H.length,z=v(H,T),C=new Uint8Array(z.length+H.length*8),C.set(z),j=z.length,Y=0;Y<H.length;Y++)W=H[Y],C[j++]=(W.duration&4278190080)>>>24,C[j++]=(W.duration&16711680)>>>16,C[j++]=(W.duration&65280)>>>8,C[j++]=W.duration&255,C[j++]=(W.size&4278190080)>>>24,C[j++]=(W.size&16711680)>>>16,C[j++]=(W.size&65280)>>>8,C[j++]=W.size&255;return a(F.trun,C)},V=function(y,T){return y.type==="audio"?h(y,T):p(y,T)}}();var Pt={ftyp:c,mdat:f,moof:_,moov:g,initSegment:function(h){var p=c(),v=g(h),y;return y=new Uint8Array(p.byteLength+v.byteLength),y.set(p),y.set(v,p.byteLength),y}},Qt=function(h){var p,v,y=[],T=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,y.byteLength=0,p=0;p<h.length;p++)v=h[p],v.nalUnitType==="access_unit_delimiter_rbsp"?(y.length&&(y.duration=v.dts-y.dts,T.byteLength+=y.byteLength,T.nalCount+=y.length,T.duration+=y.duration,T.push(y)),y=[v],y.byteLength=v.data.byteLength,y.pts=v.pts,y.dts=v.dts):(v.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(y.keyFrame=!0),y.duration=v.dts-y.dts,y.byteLength+=v.data.byteLength,y.push(v));return T.length&&(!y.duration||y.duration<=0)&&(y.duration=T[T.length-1].duration),T.byteLength+=y.byteLength,T.nalCount+=y.length,T.duration+=y.duration,T.push(y),T},Lt=function(h){var p,v,y=[],T=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=h[0].pts,y.dts=h[0].dts,T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=h[0].pts,T.dts=h[0].dts,p=0;p<h.length;p++)v=h[p],v.keyFrame?(y.length&&(T.push(y),T.byteLength+=y.byteLength,T.nalCount+=y.nalCount,T.duration+=y.duration),y=[v],y.nalCount=v.length,y.byteLength=v.byteLength,y.pts=v.pts,y.dts=v.dts,y.duration=v.duration):(y.duration+=v.duration,y.nalCount+=v.length,y.byteLength+=v.byteLength,y.push(v));return T.length&&y.duration<=0&&(y.duration=T[T.length-1].duration),T.byteLength+=y.byteLength,T.nalCount+=y.nalCount,T.duration+=y.duration,T.push(y),T},Jt=function(h){var p;return!h[0][0].keyFrame&&h.length>1&&(p=h.shift(),h.byteLength-=p.byteLength,h.nalCount-=p.nalCount,h[0][0].dts=p.dts,h[0][0].pts=p.pts,h[0][0].duration+=p.duration),h},Ze=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},$e=function(h,p){var v=Ze();return v.dataOffset=p,v.compositionTimeOffset=h.pts-h.dts,v.duration=h.duration,v.size=4*h.length,v.size+=h.byteLength,h.keyFrame&&(v.flags.dependsOn=2,v.flags.isNonSyncSample=0),v},Ne=function(h,p){var v,y,T,C,j,z=p||0,H=[];for(v=0;v<h.length;v++)for(C=h[v],y=0;y<C.length;y++)j=C[y],T=$e(j,z),z+=T.size,H.push(T);return H},st=function(h){var p,v,y,T,C,j,z=0,H=h.byteLength,W=h.nalCount,Y=H+4*W,te=new Uint8Array(Y),be=new DataView(te.buffer);for(p=0;p<h.length;p++)for(T=h[p],v=0;v<T.length;v++)for(C=T[v],y=0;y<C.length;y++)j=C[y],be.setUint32(z,j.data.byteLength),z+=4,te.set(j.data,z),z+=j.data.byteLength;return te},gt=function(h,p){var v,y=p||0,T=[];return v=$e(h,y),T.push(v),T},gn=function(h){var p,v,y=0,T=h.byteLength,C=h.length,j=T+4*C,z=new Uint8Array(j),H=new DataView(z.buffer);for(p=0;p<h.length;p++)v=h[p],H.setUint32(y,v.data.byteLength),y+=4,z.set(v.data,y),y+=v.data.byteLength;return z},Fn={groupNalsIntoFrames:Qt,groupFramesIntoGops:Lt,extendFirstKeyFrame:Jt,generateSampleTable:Ne,concatenateNalData:st,generateSampleTableForFrame:gt,concatenateNalDataForFrame:gn},$t=[33,16,5,32,164,27],yn=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Fe=function(h){for(var p=[];h--;)p.push(0);return p},Tt=function(h){return Object.keys(h).reduce(function(p,v){return p[v]=new Uint8Array(h[v].reduce(function(y,T){return y.concat(T)},[])),p},{})},Gn,cn=function(){if(!Gn){var h={96e3:[$t,[227,64],Fe(154),[56]],88200:[$t,[231],Fe(170),[56]],64e3:[$t,[248,192],Fe(240),[56]],48e3:[$t,[255,192],Fe(268),[55,148,128],Fe(54),[112]],44100:[$t,[255,192],Fe(268),[55,163,128],Fe(84),[112]],32e3:[$t,[255,192],Fe(268),[55,234],Fe(226),[112]],24e3:[$t,[255,192],Fe(268),[55,255,128],Fe(268),[111,112],Fe(126),[224]],16e3:[$t,[255,192],Fe(268),[55,255,128],Fe(268),[111,255],Fe(269),[223,108],Fe(195),[1,192]],12e3:[yn,Fe(268),[3,127,248],Fe(268),[6,255,240],Fe(268),[13,255,224],Fe(268),[27,253,128],Fe(259),[56]],11025:[yn,Fe(268),[3,127,248],Fe(268),[6,255,240],Fe(268),[13,255,224],Fe(268),[27,255,192],Fe(268),[55,175,128],Fe(108),[112]],8e3:[yn,Fe(268),[3,121,16],Fe(47),[7]]};Gn=Tt(h)}return Gn},nt=9e4,Zt,yt,dt,We,Ee,Bn,gr;Zt=function(h){return h*nt},yt=function(h,p){return h*p},dt=function(h){return h/nt},We=function(h,p){return h/p},Ee=function(h,p){return Zt(We(h,p))},Bn=function(h,p){return yt(dt(h),p)},gr=function(h,p,v){return dt(v?h:h-p)};var et={ONE_SECOND_IN_TS:nt,secondsToVideoTs:Zt,secondsToAudioTs:yt,videoTsToSeconds:dt,audioTsToSeconds:We,audioTsToVideoTs:Ee,videoTsToAudioTs:Bn,metadataTsToSeconds:gr},we=cn,ut=et,Mt=function(h){var p,v,y=0;for(p=0;p<h.length;p++)v=h[p],y+=v.data.byteLength;return y},Yr=function(h,p,v,y){var T,C=0,j=0,z=0,H=0,W,Y,te;if(p.length&&(T=ut.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),C=Math.ceil(ut.ONE_SECOND_IN_TS/(h.samplerate/1024)),v&&y&&(j=T-Math.max(v,y),z=Math.floor(j/C),H=z*C),!(z<1||H>ut.ONE_SECOND_IN_TS/2))){for(W=we()[h.samplerate],W||(W=p[0].data),Y=0;Y<z;Y++)te=p[0],p.splice(0,0,{data:W,dts:te.dts-C,pts:te.pts-C});return h.baseMediaDecodeTime-=Math.floor(ut.videoTsToAudioTs(H,h.samplerate)),H}},$o=function(h,p,v){return p.minSegmentDts>=v?h:(p.minSegmentDts=1/0,h.filter(function(y){return y.dts>=v?(p.minSegmentDts=Math.min(p.minSegmentDts,y.dts),p.minSegmentPts=p.minSegmentDts,!0):!1}))},zo=function(h){var p,v,y=[];for(p=0;p<h.length;p++)v=h[p],y.push({size:v.data.byteLength,duration:1024});return y},Js=function(h){var p,v,y=0,T=new Uint8Array(Mt(h));for(p=0;p<h.length;p++)v=h[p],T.set(v.data,y),y+=v.data.byteLength;return T},tu={prefixWithSilence:Yr,trimAdtsFramesByEarliestDts:$o,generateSampleTable:zo,concatenateFrameData:Js},Gi=et.ONE_SECOND_IN_TS,vs=function(h,p){typeof p.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=p.pts),h.minSegmentPts===void 0?h.minSegmentPts=p.pts:h.minSegmentPts=Math.min(h.minSegmentPts,p.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=p.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,p.pts)),typeof p.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=p.dts),h.minSegmentDts===void 0?h.minSegmentDts=p.dts:h.minSegmentDts=Math.min(h.minSegmentDts,p.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=p.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,p.dts))},Zs=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},_s=function(h,p){var v,y,T=h.minSegmentDts;return p||(T-=h.timelineStartInfo.dts),v=h.timelineStartInfo.baseMediaDecodeTime,v+=T,v=Math.max(0,v),h.type==="audio"&&(y=h.samplerate/Gi,v*=y,v=Math.floor(v)),v},$a={clearDtsInfo:Zs,calculateTrackBaseMediaDecodeTime:_s,collectDtsInfo:vs},Ho=4,za=128,Ki=function(h){for(var p=0,v={payloadType:-1,payloadSize:0},y=0,T=0;p<h.byteLength&&h[p]!==za;){for(;h[p]===255;)y+=255,p++;for(y+=h[p++];h[p]===255;)T+=255,p++;if(T+=h[p++],!v.payload&&y===Ho){var C=String.fromCharCode(h[p+3],h[p+4],h[p+5],h[p+6]);if(C==="GA94"){v.payloadType=y,v.payloadSize=T,v.payload=h.subarray(p,p+T);break}else v.payload=void 0}p+=T,y=0,T=0}return v},eo=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},Rn=function(h,p){var v=[],y,T,C,j;if(!(p[0]&64))return v;for(T=p[0]&31,y=0;y<T;y++)C=y*3,j={type:p[C+2]&3,pts:h},p[C+2]&4&&(j.ccData=p[C+3]<<8|p[C+4],v.push(j));return v},nu=function(h){for(var p=h.byteLength,v=[],y=1,T,C;y<p-2;)h[y]===0&&h[y+1]===0&&h[y+2]===3?(v.push(y+2),y+=2):y++;if(v.length===0)return h;T=p-v.length,C=new Uint8Array(T);var j=0;for(y=0;y<T;j++,y++)j===v[0]&&(j++,v.shift()),C[y]=h[j];return C},K={parseSei:Ki,parseUserData:eo,parseCaptionPackets:Rn,discardEmulationPreventionBytes:nu,USER_DATA_REGISTERED_ITU_T_T35:Ho},X=n,Z=K,re=function(h){h=h||{},re.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ze(0,0),new ze(0,1),new ze(1,0),new ze(1,1)],this.parse708captions_&&(this.cc708Stream_=new me({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(p){p.on("data",this.trigger.bind(this,"data")),p.on("partialdone",this.trigger.bind(this,"partialdone")),p.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};re.prototype=new X,re.prototype.push=function(h){var p,v,y;if(h.nalUnitType==="sei_rbsp"&&(p=Z.parseSei(h.escapedRBSP),!!p.payload&&p.payloadType===Z.USER_DATA_REGISTERED_ITU_T_T35&&(v=Z.parseUserData(p),!!v))){if(h.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(h.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}y=Z.parseCaptionPackets(h.pts,v),this.captionPackets_=this.captionPackets_.concat(y),this.latestDts_!==h.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=h.dts}},re.prototype.flushCCStreams=function(h){this.ccStreams_.forEach(function(p){return h==="flush"?p.flush():p.partialFlush()},this)},re.prototype.flushStream=function(h){if(!this.captionPackets_.length){this.flushCCStreams(h);return}this.captionPackets_.forEach(function(p,v){p.presortIndex=v}),this.captionPackets_.sort(function(p,v){return p.pts===v.pts?p.presortIndex-v.presortIndex:p.pts-v.pts}),this.captionPackets_.forEach(function(p){p.type<2?this.dispatchCea608Packet(p):this.dispatchCea708Packet(p)},this),this.captionPackets_.length=0,this.flushCCStreams(h)},re.prototype.flush=function(){return this.flushStream("flush")},re.prototype.partialFlush=function(){return this.flushStream("partialFlush")},re.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(h){h.reset()})},re.prototype.dispatchCea608Packet=function(h){this.setsTextOrXDSActive(h)?this.activeCea608Channel_[h.type]=null:this.setsChannel1Active(h)?this.activeCea608Channel_[h.type]=0:this.setsChannel2Active(h)&&(this.activeCea608Channel_[h.type]=1),this.activeCea608Channel_[h.type]!==null&&this.ccStreams_[(h.type<<1)+this.activeCea608Channel_[h.type]].push(h)},re.prototype.setsChannel1Active=function(h){return(h.ccData&30720)===4096},re.prototype.setsChannel2Active=function(h){return(h.ccData&30720)===6144},re.prototype.setsTextOrXDSActive=function(h){return(h.ccData&28928)===256||(h.ccData&30974)===4138||(h.ccData&30974)===6186},re.prototype.dispatchCea708Packet=function(h){this.parse708captions_&&this.cc708Stream_.push(h)};var _e={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ce=function(h){var p=_e[h]||h;return h&4096&&h===p?"":String.fromCharCode(p)},Pe=function(h){return 32<=h&&h<=127||160<=h&&h<=255},de=function(h){this.windowNum=h,this.reset()};de.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},de.prototype.getText=function(){return this.rows.join(`
`)},de.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},de.prototype.newLine=function(h){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(h),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},de.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},de.prototype.addText=function(h){this.rows[this.rowIdx]+=h},de.prototype.backspace=function(){if(!this.isEmpty()){var h=this.rows[this.rowIdx];this.rows[this.rowIdx]=h.substr(0,h.length-1)}};var Be=function(h,p,v){this.serviceNum=h,this.text="",this.currentWindow=new de(-1),this.windows=[],this.stream=v,typeof p=="string"&&this.createTextDecoder(p)};Be.prototype.init=function(h,p){this.startPts=h;for(var v=0;v<8;v++)this.windows[v]=new de(v),typeof p=="function"&&(this.windows[v].beforeRowOverflow=p)},Be.prototype.setCurrentWindow=function(h){this.currentWindow=this.windows[h]},Be.prototype.createTextDecoder=function(h){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(h)}catch(p){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+h+" encoding. "+p})}};var me=function(h){h=h||{},me.prototype.init.call(this);var p=this,v=h.captionServices||{},y={},T;Object.keys(v).forEach(C=>{T=v[C],/^SERVICE/.test(C)&&(y[C]=T.encoding)}),this.serviceEncodings=y,this.current708Packet=null,this.services={},this.push=function(C){C.type===3?(p.new708Packet(),p.add708Bytes(C)):(p.current708Packet===null&&p.new708Packet(),p.add708Bytes(C))}};me.prototype=new X,me.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},me.prototype.add708Bytes=function(h){var p=h.ccData,v=p>>>8,y=p&255;this.current708Packet.ptsVals.push(h.pts),this.current708Packet.data.push(v),this.current708Packet.data.push(y)},me.prototype.push708Packet=function(){var h=this.current708Packet,p=h.data,v=null,y=null,T=0,C=p[T++];for(h.seq=C>>6,h.sizeCode=C&63;T<p.length;T++)C=p[T++],v=C>>5,y=C&31,v===7&&y>0&&(C=p[T++],v=C),this.pushServiceBlock(v,T,y),y>0&&(T+=y-1)},me.prototype.pushServiceBlock=function(h,p,v){var y,T=p,C=this.current708Packet.data,j=this.services[h];for(j||(j=this.initService(h,T));T<p+v&&T<C.length;T++)y=C[T],Pe(y)?T=this.handleText(T,j):y===24?T=this.multiByteCharacter(T,j):y===16?T=this.extendedCommands(T,j):128<=y&&y<=135?T=this.setCurrentWindow(T,j):152<=y&&y<=159?T=this.defineWindow(T,j):y===136?T=this.clearWindows(T,j):y===140?T=this.deleteWindows(T,j):y===137?T=this.displayWindows(T,j):y===138?T=this.hideWindows(T,j):y===139?T=this.toggleWindows(T,j):y===151?T=this.setWindowAttributes(T,j):y===144?T=this.setPenAttributes(T,j):y===145?T=this.setPenColor(T,j):y===146?T=this.setPenLocation(T,j):y===143?j=this.reset(T,j):y===8?j.currentWindow.backspace():y===12?j.currentWindow.clearText():y===13?j.currentWindow.pendingNewLine=!0:y===14?j.currentWindow.clearText():y===141&&T++},me.prototype.extendedCommands=function(h,p){var v=this.current708Packet.data,y=v[++h];return Pe(y)&&(h=this.handleText(h,p,{isExtended:!0})),h},me.prototype.getPts=function(h){return this.current708Packet.ptsVals[Math.floor(h/2)]},me.prototype.initService=function(h,p){var y="SERVICE"+h,v=this,y,T;return y in this.serviceEncodings&&(T=this.serviceEncodings[y]),this.services[h]=new Be(h,T,v),this.services[h].init(this.getPts(p),function(C){v.flushDisplayed(C,v.services[h])}),this.services[h]},me.prototype.handleText=function(h,p,v){var y=v&&v.isExtended,T=v&&v.isMultiByte,C=this.current708Packet.data,j=y?4096:0,z=C[h],H=C[h+1],W=p.currentWindow,Y,te;function be(ae){return ae.map(Oe=>("0"+(Oe&255).toString(16)).slice(-2)).join("")}if(T?(te=[z,H],h++):te=[z],p.textDecoder_&&!y)Y=p.textDecoder_.decode(new Uint8Array(te));else if(T){const ae=be(te);Y=String.fromCharCode(parseInt(ae,16))}else Y=Ce(j|z);return W.pendingNewLine&&!W.isEmpty()&&W.newLine(this.getPts(h)),W.pendingNewLine=!1,W.addText(Y),h},me.prototype.multiByteCharacter=function(h,p){var v=this.current708Packet.data,y=v[h+1],T=v[h+2];return Pe(y)&&Pe(T)&&(h=this.handleText(++h,p,{isMultiByte:!0})),h},me.prototype.setCurrentWindow=function(h,p){var v=this.current708Packet.data,y=v[h],T=y&7;return p.setCurrentWindow(T),h},me.prototype.defineWindow=function(h,p){var v=this.current708Packet.data,y=v[h],T=y&7;p.setCurrentWindow(T);var C=p.currentWindow;return y=v[++h],C.visible=(y&32)>>5,C.rowLock=(y&16)>>4,C.columnLock=(y&8)>>3,C.priority=y&7,y=v[++h],C.relativePositioning=(y&128)>>7,C.anchorVertical=y&127,y=v[++h],C.anchorHorizontal=y,y=v[++h],C.anchorPoint=(y&240)>>4,C.rowCount=y&15,y=v[++h],C.columnCount=y&63,y=v[++h],C.windowStyle=(y&56)>>3,C.penStyle=y&7,C.virtualRowCount=C.rowCount+1,h},me.prototype.setWindowAttributes=function(h,p){var v=this.current708Packet.data,y=v[h],T=p.currentWindow.winAttr;return y=v[++h],T.fillOpacity=(y&192)>>6,T.fillRed=(y&48)>>4,T.fillGreen=(y&12)>>2,T.fillBlue=y&3,y=v[++h],T.borderType=(y&192)>>6,T.borderRed=(y&48)>>4,T.borderGreen=(y&12)>>2,T.borderBlue=y&3,y=v[++h],T.borderType+=(y&128)>>5,T.wordWrap=(y&64)>>6,T.printDirection=(y&48)>>4,T.scrollDirection=(y&12)>>2,T.justify=y&3,y=v[++h],T.effectSpeed=(y&240)>>4,T.effectDirection=(y&12)>>2,T.displayEffect=y&3,h},me.prototype.flushDisplayed=function(h,p){for(var v=[],y=0;y<8;y++)p.windows[y].visible&&!p.windows[y].isEmpty()&&v.push(p.windows[y].getText());p.endPts=h,p.text=v.join(`

`),this.pushCaption(p),p.startPts=h},me.prototype.pushCaption=function(h){h.text!==""&&(this.trigger("data",{startPts:h.startPts,endPts:h.endPts,text:h.text,stream:"cc708_"+h.serviceNum}),h.text="",h.startPts=h.endPts)},me.prototype.displayWindows=function(h,p){var v=this.current708Packet.data,y=v[++h],T=this.getPts(h);this.flushDisplayed(T,p);for(var C=0;C<8;C++)y&1<<C&&(p.windows[C].visible=1);return h},me.prototype.hideWindows=function(h,p){var v=this.current708Packet.data,y=v[++h],T=this.getPts(h);this.flushDisplayed(T,p);for(var C=0;C<8;C++)y&1<<C&&(p.windows[C].visible=0);return h},me.prototype.toggleWindows=function(h,p){var v=this.current708Packet.data,y=v[++h],T=this.getPts(h);this.flushDisplayed(T,p);for(var C=0;C<8;C++)y&1<<C&&(p.windows[C].visible^=1);return h},me.prototype.clearWindows=function(h,p){var v=this.current708Packet.data,y=v[++h],T=this.getPts(h);this.flushDisplayed(T,p);for(var C=0;C<8;C++)y&1<<C&&p.windows[C].clearText();return h},me.prototype.deleteWindows=function(h,p){var v=this.current708Packet.data,y=v[++h],T=this.getPts(h);this.flushDisplayed(T,p);for(var C=0;C<8;C++)y&1<<C&&p.windows[C].reset();return h},me.prototype.setPenAttributes=function(h,p){var v=this.current708Packet.data,y=v[h],T=p.currentWindow.penAttr;return y=v[++h],T.textTag=(y&240)>>4,T.offset=(y&12)>>2,T.penSize=y&3,y=v[++h],T.italics=(y&128)>>7,T.underline=(y&64)>>6,T.edgeType=(y&56)>>3,T.fontStyle=y&7,h},me.prototype.setPenColor=function(h,p){var v=this.current708Packet.data,y=v[h],T=p.currentWindow.penColor;return y=v[++h],T.fgOpacity=(y&192)>>6,T.fgRed=(y&48)>>4,T.fgGreen=(y&12)>>2,T.fgBlue=y&3,y=v[++h],T.bgOpacity=(y&192)>>6,T.bgRed=(y&48)>>4,T.bgGreen=(y&12)>>2,T.bgBlue=y&3,y=v[++h],T.edgeRed=(y&48)>>4,T.edgeGreen=(y&12)>>2,T.edgeBlue=y&3,h},me.prototype.setPenLocation=function(h,p){var v=this.current708Packet.data,y=v[h],T=p.currentWindow.penLoc;return p.currentWindow.pendingNewLine=!0,y=v[++h],T.row=y&15,y=v[++h],T.column=y&63,h},me.prototype.reset=function(h,p){var v=this.getPts(h);return this.flushDisplayed(v,p),this.initService(p.serviceNum,h)};var Ae={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Xe=function(h){return h===null?"":(h=Ae[h]||h,String.fromCharCode(h))},tt=14,vt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ye=function(){for(var h=[],p=tt+1;p--;)h.push({text:"",indent:0,offset:0});return h},ze=function(h,p){ze.prototype.init.call(this),this.field_=h||0,this.dataChannel_=p||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(v){var y,T,C,j,z;if(y=v.ccData&32639,y===this.lastControlCode_){this.lastControlCode_=null;return}if((y&61440)===4096?this.lastControlCode_=y:y!==this.PADDING_&&(this.lastControlCode_=null),C=y>>>8,j=y&255,y!==this.PADDING_)if(y===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(y===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(v.pts),this.flushDisplayed(v.pts),T=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=T,this.startPts_=v.pts;else if(y===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(v.pts);else if(y===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(v.pts);else if(y===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(v.pts);else if(y===this.CARRIAGE_RETURN_)this.clearFormatting(v.pts),this.flushDisplayed(v.pts),this.shiftRowsUp_(),this.startPts_=v.pts;else if(y===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(y===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(v.pts),this.displayed_=Ye();else if(y===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ye();else if(y===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(v.pts),this.displayed_=Ye()),this.mode_="paintOn",this.startPts_=v.pts;else if(this.isSpecialCharacter(C,j))C=(C&3)<<8,z=Xe(C|j),this[this.mode_](v.pts,z),this.column_++;else if(this.isExtCharacter(C,j))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),C=(C&3)<<8,z=Xe(C|j),this[this.mode_](v.pts,z),this.column_++;else if(this.isMidRowCode(C,j))this.clearFormatting(v.pts),this[this.mode_](v.pts," "),this.column_++,(j&14)===14&&this.addFormatting(v.pts,["i"]),(j&1)===1&&this.addFormatting(v.pts,["u"]);else if(this.isOffsetControlCode(C,j)){const W=j&3;this.nonDisplayed_[this.row_].offset=W,this.column_+=W}else if(this.isPAC(C,j)){var H=vt.indexOf(y&7968);if(this.mode_==="rollUp"&&(H-this.rollUpRows_+1<0&&(H=this.rollUpRows_-1),this.setRollUp(v.pts,H)),H!==this.row_&&H>=0&&H<=14&&(this.clearFormatting(v.pts),this.row_=H),j&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(v.pts,["u"]),(y&16)===16){const W=(y&14)>>1;this.column_=W*4,this.nonDisplayed_[this.row_].indent+=W}this.isColorPAC(j)&&(j&14)===14&&this.addFormatting(v.pts,["i"])}else this.isNormalChar(C)&&(j===0&&(j=null),z=Xe(C),z+=Xe(j),this[this.mode_](v.pts,z),this.column_+=z.length)}};ze.prototype=new X,ze.prototype.flushDisplayed=function(h){const p=y=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+y+"."})},v=[];this.displayed_.forEach((y,T)=>{if(y&&y.text&&y.text.length){try{y.text=y.text.trim()}catch{p(T)}y.text.length&&v.push({text:y.text,line:T+1,position:10+Math.min(70,y.indent*10)+y.offset*2.5})}else y==null&&p(T)}),v.length&&this.trigger("data",{startPts:this.startPts_,endPts:h,content:v,stream:this.name_})},ze.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ye(),this.nonDisplayed_=Ye(),this.lastControlCode_=null,this.column_=0,this.row_=tt,this.rollUpRows_=2,this.formatting_=[]},ze.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},ze.prototype.isSpecialCharacter=function(h,p){return h===this.EXT_&&p>=48&&p<=63},ze.prototype.isExtCharacter=function(h,p){return(h===this.EXT_+1||h===this.EXT_+2)&&p>=32&&p<=63},ze.prototype.isMidRowCode=function(h,p){return h===this.EXT_&&p>=32&&p<=47},ze.prototype.isOffsetControlCode=function(h,p){return h===this.OFFSET_&&p>=33&&p<=35},ze.prototype.isPAC=function(h,p){return h>=this.BASE_&&h<this.BASE_+8&&p>=64&&p<=127},ze.prototype.isColorPAC=function(h){return h>=64&&h<=79||h>=96&&h<=127},ze.prototype.isNormalChar=function(h){return h>=32&&h<=127},ze.prototype.setRollUp=function(h,p){if(this.mode_!=="rollUp"&&(this.row_=tt,this.mode_="rollUp",this.flushDisplayed(h),this.nonDisplayed_=Ye(),this.displayed_=Ye()),p!==void 0&&p!==this.row_)for(var v=0;v<this.rollUpRows_;v++)this.displayed_[p-v]=this.displayed_[this.row_-v],this.displayed_[this.row_-v]={text:"",indent:0,offset:0};p===void 0&&(p=this.row_),this.topRow_=p-this.rollUpRows_+1},ze.prototype.addFormatting=function(h,p){this.formatting_=this.formatting_.concat(p);var v=p.reduce(function(y,T){return y+"<"+T+">"},"");this[this.mode_](h,v)},ze.prototype.clearFormatting=function(h){if(this.formatting_.length){var p=this.formatting_.reverse().reduce(function(v,y){return v+"</"+y+">"},"");this.formatting_=[],this[this.mode_](h,p)}},ze.prototype.popOn=function(h,p){var v=this.nonDisplayed_[this.row_].text;v+=p,this.nonDisplayed_[this.row_].text=v},ze.prototype.rollUp=function(h,p){var v=this.displayed_[this.row_].text;v+=p,this.displayed_[this.row_].text=v},ze.prototype.shiftRowsUp_=function(){var h;for(h=0;h<this.topRow_;h++)this.displayed_[h]={text:"",indent:0,offset:0};for(h=this.row_+1;h<tt+1;h++)this.displayed_[h]={text:"",indent:0,offset:0};for(h=this.topRow_;h<this.row_;h++)this.displayed_[h]=this.displayed_[h+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},ze.prototype.paintOn=function(h,p){var v=this.displayed_[this.row_].text;v+=p,this.displayed_[this.row_].text=v};var Ft={CaptionStream:re,Cea608Stream:ze,Cea708Stream:me},Qr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ti=n,Jr=8589934592,Xi=4294967296,Zr="shared",Cn=function(h,p){var v=1;for(h>p&&(v=-1);Math.abs(p-h)>Xi;)h+=v*Jr;return h},nr=function(h){var p,v;nr.prototype.init.call(this),this.type_=h||Zr,this.push=function(y){if(y.type==="metadata"){this.trigger("data",y);return}this.type_!==Zr&&y.type!==this.type_||(v===void 0&&(v=y.dts),y.dts=Cn(y.dts,v),y.pts=Cn(y.pts,v),p=y.dts,this.trigger("data",y))},this.flush=function(){v=p,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){v=void 0,p=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};nr.prototype=new Ti;var Yi={TimestampRolloverStream:nr,handleRollover:Cn},Vo=(h,p,v)=>{if(!h)return-1;for(var y=v;y<h.length;y++)if(h[y]===p)return y;return-1},Ge={typedArrayIndexOf:Vo},xt=Ge.typedArrayIndexOf,vn={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},pt=function(h,p,v){var y,T="";for(y=p;y<v;y++)T+="%"+("00"+h[y].toString(16)).slice(-2);return T},On=function(h,p,v){return decodeURIComponent(pt(h,p,v))},Qi=function(h,p,v){return unescape(pt(h,p,v))},bs=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},Ha={APIC:function(h){var p=1,v,y,T="-->";h.data[0]===vn.Utf8&&(v=xt(h.data,0,p),!(v<0)&&(h.mimeType=Qi(h.data,p,v),p=v+1,h.pictureType=h.data[p],p++,y=xt(h.data,0,p),!(y<0)&&(h.description=On(h.data,p,y),p=y+1,h.mimeType===T?h.url=Qi(h.data,p,h.data.length):h.pictureData=h.data.subarray(p,h.data.length))))},"T*":function(h){h.data[0]===vn.Utf8&&(h.value=On(h.data,1,h.data.length).replace(/\0*$/,""),h.values=h.value.split("\0"))},TXXX:function(h){var p;h.data[0]===vn.Utf8&&(p=xt(h.data,0,1),p!==-1&&(h.description=On(h.data,1,p),h.value=On(h.data,p+1,h.data.length).replace(/\0*$/,""),h.data=h.value))},"W*":function(h){h.url=Qi(h.data,0,h.data.length).replace(/\0.*$/,"")},WXXX:function(h){var p;h.data[0]===vn.Utf8&&(p=xt(h.data,0,1),p!==-1&&(h.description=On(h.data,1,p),h.url=Qi(h.data,p+1,h.data.length).replace(/\0.*$/,"")))},PRIV:function(h){var p;for(p=0;p<h.data.length;p++)if(h.data[p]===0){h.owner=Qi(h.data,0,p);break}h.privateData=h.data.subarray(p+1),h.data=h.privateData}},Yy=function(h){var p,v,y=10,T=0,C=[];if(!(h.length<10||h[0]!==73||h[1]!==68||h[2]!==51)){T=bs(h.subarray(6,10)),T+=10;var j=h[5]&64;j&&(y+=4,y+=bs(h.subarray(10,14)),T-=bs(h.subarray(16,20)));do{if(p=bs(h.subarray(y+4,y+8)),p<1)break;v=String.fromCharCode(h[y],h[y+1],h[y+2],h[y+3]);var z={id:v,data:h.subarray(y+10,y+p+10)};z.key=z.id,Ha[z.id]?Ha[z.id](z):z.id[0]==="T"?Ha["T*"](z):z.id[0]==="W"&&Ha["W*"](z),C.push(z),y+=10,y+=p}while(y<T);return C}},gd={parseId3Frames:Yy,parseSyncSafeInteger:bs,frameParsers:Ha},tp=n,Qy=Qr,rr=gd,Pr;Pr=function(h){var p={descriptor:h&&h.descriptor},v=0,y=[],T=0,C;if(Pr.prototype.init.call(this),this.dispatchType=Qy.METADATA_STREAM_TYPE.toString(16),p.descriptor)for(C=0;C<p.descriptor.length;C++)this.dispatchType+=("00"+p.descriptor[C].toString(16)).slice(-2);this.push=function(j){var z,H,W,Y,te,be;if(j.type==="timed-metadata"){if(j.dataAlignmentIndicator&&(T=0,y.length=0),y.length===0&&(j.data.length<10||j.data[0]!==73||j.data[1]!==68||j.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(y.push(j),T+=j.data.byteLength,y.length===1&&(v=rr.parseSyncSafeInteger(j.data.subarray(6,10)),v+=10),!(T<v)){for(z={data:new Uint8Array(v),frames:[],pts:y[0].pts,dts:y[0].dts},te=0;te<v;)z.data.set(y[0].data.subarray(0,v-te),te),te+=y[0].data.byteLength,T-=y[0].data.byteLength,y.shift();H=10,z.data[5]&64&&(H+=4,H+=rr.parseSyncSafeInteger(z.data.subarray(10,14)),v-=rr.parseSyncSafeInteger(z.data.subarray(16,20)));do{if(W=rr.parseSyncSafeInteger(z.data.subarray(H+4,H+8)),W<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(be=String.fromCharCode(z.data[H],z.data[H+1],z.data[H+2],z.data[H+3]),Y={id:be,data:z.data.subarray(H+10,H+W+10)},Y.key=Y.id,rr.frameParsers[Y.id]?rr.frameParsers[Y.id](Y):Y.id[0]==="T"?rr.frameParsers["T*"](Y):Y.id[0]==="W"&&rr.frameParsers["W*"](Y),Y.owner==="com.apple.streaming.transportStreamTimestamp"){var ae=Y.data,Oe=(ae[3]&1)<<30|ae[4]<<22|ae[5]<<14|ae[6]<<6|ae[7]>>>2;Oe*=4,Oe+=ae[7]&3,Y.timeStamp=Oe,z.pts===void 0&&z.dts===void 0&&(z.pts=Y.timeStamp,z.dts=Y.timeStamp),this.trigger("timestamp",Y)}z.frames.push(Y),H+=10,H+=W}while(H<v);this.trigger("data",z)}}}},Pr.prototype=new tp;var ru=Pr,qo=n,iu=Ft,ot=Qr,su=Yi.TimestampRolloverStream,Ts,Ji,ou,to=188,yd=71;Ts=function(){var h=new Uint8Array(to),p=0;Ts.prototype.init.call(this),this.push=function(v){var y=0,T=to,C;for(p?(C=new Uint8Array(v.byteLength+p),C.set(h.subarray(0,p)),C.set(v,p),p=0):C=v;T<C.byteLength;){if(C[y]===yd&&C[T]===yd){this.trigger("data",C.subarray(y,T)),y+=to,T+=to;continue}y++,T++}y<C.byteLength&&(h.set(C.subarray(y),0),p=C.byteLength-y)},this.flush=function(){p===to&&h[0]===yd&&(this.trigger("data",h),p=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){p=0,this.trigger("reset")}},Ts.prototype=new qo,Ji=function(){var h,p,v,y;Ji.prototype.init.call(this),y=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(T,C){var j=0;C.payloadUnitStartIndicator&&(j+=T[j]+1),C.type==="pat"?p(T.subarray(j),C):v(T.subarray(j),C)},p=function(T,C){C.section_number=T[7],C.last_section_number=T[8],y.pmtPid=(T[10]&31)<<8|T[11],C.pmtPid=y.pmtPid},v=function(T,C){var j,z,H,W;if(T[5]&1){for(y.programMapTable={video:null,audio:null,"timed-metadata":{}},j=(T[1]&15)<<8|T[2],z=3+j-4,H=(T[10]&15)<<8|T[11],W=12+H;W<z;){var Y=T[W],te=(T[W+1]&31)<<8|T[W+2];Y===ot.H264_STREAM_TYPE&&y.programMapTable.video===null?y.programMapTable.video=te:Y===ot.ADTS_STREAM_TYPE&&y.programMapTable.audio===null?y.programMapTable.audio=te:Y===ot.METADATA_STREAM_TYPE&&(y.programMapTable["timed-metadata"][te]=Y),W+=((T[W+3]&15)<<8|T[W+4])+5}C.programMapTable=y.programMapTable}},this.push=function(T){var C={},j=4;if(C.payloadUnitStartIndicator=!!(T[1]&64),C.pid=T[1]&31,C.pid<<=8,C.pid|=T[2],(T[3]&48)>>>4>1&&(j+=T[j]+1),C.pid===0)C.type="pat",h(T.subarray(j),C),this.trigger("data",C);else if(C.pid===this.pmtPid)for(C.type="pmt",h(T.subarray(j),C),this.trigger("data",C);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([T,j,C]):this.processPes_(T,j,C)},this.processPes_=function(T,C,j){j.pid===this.programMapTable.video?j.streamType=ot.H264_STREAM_TYPE:j.pid===this.programMapTable.audio?j.streamType=ot.ADTS_STREAM_TYPE:j.streamType=this.programMapTable["timed-metadata"][j.pid],j.type="pes",j.data=T.subarray(C),this.trigger("data",j)}},Ji.prototype=new qo,Ji.STREAM_TYPES={h264:27,adts:15},ou=function(){var h=this,p=!1,v={data:[],size:0},y={data:[],size:0},T={data:[],size:0},C,j=function(H,W){var Y;const te=H[0]<<16|H[1]<<8|H[2];W.data=new Uint8Array,te===1&&(W.packetLength=6+(H[4]<<8|H[5]),W.dataAlignmentIndicator=(H[6]&4)!==0,Y=H[7],Y&192&&(W.pts=(H[9]&14)<<27|(H[10]&255)<<20|(H[11]&254)<<12|(H[12]&255)<<5|(H[13]&254)>>>3,W.pts*=4,W.pts+=(H[13]&6)>>>1,W.dts=W.pts,Y&64&&(W.dts=(H[14]&14)<<27|(H[15]&255)<<20|(H[16]&254)<<12|(H[17]&255)<<5|(H[18]&254)>>>3,W.dts*=4,W.dts+=(H[18]&6)>>>1)),W.data=H.subarray(9+H[8]))},z=function(H,W,Y){var te=new Uint8Array(H.size),be={type:W},ae=0,Oe=0,He=!1,Ln;if(!(!H.data.length||H.size<9)){for(be.trackId=H.data[0].pid,ae=0;ae<H.data.length;ae++)Ln=H.data[ae],te.set(Ln.data,Oe),Oe+=Ln.data.byteLength;j(te,be),He=W==="video"||be.packetLength<=H.size,(Y||He)&&(H.size=0,H.data.length=0),He&&h.trigger("data",be)}};ou.prototype.init.call(this),this.push=function(H){({pat:function(){},pes:function(){var W,Y;switch(H.streamType){case ot.H264_STREAM_TYPE:W=v,Y="video";break;case ot.ADTS_STREAM_TYPE:W=y,Y="audio";break;case ot.METADATA_STREAM_TYPE:W=T,Y="timed-metadata";break;default:return}H.payloadUnitStartIndicator&&z(W,Y,!0),W.data.push(H),W.size+=H.data.byteLength},pmt:function(){var W={type:"metadata",tracks:[]};C=H.programMapTable,C.video!==null&&W.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.video,codec:"avc",type:"video"}),C.audio!==null&&W.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.audio,codec:"adts",type:"audio"}),p=!0,h.trigger("data",W)}})[H.type]()},this.reset=function(){v.size=0,v.data.length=0,y.size=0,y.data.length=0,this.trigger("reset")},this.flushStreams_=function(){z(v,"video"),z(y,"audio"),z(T,"timed-metadata")},this.flush=function(){if(!p&&C){var H={type:"metadata",tracks:[]};C.video!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.video,codec:"avc",type:"video"}),C.audio!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.audio,codec:"adts",type:"audio"}),h.trigger("data",H)}p=!1,this.flushStreams_(),this.trigger("done")}},ou.prototype=new qo;var np={PAT_PID:0,MP2T_PACKET_LENGTH:to,TransportPacketStream:Ts,TransportParseStream:Ji,ElementaryStream:ou,TimestampRolloverStream:su,CaptionStream:iu.CaptionStream,Cea608Stream:iu.Cea608Stream,Cea708Stream:iu.Cea708Stream,MetadataStream:ru};for(var vd in ot)ot.hasOwnProperty(vd)&&(np[vd]=ot[vd]);var Jy=np,Va=n,xs=et.ONE_SECOND_IN_TS,qa,_d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];qa=function(h){var p,v=0;qa.prototype.init.call(this),this.skipWarn_=function(y,T){this.trigger("log",{level:"warn",message:`adts skiping bytes ${y} to ${T} in frame ${v} outside syncword`})},this.push=function(y){var T=0,C,j,z,H,W;if(h||(v=0),y.type==="audio"){p&&p.length?(z=p,p=new Uint8Array(z.byteLength+y.data.byteLength),p.set(z),p.set(y.data,z.byteLength)):p=y.data;for(var Y;T+7<p.length;){if(p[T]!==255||(p[T+1]&246)!==240){typeof Y!="number"&&(Y=T),T++;continue}if(typeof Y=="number"&&(this.skipWarn_(Y,T),Y=null),j=(~p[T+1]&1)*2,C=(p[T+3]&3)<<11|p[T+4]<<3|(p[T+5]&224)>>5,H=((p[T+6]&3)+1)*1024,W=H*xs/_d[(p[T+2]&60)>>>2],p.byteLength-T<C)break;this.trigger("data",{pts:y.pts+v*W,dts:y.dts+v*W,sampleCount:H,audioobjecttype:(p[T+2]>>>6&3)+1,channelcount:(p[T+2]&1)<<2|(p[T+3]&192)>>>6,samplerate:_d[(p[T+2]&60)>>>2],samplingfrequencyindex:(p[T+2]&60)>>>2,samplesize:16,data:p.subarray(T+7+j,T+C)}),v++,T+=C}typeof Y=="number"&&(this.skipWarn_(Y,T),Y=null),p=p.subarray(T)}},this.flush=function(){v=0,this.trigger("done")},this.reset=function(){p=void 0,this.trigger("reset")},this.endTimeline=function(){p=void 0,this.trigger("endedtimeline")}},qa.prototype=new Va;var rp=qa,no;no=function(h){var p=h.byteLength,v=0,y=0;this.length=function(){return 8*p},this.bitsAvailable=function(){return 8*p+y},this.loadWord=function(){var T=h.byteLength-p,C=new Uint8Array(4),j=Math.min(4,p);if(j===0)throw new Error("no bytes available");C.set(h.subarray(T,T+j)),v=new DataView(C.buffer).getUint32(0),y=j*8,p-=j},this.skipBits=function(T){var C;y>T?(v<<=T,y-=T):(T-=y,C=Math.floor(T/8),T-=C*8,p-=C,this.loadWord(),v<<=T,y-=T)},this.readBits=function(T){var C=Math.min(y,T),j=v>>>32-C;return y-=C,y>0?v<<=C:p>0&&this.loadWord(),C=T-C,C>0?j<<C|this.readBits(C):j},this.skipLeadingZeros=function(){var T;for(T=0;T<y;++T)if(v&2147483648>>>T)return v<<=T,y-=T,T;return this.loadWord(),T+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var T=this.skipLeadingZeros();return this.readBits(T+1)-1},this.readExpGolomb=function(){var T=this.readUnsignedExpGolomb();return 1&T?1+T>>>1:-1*(T>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Zy=no,ip=n,ev=Zy,ei,Wa,sp;Wa=function(){var h=0,p,v;Wa.prototype.init.call(this),this.push=function(y){var T;v?(T=new Uint8Array(v.byteLength+y.data.byteLength),T.set(v),T.set(y.data,v.byteLength),v=T):v=y.data;for(var C=v.byteLength;h<C-3;h++)if(v[h+2]===1){p=h+5;break}for(;p<C;)switch(v[p]){case 0:if(v[p-1]!==0){p+=2;break}else if(v[p-2]!==0){p++;break}h+3!==p-2&&this.trigger("data",v.subarray(h+3,p-2));do p++;while(v[p]!==1&&p<C);h=p-2,p+=3;break;case 1:if(v[p-1]!==0||v[p-2]!==0){p+=3;break}this.trigger("data",v.subarray(h+3,p-2)),h=p-2,p+=3;break;default:p+=3;break}v=v.subarray(h),p-=h,h=0},this.reset=function(){v=null,h=0,this.trigger("reset")},this.flush=function(){v&&v.byteLength>3&&this.trigger("data",v.subarray(h+3)),v=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Wa.prototype=new ip,sp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ei=function(){var h=new Wa,p,v,y,T,C,j,z;ei.prototype.init.call(this),p=this,this.push=function(H){H.type==="video"&&(v=H.trackId,y=H.pts,T=H.dts,h.push(H))},h.on("data",function(H){var W={trackId:v,pts:y,dts:T,data:H,nalUnitTypeCode:H[0]&31};switch(W.nalUnitTypeCode){case 5:W.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:W.nalUnitType="sei_rbsp",W.escapedRBSP=C(H.subarray(1));break;case 7:W.nalUnitType="seq_parameter_set_rbsp",W.escapedRBSP=C(H.subarray(1)),W.config=j(W.escapedRBSP);break;case 8:W.nalUnitType="pic_parameter_set_rbsp";break;case 9:W.nalUnitType="access_unit_delimiter_rbsp";break}p.trigger("data",W)}),h.on("done",function(){p.trigger("done")}),h.on("partialdone",function(){p.trigger("partialdone")}),h.on("reset",function(){p.trigger("reset")}),h.on("endedtimeline",function(){p.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},z=function(H,W){var Y=8,te=8,be,ae;for(be=0;be<H;be++)te!==0&&(ae=W.readExpGolomb(),te=(Y+ae+256)%256),Y=te===0?Y:te},C=function(H){for(var W=H.byteLength,Y=[],te=1,be,ae;te<W-2;)H[te]===0&&H[te+1]===0&&H[te+2]===3?(Y.push(te+2),te+=2):te++;if(Y.length===0)return H;be=W-Y.length,ae=new Uint8Array(be);var Oe=0;for(te=0;te<be;Oe++,te++)Oe===Y[0]&&(Oe++,Y.shift()),ae[te]=H[Oe];return ae},j=function(H){var W=0,Y=0,te=0,be=0,ae,Oe,He,Ln,xi,Ja,jS,$S,zS,cv,HS,bn=[1,1],VS,Za;if(ae=new ev(H),Oe=ae.readUnsignedByte(),Ln=ae.readUnsignedByte(),He=ae.readUnsignedByte(),ae.skipUnsignedExpGolomb(),sp[Oe]&&(xi=ae.readUnsignedExpGolomb(),xi===3&&ae.skipBits(1),ae.skipUnsignedExpGolomb(),ae.skipUnsignedExpGolomb(),ae.skipBits(1),ae.readBoolean()))for(HS=xi!==3?8:12,Za=0;Za<HS;Za++)ae.readBoolean()&&(Za<6?z(16,ae):z(64,ae));if(ae.skipUnsignedExpGolomb(),Ja=ae.readUnsignedExpGolomb(),Ja===0)ae.readUnsignedExpGolomb();else if(Ja===1)for(ae.skipBits(1),ae.skipExpGolomb(),ae.skipExpGolomb(),jS=ae.readUnsignedExpGolomb(),Za=0;Za<jS;Za++)ae.skipExpGolomb();if(ae.skipUnsignedExpGolomb(),ae.skipBits(1),$S=ae.readUnsignedExpGolomb(),zS=ae.readUnsignedExpGolomb(),cv=ae.readBits(1),cv===0&&ae.skipBits(1),ae.skipBits(1),ae.readBoolean()&&(W=ae.readUnsignedExpGolomb(),Y=ae.readUnsignedExpGolomb(),te=ae.readUnsignedExpGolomb(),be=ae.readUnsignedExpGolomb()),ae.readBoolean()&&ae.readBoolean()){switch(VS=ae.readUnsignedByte(),VS){case 1:bn=[1,1];break;case 2:bn=[12,11];break;case 3:bn=[10,11];break;case 4:bn=[16,11];break;case 5:bn=[40,33];break;case 6:bn=[24,11];break;case 7:bn=[20,11];break;case 8:bn=[32,11];break;case 9:bn=[80,33];break;case 10:bn=[18,11];break;case 11:bn=[15,11];break;case 12:bn=[64,33];break;case 13:bn=[160,99];break;case 14:bn=[4,3];break;case 15:bn=[3,2];break;case 16:bn=[2,1];break;case 255:{bn=[ae.readUnsignedByte()<<8|ae.readUnsignedByte(),ae.readUnsignedByte()<<8|ae.readUnsignedByte()];break}}bn&&bn[0]/bn[1]}return{profileIdc:Oe,levelIdc:He,profileCompatibility:Ln,width:($S+1)*16-W*2-Y*2,height:(2-cv)*(zS+1)*16-te*2-be*2,sarRatio:bn}}},ei.prototype=new ip;var au={H264Stream:ei,NalByteStream:Wa},lu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],bd=function(h,p){var v=h[p+6]<<21|h[p+7]<<14|h[p+8]<<7|h[p+9],y=h[p+5],T=(y&16)>>4;return v=v>=0?v:0,T?v+20:v+10},Wo=function(h,p){return h.length-p<10||h[p]!==73||h[p+1]!==68||h[p+2]!==51?p:(p+=bd(h,p),Wo(h,p))},Ga=function(h){var p=Wo(h,0);return h.length>=p+2&&(h[p]&255)===255&&(h[p+1]&240)===240&&(h[p+1]&22)===16},Td=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},xd=function(h,p,v){var y,T="";for(y=p;y<v;y++)T+="%"+("00"+h[y].toString(16)).slice(-2);return T},en=function(h,p,v){return unescape(xd(h,p,v))},tv=function(h,p){var v=(h[p+5]&224)>>5,y=h[p+4]<<3,T=h[p+3]&6144;return T|y|v},nv=function(h,p){return h[p]===73&&h[p+1]===68&&h[p+2]===51?"timed-metadata":h[p]&!0&&(h[p+1]&240)===240?"audio":null},op=function(h){for(var p=0;p+5<h.length;){if(h[p]!==255||(h[p+1]&246)!==240){p++;continue}return lu[(h[p+2]&60)>>>2]}return null},ap=function(h){var p,v,y,T;p=10,h[5]&64&&(p+=4,p+=Td(h.subarray(10,14)));do{if(v=Td(h.subarray(p+4,p+8)),v<1)return null;if(T=String.fromCharCode(h[p],h[p+1],h[p+2],h[p+3]),T==="PRIV"){y=h.subarray(p+10,p+v+10);for(var C=0;C<y.byteLength;C++)if(y[C]===0){var j=en(y,0,C);if(j==="com.apple.streaming.transportStreamTimestamp"){var z=y.subarray(C+1),H=(z[3]&1)<<30|z[4]<<22|z[5]<<14|z[6]<<6|z[7]>>>2;return H*=4,H+=z[7]&3,H}break}}p+=10,p+=v}while(p<h.byteLength);return null},uu={isLikelyAacData:Ga,parseId3TagSize:bd,parseAdtsSize:tv,parseType:nv,parseSampleRate:op,parseAacTimestamp:ap},cu=n,Sd=uu,Rr;Rr=function(){var h=new Uint8Array,p=0;Rr.prototype.init.call(this),this.setTimestamp=function(v){p=v},this.push=function(v){var y=0,T=0,C,j,z,H;for(h.length?(H=h.length,h=new Uint8Array(v.byteLength+H),h.set(h.subarray(0,H)),h.set(v,H)):h=v;h.length-T>=3;){if(h[T]===73&&h[T+1]===68&&h[T+2]===51){if(h.length-T<10||(y=Sd.parseId3TagSize(h,T),T+y>h.length))break;j={type:"timed-metadata",data:h.subarray(T,T+y)},this.trigger("data",j),T+=y;continue}else if((h[T]&255)===255&&(h[T+1]&240)===240){if(h.length-T<7||(y=Sd.parseAdtsSize(h,T),T+y>h.length))break;z={type:"audio",data:h.subarray(T,T+y),pts:p,dts:p},this.trigger("data",z),T+=y;continue}T++}C=h.length-T,C>0?h=h.subarray(T):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},Rr.prototype=new cu;var lp=Rr,rv=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ka=rv,up=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ed=up,ro=n,Go=Pt,Ss=Fn,du=tu,Or=$a,yr=Jy,Xa=et,wd=rp,Cd=au.H264Stream,Ad=lp,cp=uu.isLikelyAacData,hu=et.ONE_SECOND_IN_TS,fu=Ka,pu=Ed,ti,io,Ya,Es,dp=function(h,p){p.stream=h,this.trigger("log",p)},vr=function(h,p){for(var v=Object.keys(p),y=0;y<v.length;y++){var T=v[y];T==="headOfPipeline"||!p[T].on||p[T].on("log",dp.bind(h,T))}},Id=function(h,p){var v;if(h.length!==p.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==p[v])return!1;return!0},mu=function(h,p,v,y,T,C){var j=v-p,z=y-p,H=T-v;return{start:{dts:h,pts:h+j},end:{dts:h+z,pts:h+H},prependedContentDuration:C,baseMediaDecodeTime:h}};io=function(h,p){var v=[],y,T=0,C=0,j=1/0;p=p||{},y=p.firstSequenceNumber||0,io.prototype.init.call(this),this.push=function(z){Or.collectDtsInfo(h,z),h&&fu.forEach(function(H){h[H]=z[H]}),v.push(z)},this.setEarliestDts=function(z){T=z},this.setVideoBaseMediaDecodeTime=function(z){j=z},this.setAudioAppendStart=function(z){C=z},this.flush=function(){var z,H,W,Y,te,be,ae;if(v.length===0){this.trigger("done","AudioSegmentStream");return}z=du.trimAdtsFramesByEarliestDts(v,h,T),h.baseMediaDecodeTime=Or.calculateTrackBaseMediaDecodeTime(h,p.keepOriginalTimestamps),ae=du.prefixWithSilence(h,z,C,j),h.samples=du.generateSampleTable(z),W=Go.mdat(du.concatenateFrameData(z)),v=[],H=Go.moof(y,[h]),Y=new Uint8Array(H.byteLength+W.byteLength),y++,Y.set(H),Y.set(W,H.byteLength),Or.clearDtsInfo(h),te=Math.ceil(hu*1024/h.samplerate),z.length&&(be=z.length*te,this.trigger("segmentTimingInfo",mu(Xa.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),z[0].dts,z[0].pts,z[0].dts+be,z[0].pts+be,ae||0)),this.trigger("timingInfo",{start:z[0].pts,end:z[0].pts+be})),this.trigger("data",{track:h,boxes:Y}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Or.clearDtsInfo(h),v=[],this.trigger("reset")}},io.prototype=new ro,ti=function(h,p){var v,y=[],T=[],C,j;p=p||{},v=p.firstSequenceNumber||0,ti.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(z){Or.collectDtsInfo(h,z),z.nalUnitType==="seq_parameter_set_rbsp"&&!C&&(C=z.config,h.sps=[z.data],pu.forEach(function(H){h[H]=C[H]},this)),z.nalUnitType==="pic_parameter_set_rbsp"&&!j&&(j=z.data,h.pps=[z.data]),y.push(z)},this.flush=function(){for(var z,H,W,Y,te,be,ae=0,Oe,He;y.length&&y[0].nalUnitType!=="access_unit_delimiter_rbsp";)y.shift();if(y.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(z=Ss.groupNalsIntoFrames(y),W=Ss.groupFramesIntoGops(z),W[0][0].keyFrame||(H=this.getGopForFusion_(y[0],h),H?(ae=H.duration,W.unshift(H),W.byteLength+=H.byteLength,W.nalCount+=H.nalCount,W.pts=H.pts,W.dts=H.dts,W.duration+=H.duration):W=Ss.extendFirstKeyFrame(W)),T.length){var Ln;if(p.alignGopsAtEnd?Ln=this.alignGopsAtEnd_(W):Ln=this.alignGopsAtStart_(W),!Ln){this.gopCache_.unshift({gop:W.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),y=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Or.clearDtsInfo(h),W=Ln}Or.collectDtsInfo(h,W),h.samples=Ss.generateSampleTable(W),te=Go.mdat(Ss.concatenateNalData(W)),h.baseMediaDecodeTime=Or.calculateTrackBaseMediaDecodeTime(h,p.keepOriginalTimestamps),this.trigger("processedGopsInfo",W.map(function(xi){return{pts:xi.pts,dts:xi.dts,byteLength:xi.byteLength}})),Oe=W[0],He=W[W.length-1],this.trigger("segmentTimingInfo",mu(h.baseMediaDecodeTime,Oe.dts,Oe.pts,He.dts+He.duration,He.pts+He.duration,ae)),this.trigger("timingInfo",{start:W[0].pts,end:W[W.length-1].pts+W[W.length-1].duration}),this.gopCache_.unshift({gop:W.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),y=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),Y=Go.moof(v,[h]),be=new Uint8Array(Y.byteLength+te.byteLength),v++,be.set(Y),be.set(te,Y.byteLength),this.trigger("data",{track:h,boxes:be}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),y=[],this.gopCache_.length=0,T.length=0,this.trigger("reset")},this.resetStream_=function(){Or.clearDtsInfo(h),C=void 0,j=void 0},this.getGopForFusion_=function(z){var H=45e3,W=1e4,Y=1/0,te,be,ae,Oe,He;for(He=0;He<this.gopCache_.length;He++)Oe=this.gopCache_[He],ae=Oe.gop,!(!(h.pps&&Id(h.pps[0],Oe.pps[0]))||!(h.sps&&Id(h.sps[0],Oe.sps[0])))&&(ae.dts<h.timelineStartInfo.dts||(te=z.dts-ae.dts-ae.duration,te>=-W&&te<=H&&(!be||Y>te)&&(be=Oe,Y=te)));return be?be.gop:null},this.alignGopsAtStart_=function(z){var H,W,Y,te,be,ae,Oe,He;for(be=z.byteLength,ae=z.nalCount,Oe=z.duration,H=W=0;H<T.length&&W<z.length&&(Y=T[H],te=z[W],Y.pts!==te.pts);){if(te.pts>Y.pts){H++;continue}W++,be-=te.byteLength,ae-=te.nalCount,Oe-=te.duration}return W===0?z:W===z.length?null:(He=z.slice(W),He.byteLength=be,He.duration=Oe,He.nalCount=ae,He.pts=He[0].pts,He.dts=He[0].dts,He)},this.alignGopsAtEnd_=function(z){var H,W,Y,te,be,ae;for(H=T.length-1,W=z.length-1,be=null,ae=!1;H>=0&&W>=0;){if(Y=T[H],te=z[W],Y.pts===te.pts){ae=!0;break}if(Y.pts>te.pts){H--;continue}H===T.length-1&&(be=W),W--}if(!ae&&be===null)return null;var Oe;if(ae?Oe=W:Oe=be,Oe===0)return z;var He=z.slice(Oe),Ln=He.reduce(function(xi,Ja){return xi.byteLength+=Ja.byteLength,xi.duration+=Ja.duration,xi.nalCount+=Ja.nalCount,xi},{byteLength:0,duration:0,nalCount:0});return He.byteLength=Ln.byteLength,He.duration=Ln.duration,He.nalCount=Ln.nalCount,He.pts=He[0].pts,He.dts=He[0].dts,He},this.alignGopsWith=function(z){T=z}},ti.prototype=new ro,Es=function(h,p){this.numberOfTracks=0,this.metadataStream=p,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Es.prototype.init.call(this),this.push=function(v){if(v.content||v.text)return this.pendingCaptions.push(v);if(v.frames)return this.pendingMetadata.push(v);this.pendingTracks.push(v.track),this.pendingBytes+=v.boxes.byteLength,v.track.type==="video"&&(this.videoTrack=v.track,this.pendingBoxes.push(v.boxes)),v.track.type==="audio"&&(this.audioTrack=v.track,this.pendingBoxes.unshift(v.boxes))}},Es.prototype=new ro,Es.prototype.flush=function(h){var p=0,v={captions:[],captionStreams:{},metadata:[],info:{}},y,T,C,j=0,z;if(this.pendingTracks.length<this.numberOfTracks){if(h!=="VideoSegmentStream"&&h!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(j=this.videoTrack.timelineStartInfo.pts,pu.forEach(function(H){v.info[H]=this.videoTrack[H]},this)):this.audioTrack&&(j=this.audioTrack.timelineStartInfo.pts,fu.forEach(function(H){v.info[H]=this.audioTrack[H]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?v.type=this.pendingTracks[0].type:v.type="combined",this.emittedTracks+=this.pendingTracks.length,C=Go.initSegment(this.pendingTracks),v.initSegment=new Uint8Array(C.byteLength),v.initSegment.set(C),v.data=new Uint8Array(this.pendingBytes),z=0;z<this.pendingBoxes.length;z++)v.data.set(this.pendingBoxes[z],p),p+=this.pendingBoxes[z].byteLength;for(z=0;z<this.pendingCaptions.length;z++)y=this.pendingCaptions[z],y.startTime=Xa.metadataTsToSeconds(y.startPts,j,this.keepOriginalTimestamps),y.endTime=Xa.metadataTsToSeconds(y.endPts,j,this.keepOriginalTimestamps),v.captionStreams[y.stream]=!0,v.captions.push(y);for(z=0;z<this.pendingMetadata.length;z++)T=this.pendingMetadata[z],T.cueTime=Xa.metadataTsToSeconds(T.pts,j,this.keepOriginalTimestamps),v.metadata.push(T);for(v.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",v),z=0;z<v.captions.length;z++)y=v.captions[z],this.trigger("caption",y);for(z=0;z<v.metadata.length;z++)T=v.metadata[z],this.trigger("id3Frame",T)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Es.prototype.setRemux=function(h){this.remuxTracks=h},Ya=function(h){var p=this,v=!0,y,T;Ya.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var C={};this.transmuxPipeline_=C,C.type="aac",C.metadataStream=new yr.MetadataStream,C.aacStream=new Ad,C.audioTimestampRolloverStream=new yr.TimestampRolloverStream("audio"),C.timedMetadataTimestampRolloverStream=new yr.TimestampRolloverStream("timed-metadata"),C.adtsStream=new wd,C.coalesceStream=new Es(h,C.metadataStream),C.headOfPipeline=C.aacStream,C.aacStream.pipe(C.audioTimestampRolloverStream).pipe(C.adtsStream),C.aacStream.pipe(C.timedMetadataTimestampRolloverStream).pipe(C.metadataStream).pipe(C.coalesceStream),C.metadataStream.on("timestamp",function(j){C.aacStream.setTimestamp(j.timeStamp)}),C.aacStream.on("data",function(j){j.type!=="timed-metadata"&&j.type!=="audio"||C.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:p.baseMediaDecodeTime},codec:"adts",type:"audio"},C.coalesceStream.numberOfTracks++,C.audioSegmentStream=new io(T,h),C.audioSegmentStream.on("log",p.getLogTrigger_("audioSegmentStream")),C.audioSegmentStream.on("timingInfo",p.trigger.bind(p,"audioTimingInfo")),C.adtsStream.pipe(C.audioSegmentStream).pipe(C.coalesceStream),p.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y}))}),C.coalesceStream.on("data",this.trigger.bind(this,"data")),C.coalesceStream.on("done",this.trigger.bind(this,"done")),vr(this,C)},this.setupTsPipeline=function(){var C={};this.transmuxPipeline_=C,C.type="ts",C.metadataStream=new yr.MetadataStream,C.packetStream=new yr.TransportPacketStream,C.parseStream=new yr.TransportParseStream,C.elementaryStream=new yr.ElementaryStream,C.timestampRolloverStream=new yr.TimestampRolloverStream,C.adtsStream=new wd,C.h264Stream=new Cd,C.captionStream=new yr.CaptionStream(h),C.coalesceStream=new Es(h,C.metadataStream),C.headOfPipeline=C.packetStream,C.packetStream.pipe(C.parseStream).pipe(C.elementaryStream).pipe(C.timestampRolloverStream),C.timestampRolloverStream.pipe(C.h264Stream),C.timestampRolloverStream.pipe(C.adtsStream),C.timestampRolloverStream.pipe(C.metadataStream).pipe(C.coalesceStream),C.h264Stream.pipe(C.captionStream).pipe(C.coalesceStream),C.elementaryStream.on("data",function(j){var z;if(j.type==="metadata"){for(z=j.tracks.length;z--;)!y&&j.tracks[z].type==="video"?(y=j.tracks[z],y.timelineStartInfo.baseMediaDecodeTime=p.baseMediaDecodeTime):!T&&j.tracks[z].type==="audio"&&(T=j.tracks[z],T.timelineStartInfo.baseMediaDecodeTime=p.baseMediaDecodeTime);y&&!C.videoSegmentStream&&(C.coalesceStream.numberOfTracks++,C.videoSegmentStream=new ti(y,h),C.videoSegmentStream.on("log",p.getLogTrigger_("videoSegmentStream")),C.videoSegmentStream.on("timelineStartInfo",function(H){T&&!h.keepOriginalTimestamps&&(T.timelineStartInfo=H,C.audioSegmentStream.setEarliestDts(H.dts-p.baseMediaDecodeTime))}),C.videoSegmentStream.on("processedGopsInfo",p.trigger.bind(p,"gopInfo")),C.videoSegmentStream.on("segmentTimingInfo",p.trigger.bind(p,"videoSegmentTimingInfo")),C.videoSegmentStream.on("baseMediaDecodeTime",function(H){T&&C.audioSegmentStream.setVideoBaseMediaDecodeTime(H)}),C.videoSegmentStream.on("timingInfo",p.trigger.bind(p,"videoTimingInfo")),C.h264Stream.pipe(C.videoSegmentStream).pipe(C.coalesceStream)),T&&!C.audioSegmentStream&&(C.coalesceStream.numberOfTracks++,C.audioSegmentStream=new io(T,h),C.audioSegmentStream.on("log",p.getLogTrigger_("audioSegmentStream")),C.audioSegmentStream.on("timingInfo",p.trigger.bind(p,"audioTimingInfo")),C.audioSegmentStream.on("segmentTimingInfo",p.trigger.bind(p,"audioSegmentTimingInfo")),C.adtsStream.pipe(C.audioSegmentStream).pipe(C.coalesceStream)),p.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y})}}),C.coalesceStream.on("data",this.trigger.bind(this,"data")),C.coalesceStream.on("id3Frame",function(j){j.dispatchType=C.metadataStream.dispatchType,p.trigger("id3Frame",j)}),C.coalesceStream.on("caption",this.trigger.bind(this,"caption")),C.coalesceStream.on("done",this.trigger.bind(this,"done")),vr(this,C)},this.setBaseMediaDecodeTime=function(C){var j=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=C),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,Or.clearDtsInfo(T),j.audioTimestampRolloverStream&&j.audioTimestampRolloverStream.discontinuity()),y&&(j.videoSegmentStream&&(j.videoSegmentStream.gopCache_=[]),y.timelineStartInfo.dts=void 0,y.timelineStartInfo.pts=void 0,Or.clearDtsInfo(y),j.captionStream.reset()),j.timestampRolloverStream&&j.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(C){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(C)},this.setRemux=function(C){var j=this.transmuxPipeline_;h.remux=C,j&&j.coalesceStream&&j.coalesceStream.setRemux(C)},this.alignGopsWith=function(C){y&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(C)},this.getLogTrigger_=function(C){var j=this;return function(z){z.stream=C,j.trigger("log",z)}},this.push=function(C){if(v){var j=cp(C);j&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!j&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),v=!1}this.transmuxPipeline_.headOfPipeline.push(C)},this.flush=function(){v=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ya.prototype=new ro;var Ko={Transmuxer:Ya,VideoSegmentStream:ti,AudioSegmentStream:io,AUDIO_PROPERTIES:fu,VIDEO_PROPERTIES:pu,generateSegmentTimingInfo:mu},d=function(h){return h>>>0},b=function(h){return("00"+h.toString(16)).slice(-2)},A={toUnsigned:d,toHexString:b},U=function(h){var p="";return p+=String.fromCharCode(h[0]),p+=String.fromCharCode(h[1]),p+=String.fromCharCode(h[2]),p+=String.fromCharCode(h[3]),p},Q=U,ne=A.toUnsigned,ge=Q,St=function(h,p){var v=[],y,T,C,j,z;if(!p.length)return null;for(y=0;y<h.byteLength;)T=ne(h[y]<<24|h[y+1]<<16|h[y+2]<<8|h[y+3]),C=ge(h.subarray(y+4,y+8)),j=T>1?y+T:h.byteLength,C===p[0]&&(p.length===1?v.push(h.subarray(y+8,j)):(z=St(h.subarray(y+8,j),p.slice(1)),z.length&&(v=v.concat(z)))),y=j;return v},An=St,ht=A.toUnsigned,Un=s.getUint64,jn=function(h){var p={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return p.version===1?p.baseMediaDecodeTime=Un(h.subarray(4)):p.baseMediaDecodeTime=ht(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),p},so=jn,ni=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},gu=ni,yu=gu,kN=function(h){var p={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},v=new DataView(h.buffer,h.byteOffset,h.byteLength),y=p.flags[2]&1,T=p.flags[2]&4,C=p.flags[1]&1,j=p.flags[1]&2,z=p.flags[1]&4,H=p.flags[1]&8,W=v.getUint32(4),Y=8,te;for(y&&(p.dataOffset=v.getInt32(Y),Y+=4),T&&W&&(te={flags:yu(h.subarray(Y,Y+4))},Y+=4,C&&(te.duration=v.getUint32(Y),Y+=4),j&&(te.size=v.getUint32(Y),Y+=4),H&&(p.version===1?te.compositionTimeOffset=v.getInt32(Y):te.compositionTimeOffset=v.getUint32(Y),Y+=4),p.samples.push(te),W--);W--;)te={},C&&(te.duration=v.getUint32(Y),Y+=4),j&&(te.size=v.getUint32(Y),Y+=4),z&&(te.flags=yu(h.subarray(Y,Y+4)),Y+=4),H&&(p.version===1?te.compositionTimeOffset=v.getInt32(Y):te.compositionTimeOffset=v.getUint32(Y),Y+=4),p.samples.push(te);return p},wS=kN,DN=function(h){var p=new DataView(h.buffer,h.byteOffset,h.byteLength),v={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:p.getUint32(4)},y=v.flags[2]&1,T=v.flags[2]&2,C=v.flags[2]&8,j=v.flags[2]&16,z=v.flags[2]&32,H=v.flags[0]&65536,W=v.flags[0]&131072,Y;return Y=8,y&&(Y+=4,v.baseDataOffset=p.getUint32(12),Y+=4),T&&(v.sampleDescriptionIndex=p.getUint32(Y),Y+=4),C&&(v.defaultSampleDuration=p.getUint32(Y),Y+=4),j&&(v.defaultSampleSize=p.getUint32(Y),Y+=4),z&&(v.defaultSampleFlags=p.getUint32(Y)),H&&(v.durationIsEmpty=!0),!y&&W&&(v.baseDataOffsetIsMoof=!0),v},CS=DN,kd;typeof window<"u"?kd=window:typeof t<"u"?kd=t:typeof self<"u"?kd=self:kd={};var AS=kd,PN=K.discardEmulationPreventionBytes,RN=Ft.CaptionStream,Dd=An,ON=so,LN=wS,NN=CS,IS=AS,MN=function(h,p){for(var v=h,y=0;y<p.length;y++){var T=p[y];if(v<T.size)return T;v-=T.size}return null},FN=function(h,p,v){var y=new DataView(h.buffer,h.byteOffset,h.byteLength),T={logs:[],seiNals:[]},C,j,z,H;for(j=0;j+4<h.length;j+=z)if(z=y.getUint32(j),j+=4,!(z<=0))switch(h[j]&31){case 6:var W=h.subarray(j+1,j+1+z),Y=MN(j,p);if(C={nalUnitType:"sei_rbsp",size:z,data:W,escapedRBSP:PN(W),trackId:v},Y)C.pts=Y.pts,C.dts=Y.dts,H=Y;else if(H)C.pts=H.pts,C.dts=H.dts;else{T.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+j+" for trackId "+v+". See mux.js#223."});break}T.seiNals.push(C);break}return T},BN=function(h,p,v){var y=p,T=v.defaultSampleDuration||0,C=v.defaultSampleSize||0,j=v.trackId,z=[];return h.forEach(function(H){var W=LN(H),Y=W.samples;Y.forEach(function(te){te.duration===void 0&&(te.duration=T),te.size===void 0&&(te.size=C),te.trackId=j,te.dts=y,te.compositionTimeOffset===void 0&&(te.compositionTimeOffset=0),typeof y=="bigint"?(te.pts=y+IS.BigInt(te.compositionTimeOffset),y+=IS.BigInt(te.duration)):(te.pts=y+te.compositionTimeOffset,y+=te.duration)}),z=z.concat(Y)}),z},UN=function(h,p){var v=Dd(h,["moof","traf"]),y=Dd(h,["mdat"]),T={},C=[];return y.forEach(function(j,z){var H=v[z];C.push({mdat:j,traf:H})}),C.forEach(function(j){var z=j.mdat,H=j.traf,W=Dd(H,["tfhd"]),Y=NN(W[0]),te=Y.trackId,be=Dd(H,["tfdt"]),ae=be.length>0?ON(be[0]).baseMediaDecodeTime:0,Oe=Dd(H,["trun"]),He,Ln;p===te&&Oe.length>0&&(He=BN(Oe,ae,Y),Ln=FN(z,He,te),T[te]||(T[te]={seiNals:[],logs:[]}),T[te].seiNals=T[te].seiNals.concat(Ln.seiNals),T[te].logs=T[te].logs.concat(Ln.logs))}),T},jN=function(h,p,v){var y;if(p===null)return null;y=UN(h,p);var T=y[p]||{};return{seiNals:T.seiNals,logs:T.logs,timescale:v}},$N=function(){var h=!1,p,v,y,T,C,j;this.isInitialized=function(){return h},this.init=function(z){p=new RN,h=!0,j=z?z.isPartial:!1,p.on("data",function(H){H.startTime=H.startPts/T,H.endTime=H.endPts/T,C.captions.push(H),C.captionStreams[H.stream]=!0}),p.on("log",function(H){C.logs.push(H)})},this.isNewInit=function(z,H){return z&&z.length===0||H&&typeof H=="object"&&Object.keys(H).length===0?!1:y!==z[0]||T!==H[y]},this.parse=function(z,H,W){var Y;if(this.isInitialized()){if(!H||!W)return null;if(this.isNewInit(H,W))y=H[0],T=W[y];else if(y===null||!T)return v.push(z),null}else return null;for(;v.length>0;){var te=v.shift();this.parse(te,H,W)}return Y=jN(z,y,T),Y&&Y.logs&&(C.logs=C.logs.concat(Y.logs)),Y===null||!Y.seiNals?C.logs.length?{logs:C.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Y.seiNals),this.flushStream(),C)},this.pushNals=function(z){if(!this.isInitialized()||!z||z.length===0)return null;z.forEach(function(H){p.push(H)})},this.flushStream=function(){if(!this.isInitialized())return null;j?p.partialFlush():p.flush()},this.clearParsedCaptions=function(){C.captions=[],C.captionStreams={},C.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;p.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){v=[],y=null,T=null,C?this.clearParsedCaptions():C={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},zN=$N,HN=function(h){for(var p=0,v=String.fromCharCode(h[p]),y="";v!=="\0";)y+=v,p++,v=String.fromCharCode(h[p]);return y+=v,y},VN={uint8ToCString:HN},hp=VN.uint8ToCString,qN=s.getUint64,WN=function(h){var p=4,v=h[0],y,T,C,j,z,H,W,Y;if(v===0){y=hp(h.subarray(p)),p+=y.length,T=hp(h.subarray(p)),p+=T.length;var te=new DataView(h.buffer);C=te.getUint32(p),p+=4,z=te.getUint32(p),p+=4,H=te.getUint32(p),p+=4,W=te.getUint32(p),p+=4}else if(v===1){var te=new DataView(h.buffer);C=te.getUint32(p),p+=4,j=qN(h.subarray(p)),p+=8,H=te.getUint32(p),p+=4,W=te.getUint32(p),p+=4,y=hp(h.subarray(p)),p+=y.length,T=hp(h.subarray(p)),p+=T.length}Y=new Uint8Array(h.subarray(p,h.byteLength));var be={scheme_id_uri:y,value:T,timescale:C||1,presentation_time:j,presentation_time_delta:z,event_duration:H,id:W,message_data:Y};return KN(v,be)?be:void 0},GN=function(h,p,v,y){return h||h===0?h/p:y+v/p},KN=function(h,p){var v=p.scheme_id_uri!=="\0",y=h===0&&kS(p.presentation_time_delta)&&v,T=h===1&&kS(p.presentation_time)&&v;return!(h>1)&&y||T},kS=function(h){return h!==void 0||h!==null},XN={parseEmsgBox:WN,scaleTime:GN},fp=A.toUnsigned,Pd=A.toHexString,_n=An,vu=Q,iv=XN,YN=CS,QN=wS,JN=so,ZN=s.getUint64,DS,PS,RS,OS,LS,sv,NS,ov=AS,eM=gd.parseId3Frames;DS=function(h){var p={},v=_n(h,["moov","trak"]);return v.reduce(function(y,T){var C,j,z,H,W;return C=_n(T,["tkhd"])[0],!C||(j=C[0],z=j===0?12:20,H=fp(C[z]<<24|C[z+1]<<16|C[z+2]<<8|C[z+3]),W=_n(T,["mdia","mdhd"])[0],!W)?null:(j=W[0],z=j===0?12:20,y[H]=fp(W[z]<<24|W[z+1]<<16|W[z+2]<<8|W[z+3]),y)},p)},PS=function(h,p){var v;v=_n(p,["moof","traf"]);var y=v.reduce(function(T,C){var j=_n(C,["tfhd"])[0],z=fp(j[4]<<24|j[5]<<16|j[6]<<8|j[7]),H=h[z]||9e4,W=_n(C,["tfdt"])[0],Y=new DataView(W.buffer,W.byteOffset,W.byteLength),te;W[0]===1?te=ZN(W.subarray(4,12)):te=Y.getUint32(4);let be;return typeof te=="bigint"?be=te/ov.BigInt(H):typeof te=="number"&&!isNaN(te)&&(be=te/H),be<Number.MAX_SAFE_INTEGER&&(be=Number(be)),be<T&&(T=be),T},1/0);return typeof y=="bigint"||isFinite(y)?y:0},RS=function(h,p){var v=_n(p,["moof","traf"]),y=0,T=0,C;if(v&&v.length){var j=_n(v[0],["tfhd"])[0],z=_n(v[0],["trun"])[0],H=_n(v[0],["tfdt"])[0];if(j){var W=YN(j);C=W.trackId}if(H){var Y=JN(H);y=Y.baseMediaDecodeTime}if(z){var te=QN(z);te.samples&&te.samples.length&&(T=te.samples[0].compositionTimeOffset||0)}}var be=h[C]||9e4;typeof y=="bigint"&&(T=ov.BigInt(T),be=ov.BigInt(be));var ae=(y+T)/be;return typeof ae=="bigint"&&ae<Number.MAX_SAFE_INTEGER&&(ae=Number(ae)),ae},OS=function(h){var p=_n(h,["moov","trak"]),v=[];return p.forEach(function(y){var T=_n(y,["mdia","hdlr"]),C=_n(y,["tkhd"]);T.forEach(function(j,z){var H=vu(j.subarray(8,12)),W=C[z],Y,te,be;H==="vide"&&(Y=new DataView(W.buffer,W.byteOffset,W.byteLength),te=Y.getUint8(0),be=te===0?Y.getUint32(12):Y.getUint32(20),v.push(be))})}),v},sv=function(h){var p=h[0],v=p===0?12:20;return fp(h[v]<<24|h[v+1]<<16|h[v+2]<<8|h[v+3])},LS=function(h){var p=_n(h,["moov","trak"]),v=[];return p.forEach(function(y){var T={},C=_n(y,["tkhd"])[0],j,z;C&&(j=new DataView(C.buffer,C.byteOffset,C.byteLength),z=j.getUint8(0),T.id=z===0?j.getUint32(12):j.getUint32(20));var H=_n(y,["mdia","hdlr"])[0];if(H){var W=vu(H.subarray(8,12));W==="vide"?T.type="video":W==="soun"?T.type="audio":T.type=W}var Y=_n(y,["mdia","minf","stbl","stsd"])[0];if(Y){var te=Y.subarray(8);T.codec=vu(te.subarray(4,8));var be=_n(te,[T.codec])[0],ae,Oe;be&&(/^[asm]vc[1-9]$/i.test(T.codec)?(ae=be.subarray(78),Oe=vu(ae.subarray(4,8)),Oe==="avcC"&&ae.length>11?(T.codec+=".",T.codec+=Pd(ae[9]),T.codec+=Pd(ae[10]),T.codec+=Pd(ae[11])):T.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(T.codec)?(ae=be.subarray(28),Oe=vu(ae.subarray(4,8)),Oe==="esds"&&ae.length>20&&ae[19]!==0?(T.codec+="."+Pd(ae[19]),T.codec+="."+Pd(ae[20]>>>2&63).replace(/^0/,"")):T.codec="mp4a.40.2"):T.codec=T.codec.toLowerCase())}var He=_n(y,["mdia","mdhd"])[0];He&&(T.timescale=sv(He)),v.push(T)}),v},NS=function(h,p=0){var v=_n(h,["emsg"]);return v.map(y=>{var T=iv.parseEmsgBox(new Uint8Array(y)),C=eM(T.message_data);return{cueTime:iv.scaleTime(T.presentation_time,T.timescale,T.presentation_time_delta,p),duration:iv.scaleTime(T.event_duration,T.timescale),frames:C}})};var av={findBox:_n,parseType:vu,timescale:DS,startTime:PS,compositionStartTime:RS,videoTrackIds:OS,tracks:LS,getTimescaleFromMediaHeader:sv,getEmsgID3:NS},lv=Qr,MS=function(h){var p=h[1]&31;return p<<=8,p|=h[2],p},pp=function(h){return!!(h[1]&64)},mp=function(h){var p=0;return(h[3]&48)>>>4>1&&(p+=h[4]+1),p},tM=function(h,p){var v=MS(h);return v===0?"pat":v===p?"pmt":p?"pes":null},nM=function(h){var p=pp(h),v=4+mp(h);return p&&(v+=h[v]+1),(h[v+10]&31)<<8|h[v+11]},rM=function(h){var p={},v=pp(h),y=4+mp(h);if(v&&(y+=h[y]+1),!!(h[y+5]&1)){var T,C,j;T=(h[y+1]&15)<<8|h[y+2],C=3+T-4,j=(h[y+10]&15)<<8|h[y+11];for(var z=12+j;z<C;){var H=y+z;p[(h[H+1]&31)<<8|h[H+2]]=h[H],z+=((h[H+3]&15)<<8|h[H+4])+5}return p}},iM=function(h,p){var v=MS(h),y=p[v];switch(y){case lv.H264_STREAM_TYPE:return"video";case lv.ADTS_STREAM_TYPE:return"audio";case lv.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},sM=function(h){var p=pp(h);if(!p)return null;var v=4+mp(h);if(v>=h.byteLength)return null;var y=null,T;return T=h[v+7],T&192&&(y={},y.pts=(h[v+9]&14)<<27|(h[v+10]&255)<<20|(h[v+11]&254)<<12|(h[v+12]&255)<<5|(h[v+13]&254)>>>3,y.pts*=4,y.pts+=(h[v+13]&6)>>>1,y.dts=y.pts,T&64&&(y.dts=(h[v+14]&14)<<27|(h[v+15]&255)<<20|(h[v+16]&254)<<12|(h[v+17]&255)<<5|(h[v+18]&254)>>>3,y.dts*=4,y.dts+=(h[v+18]&6)>>>1)),y},uv=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},oM=function(h){for(var p=4+mp(h),v=h.subarray(p),y=0,T=0,C=!1,j;T<v.byteLength-3;T++)if(v[T+2]===1){y=T+5;break}for(;y<v.byteLength;)switch(v[y]){case 0:if(v[y-1]!==0){y+=2;break}else if(v[y-2]!==0){y++;break}T+3!==y-2&&(j=uv(v[T+3]&31),j==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0));do y++;while(v[y]!==1&&y<v.length);T=y-2,y+=3;break;case 1:if(v[y-1]!==0||v[y-2]!==0){y+=3;break}j=uv(v[T+3]&31),j==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0),T=y-2,y+=3;break;default:y+=3;break}return v=v.subarray(T),y-=T,T=0,v&&v.byteLength>3&&(j=uv(v[T+3]&31),j==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0)),C},aM={parseType:tM,parsePat:nM,parsePmt:rM,parsePayloadUnitStartIndicator:pp,parsePesType:iM,parsePesTime:sM,videoPacketContainsKeyFrame:oM},FS=Qr,_u=Yi.handleRollover,Ct={};Ct.ts=aM,Ct.aac=uu;var Qa=et.ONE_SECOND_IN_TS,_r=188,ws=71,lM=function(h,p){for(var v=0,y=_r,T,C;y<h.byteLength;){if(h[v]===ws&&h[y]===ws){switch(T=h.subarray(v,y),C=Ct.ts.parseType(T,p.pid),C){case"pat":p.pid=Ct.ts.parsePat(T);break;case"pmt":var j=Ct.ts.parsePmt(T);p.table=p.table||{},Object.keys(j).forEach(function(z){p.table[z]=j[z]});break}v+=_r,y+=_r;continue}v++,y++}},BS=function(h,p,v){for(var y=0,T=_r,C,j,z,H,W,Y=!1;T<=h.byteLength;){if(h[y]===ws&&(h[T]===ws||T===h.byteLength)){switch(C=h.subarray(y,T),j=Ct.ts.parseType(C,p.pid),j){case"pes":z=Ct.ts.parsePesType(C,p.table),H=Ct.ts.parsePayloadUnitStartIndicator(C),z==="audio"&&H&&(W=Ct.ts.parsePesTime(C),W&&(W.type="audio",v.audio.push(W),Y=!0));break}if(Y)break;y+=_r,T+=_r;continue}y++,T++}for(T=h.byteLength,y=T-_r,Y=!1;y>=0;){if(h[y]===ws&&(h[T]===ws||T===h.byteLength)){switch(C=h.subarray(y,T),j=Ct.ts.parseType(C,p.pid),j){case"pes":z=Ct.ts.parsePesType(C,p.table),H=Ct.ts.parsePayloadUnitStartIndicator(C),z==="audio"&&H&&(W=Ct.ts.parsePesTime(C),W&&(W.type="audio",v.audio.push(W),Y=!0));break}if(Y)break;y-=_r,T-=_r;continue}y--,T--}},uM=function(h,p,v){for(var y=0,T=_r,C,j,z,H,W,Y,te,be,ae=!1,Oe={data:[],size:0};T<h.byteLength;){if(h[y]===ws&&h[T]===ws){switch(C=h.subarray(y,T),j=Ct.ts.parseType(C,p.pid),j){case"pes":if(z=Ct.ts.parsePesType(C,p.table),H=Ct.ts.parsePayloadUnitStartIndicator(C),z==="video"&&(H&&!ae&&(W=Ct.ts.parsePesTime(C),W&&(W.type="video",v.video.push(W),ae=!0)),!v.firstKeyFrame)){if(H&&Oe.size!==0){for(Y=new Uint8Array(Oe.size),te=0;Oe.data.length;)be=Oe.data.shift(),Y.set(be,te),te+=be.byteLength;if(Ct.ts.videoPacketContainsKeyFrame(Y)){var He=Ct.ts.parsePesTime(Y);He?(v.firstKeyFrame=He,v.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Oe.size=0}Oe.data.push(C),Oe.size+=C.byteLength}break}if(ae&&v.firstKeyFrame)break;y+=_r,T+=_r;continue}y++,T++}for(T=h.byteLength,y=T-_r,ae=!1;y>=0;){if(h[y]===ws&&h[T]===ws){switch(C=h.subarray(y,T),j=Ct.ts.parseType(C,p.pid),j){case"pes":z=Ct.ts.parsePesType(C,p.table),H=Ct.ts.parsePayloadUnitStartIndicator(C),z==="video"&&H&&(W=Ct.ts.parsePesTime(C),W&&(W.type="video",v.video.push(W),ae=!0));break}if(ae)break;y-=_r,T-=_r;continue}y--,T--}},cM=function(h,p){if(h.audio&&h.audio.length){var v=p;(typeof v>"u"||isNaN(v))&&(v=h.audio[0].dts),h.audio.forEach(function(C){C.dts=_u(C.dts,v),C.pts=_u(C.pts,v),C.dtsTime=C.dts/Qa,C.ptsTime=C.pts/Qa})}if(h.video&&h.video.length){var y=p;if((typeof y>"u"||isNaN(y))&&(y=h.video[0].dts),h.video.forEach(function(C){C.dts=_u(C.dts,y),C.pts=_u(C.pts,y),C.dtsTime=C.dts/Qa,C.ptsTime=C.pts/Qa}),h.firstKeyFrame){var T=h.firstKeyFrame;T.dts=_u(T.dts,y),T.pts=_u(T.pts,y),T.dtsTime=T.dts/Qa,T.ptsTime=T.pts/Qa}}},dM=function(h){for(var p=!1,v=0,y=null,T=null,C=0,j=0,z;h.length-j>=3;){var H=Ct.aac.parseType(h,j);switch(H){case"timed-metadata":if(h.length-j<10){p=!0;break}if(C=Ct.aac.parseId3TagSize(h,j),C>h.length){p=!0;break}T===null&&(z=h.subarray(j,j+C),T=Ct.aac.parseAacTimestamp(z)),j+=C;break;case"audio":if(h.length-j<7){p=!0;break}if(C=Ct.aac.parseAdtsSize(h,j),C>h.length){p=!0;break}y===null&&(z=h.subarray(j,j+C),y=Ct.aac.parseSampleRate(z)),v++,j+=C;break;default:j++;break}if(p)return null}if(y===null||T===null)return null;var W=Qa/y,Y={audio:[{type:"audio",dts:T,pts:T},{type:"audio",dts:T+v*1024*W,pts:T+v*1024*W}]};return Y},hM=function(h){var p={pid:null,table:null},v={};lM(h,p);for(var y in p.table)if(p.table.hasOwnProperty(y)){var T=p.table[y];switch(T){case FS.H264_STREAM_TYPE:v.video=[],uM(h,p,v),v.video.length===0&&delete v.video;break;case FS.ADTS_STREAM_TYPE:v.audio=[],BS(h,p,v),v.audio.length===0&&delete v.audio;break}}return v},fM=function(h,p){var v=Ct.aac.isLikelyAacData(h),y;return v?y=dM(h):y=hM(h),!y||!y.audio&&!y.video?null:(cM(y,p),y)},pM={inspect:fM,parseAudioPes_:BS};const mM=function(h,p){p.on("data",function(v){const y=v.initSegment;v.initSegment={data:y.buffer,byteOffset:y.byteOffset,byteLength:y.byteLength};const T=v.data;v.data=T.buffer,h.postMessage({action:"data",segment:v,byteOffset:T.byteOffset,byteLength:T.byteLength},[v.data])}),p.on("done",function(v){h.postMessage({action:"done"})}),p.on("gopInfo",function(v){h.postMessage({action:"gopInfo",gopInfo:v})}),p.on("videoSegmentTimingInfo",function(v){const y={start:{decode:et.videoTsToSeconds(v.start.dts),presentation:et.videoTsToSeconds(v.start.pts)},end:{decode:et.videoTsToSeconds(v.end.dts),presentation:et.videoTsToSeconds(v.end.pts)},baseMediaDecodeTime:et.videoTsToSeconds(v.baseMediaDecodeTime)};v.prependedContentDuration&&(y.prependedContentDuration=et.videoTsToSeconds(v.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:y})}),p.on("audioSegmentTimingInfo",function(v){const y={start:{decode:et.videoTsToSeconds(v.start.dts),presentation:et.videoTsToSeconds(v.start.pts)},end:{decode:et.videoTsToSeconds(v.end.dts),presentation:et.videoTsToSeconds(v.end.pts)},baseMediaDecodeTime:et.videoTsToSeconds(v.baseMediaDecodeTime)};v.prependedContentDuration&&(y.prependedContentDuration=et.videoTsToSeconds(v.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:y})}),p.on("id3Frame",function(v){h.postMessage({action:"id3Frame",id3Frame:v})}),p.on("caption",function(v){h.postMessage({action:"caption",caption:v})}),p.on("trackinfo",function(v){h.postMessage({action:"trackinfo",trackInfo:v})}),p.on("audioTimingInfo",function(v){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:et.videoTsToSeconds(v.start),end:et.videoTsToSeconds(v.end)}})}),p.on("videoTimingInfo",function(v){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:et.videoTsToSeconds(v.start),end:et.videoTsToSeconds(v.end)}})}),p.on("log",function(v){h.postMessage({action:"log",log:v})})};class US{constructor(p,v){this.options=v||{},this.self=p,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ko.Transmuxer(this.options),mM(this.self,this.transmuxer)}pushMp4Captions(p){this.captionParser||(this.captionParser=new zN,this.captionParser.init());const v=new Uint8Array(p.data,p.byteOffset,p.byteLength),y=this.captionParser.parse(v,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:y&&y.captions||[],logs:y&&y.logs||[],data:v.buffer},[v.buffer])}probeMp4StartTime({timescales:p,data:v}){const y=av.startTime(p,v);this.self.postMessage({action:"probeMp4StartTime",startTime:y,data:v},[v.buffer])}probeMp4Tracks({data:p}){const v=av.tracks(p);this.self.postMessage({action:"probeMp4Tracks",tracks:v,data:p},[p.buffer])}probeEmsgID3({data:p,offset:v}){const y=av.getEmsgID3(p,v);this.self.postMessage({action:"probeEmsgID3",id3Frames:y,emsgData:p},[p.buffer])}probeTs({data:p,baseStartTime:v}){const y=typeof v=="number"&&!isNaN(v)?v*et.ONE_SECOND_IN_TS:void 0,T=pM.inspect(p,y);let C=null;T&&(C={hasVideo:T.video&&T.video.length===2||!1,hasAudio:T.audio&&T.audio.length===2||!1},C.hasVideo&&(C.videoStart=T.video[0].ptsTime),C.hasAudio&&(C.audioStart=T.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:C,data:p},[p.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(p){const v=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(v)}reset(){this.transmuxer.reset()}setTimestampOffset(p){const v=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(et.secondsToVideoTs(v)))}setAudioAppendStart(p){this.transmuxer.setAudioAppendStart(Math.ceil(et.secondsToVideoTs(p.appendStart)))}setRemux(p){this.transmuxer.setRemux(p.remux)}flush(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())}}self.onmessage=function(h){if(h.data.action==="init"&&h.data.options){this.messageHandlers=new US(self,h.data.options);return}this.messageHandlers||(this.messageHandlers=new US(self)),h.data&&h.data.action&&h.data.action!=="init"&&this.messageHandlers[h.data.action]&&this.messageHandlers[h.data.action](h.data)}}));var Die=XL(kie);const Pie=(t,e,n)=>{const{type:r,initSegment:i,captions:s,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:o,metadata:a});const c=t.data.segment.boxes||{data:t.data.segment.data},f={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(f.videoFrameDtsTime=l),typeof u<"u"&&(f.videoFramePtsTime=u),n(f)},Rie=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},Oie=(t,e)=>{e.gopInfo=t.data.gopInfo},JL=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:i,remux:s,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:f,onId3:m,onCaptions:x,onDone:_,onEndedTimeline:g,onTransmuxerLog:k,isEndOfTimeline:E,segment:w,triggerSegmentEventFn:S}=t,O={buffer:[]};let L=E;const R=P=>{e.currentTransmux===t&&(P.data.action==="data"&&Pie(P,O,o),P.data.action==="trackinfo"&&a(P.data.trackInfo),P.data.action==="gopInfo"&&Oie(P,O),P.data.action==="audioTimingInfo"&&l(P.data.audioTimingInfo),P.data.action==="videoTimingInfo"&&u(P.data.videoTimingInfo),P.data.action==="videoSegmentTimingInfo"&&c(P.data.videoSegmentTimingInfo),P.data.action==="audioSegmentTimingInfo"&&f(P.data.audioSegmentTimingInfo),P.data.action==="id3Frame"&&m([P.data.id3Frame],P.data.id3Frame.dispatchType),P.data.action==="caption"&&x(P.data.caption),P.data.action==="endedtimeline"&&(L=!1,g()),P.data.action==="log"&&k(P.data.log),P.data.type==="transmuxed"&&(L||(e.onmessage=null,Rie({transmuxedData:O,callback:_}),ZL(e))))},D=()=>{const P={message:"Received an error message from the transmuxer worker",metadata:{errorType:J.Error.StreamingFailedToTransmuxSegment,segmentInfo:cl({segment:w})}};_(null,P)};if(e.onmessage=R,e.onerror=D,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const P=n instanceof ArrayBuffer?n:n.buffer,M=n instanceof ArrayBuffer?0:n.byteOffset;S({type:"segmenttransmuxingstart",segment:w}),e.postMessage({action:"push",data:P,byteOffset:M,byteLength:n.byteLength},[P])}E&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},ZL=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():JL(t.currentTransmux))},zI=(t,e)=>{t.postMessage({action:e}),ZL(t)},eN=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,zI(e,t);return}e.transmuxQueue.push(zI.bind(null,e,t))},Lie=t=>{eN("reset",t)},Nie=t=>{eN("endTimeline",t)},tN=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,JL(t);return}t.transmuxer.transmuxQueue.push(t)},Mie=t=>{const e=new Die;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var P_={reset:Lie,endTimeline:Nie,transmux:tN,createTransmuxer:Mie};const Bh=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,i=G({},t,{endAction:null,transmuxer:null,callback:null}),s=o=>{o.data.action===n&&(e.removeEventListener("message",s),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),r(o.data))};if(e.addEventListener("message",s),t.data){const o=t.data instanceof ArrayBuffer;i.byteOffset=o?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(i,a)}else e.postMessage(i)},Bs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Pb=t=>{t.forEach(e=>{e.abort()})},Fie=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),Bie=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},vS=(t,e)=>{const{requestType:n}=e,r=kl({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Bs.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Bs.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Bs.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Bs.FAILURE,xhr:e,metadata:r}:null},HI=(t,e,n,r)=>(i,s)=>{const o=s.response,a=vS(i,s);if(a)return n(a,t);if(o.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Bs.FAILURE,xhr:s},t);const l=new DataView(o),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let f=0;f<e.length;f++)e[f].bytes=u;const c={uri:s.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),n(null,t)},nN=(t,e)=>{const n=Fx(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,i=n||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${r}`,code:Bs.FAILURE,metadata:{mediaType:i}})}Bh({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:i})=>(t.map.bytes=i,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},Uie=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(r,i)=>{const s=vS(r,i);if(s)return e(s,t);const o=new Uint8Array(i.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=o,e(null,t);t.map.bytes=o,nN(t,function(a){if(a)return a.xhr=i,a.status=i.status,e(a,t);e(null,t)})},jie=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:r})=>(i,s)=>{const o=vS(i,s);if(o)return e(o,t);r({type:"segmentloaded",segment:t});const a=n==="arraybuffer"||!s.responseText?s.response:Aie(s.responseText.substring(t.lastReachedChar||0));return t.stats=Fie(s),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},$ie=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})=>{const _=t.map&&t.map.tracks||{},g=!!(_.audio&&_.video);let k=r.bind(null,t,"audio","start");const E=r.bind(null,t,"audio","end");let w=r.bind(null,t,"video","start");const S=r.bind(null,t,"video","end"),O=()=>tN({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:g,onData:L=>{L.type=L.type==="combined"?"video":L.type,c(t,L)},onTrackInfo:L=>{n&&(g&&(L.isMuxed=!0),n(t,L))},onAudioTimingInfo:L=>{k&&typeof L.start<"u"&&(k(L.start),k=null),E&&typeof L.end<"u"&&E(L.end)},onVideoTimingInfo:L=>{w&&typeof L.start<"u"&&(w(L.start),w=null),S&&typeof L.end<"u"&&S(L.end)},onVideoSegmentTimingInfo:L=>{const R={pts:{start:L.start.presentation,end:L.end.presentation},dts:{start:L.start.decode,end:L.end.decode}};x({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:R}),i(L)},onAudioSegmentTimingInfo:L=>{const R={pts:{start:L.start.pts,end:L.end.pts},dts:{start:L.start.dts,end:L.end.dts}};x({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:R}),s(L)},onId3:(L,R)=>{o(t,L,R)},onCaptions:L=>{a(t,[L])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:m,onDone:(L,R)=>{f&&(L.type=L.type==="combined"?"video":L.type,x({type:"segmenttransmuxingcomplete",segment:t}),f(R,t,L))},segment:t,triggerSegmentEventFn:x});Bh({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:L=>{t.bytes=e=L.data;const R=L.result;R&&(n(t,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:g}),n=null),O()}})},rN=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})=>{let _=new Uint8Array(e);if(dne(_)){t.isFmp4=!0;const{tracks:g}=t.map,k={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(k.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(k.videoCodec=g.video.codec),g.video&&g.audio&&(k.isMuxed=!0),n(t,k);const E=(w,S)=>{c(t,{data:_,type:k.hasAudio&&!k.isMuxed?"audio":"video"}),S&&S.length&&o(t,S),w&&w.length&&a(t,w),f(null,t,{})};Bh({action:"probeMp4StartTime",timescales:t.map.timescales,data:_,transmuxer:t.transmuxer,callback:({data:w,startTime:S})=>{e=w.buffer,t.bytes=_=w,k.hasAudio&&!k.isMuxed&&r(t,"audio","start",S),k.hasVideo&&r(t,"video","start",S),Bh({action:"probeEmsgID3",data:_,transmuxer:t.transmuxer,offset:S,callback:({emsgData:O,id3Frames:L})=>{if(e=O.buffer,t.bytes=_=O,!g.video||!O.byteLength||!t.transmuxer){E(void 0,L);return}Bh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:_,timescales:t.map.timescales,trackIds:[g.video.id],callback:R=>{e=R.data.buffer,t.bytes=_=R.data,R.logs.forEach(function(D){m(wt(D,{stream:"mp4CaptionParser"}))}),E(R.captions,L)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=Fx(_)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}$ie({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})},iN=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r,segment:i,doneFn:s},o){const a=u=>{if(u.data.source===t){r.removeEventListener("message",a);const c=u.data.decrypted;o(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};r.onerror=()=>{const u="An error occurred in the decryption worker",c=cl({segment:i}),f={message:u,metadata:{error:new Error(u),errorType:J.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(f,i)},r.addEventListener("message",a);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(HL({source:t,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},zie=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})=>{x({type:"segmentdecryptionstart"}),iN({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:f},_=>{e.bytes=_,x({type:"segmentdecryptioncomplete",segment:e}),rN({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})})},Hie=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})=>{let _=0,g=!1;return(k,E)=>{if(!g){if(k)return g=!0,Pb(t),f(k,E);if(_+=1,_===t.length){const w=function(){if(E.encryptedBytes)return zie({decryptionWorker:e,segment:E,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x});rN({segment:E,bytes:E.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:x})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return x({type:"segmentdecryptionstart",segment:E}),iN({decryptionWorker:e,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key,segment:E,doneFn:f},S=>{E.map.bytes=S,x({type:"segmentdecryptioncomplete",segment:E}),nN(E,O=>{if(O)return Pb(t),f(O,E);w()})});w()}}}},Vie=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},qie=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>f=>{if(!f.target.aborted)return t.stats=wt(t.stats,Bie(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},Wie=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:i,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:x,dataFn:_,doneFn:g,onTransmuxerLog:k,triggerSegmentEventFn:E})=>{const w=[],S=Hie({activeXhrs:w,decryptionWorker:n,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:x,dataFn:_,doneFn:g,onTransmuxerLog:k,triggerSegmentEventFn:E});if(r.key&&!r.key.bytes){const P=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&P.push(r.map.key);const M=wt(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),B=HI(r,P,S,E),$={uri:r.key.resolvedUri};E({type:"segmentkeyloadstart",segment:r,keyInfo:$});const V=t(M,B);w.push(V)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const V=wt(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),F=HI(r,[r.map.key],S,E),se={uri:r.map.key.resolvedUri};E({type:"segmentkeyloadstart",segment:r,keyInfo:se});const ce=t(V,F);w.push(ce)}const M=wt(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:kb(r.map),requestType:"segment-media-initialization"}),B=Uie({segment:r,finishProcessingFn:S,triggerSegmentEventFn:E});E({type:"segmentloadstart",segment:r});const $=t(M,B);w.push($)}const O=wt(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:kb(r),requestType:"segment"}),L=jie({segment:r,finishProcessingFn:S,responseType:O.responseType,triggerSegmentEventFn:E});E({type:"segmentloadstart",segment:r});const R=t(O,L);R.addEventListener("progress",qie({segment:r,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:x,dataFn:_})),w.push(R);const D={};return w.forEach(P=>{P.addEventListener("loadend",Vie({loadendState:D,abortFn:i}))}),()=>Pb(w)},Gie=Wi("CodecUtils"),Kie=function(t){const e=t.attributes||{};if(e.CODECS)return ks(e.CODECS)},sN=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},Xie=(t,e)=>{if(!sN(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1},Hg=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:i})=>{e[n]=e[n]||[],e[n].push(f3(`${r}${i}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){Gie(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},VI=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},Uh=function(t,e){const n=e.attributes||{},r=Hg(Kie(e)||[]);if(sN(t,e)&&!r.audio&&!Xie(t,e)){const i=Hg(dee(t,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},Gp=Wi("PlaylistSelector"),qI=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},Vg=function(t,e){if(!t)return"";const n=q.getComputedStyle(t);return n?n[e]:""},vc=function(t,e){const n=t.slice();t.sort(function(r,i){const s=e(r,i);return s===0?n.indexOf(r)-n.indexOf(i):s})},_S=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||q.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||q.Number.MAX_VALUE,n-r},Yie=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||q.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||q.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let oN=function(t,e,n,r,i,s){if(!t)return;const o={bandwidth:e,width:n,height:r,limitRenditionByPlayerDimensions:i};let a=t.playlists;Br.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(L=>{let R;const D=L.attributes&&L.attributes.RESOLUTION&&L.attributes.RESOLUTION.width,P=L.attributes&&L.attributes.RESOLUTION&&L.attributes.RESOLUTION.height;return R=L.attributes&&L.attributes.BANDWIDTH,R=R||q.Number.MAX_VALUE,{bandwidth:R,width:D,height:P,playlist:L}});vc(l,(L,R)=>L.bandwidth-R.bandwidth),l=l.filter(L=>!Br.isIncompatible(L.playlist));let u=l.filter(L=>Br.isEnabled(L.playlist));u.length||(u=l.filter(L=>!Br.isDisabled(L.playlist)));const c=u.filter(L=>L.bandwidth*zn.BANDWIDTH_VARIANCE<e);let f=c[c.length-1];const m=c.filter(L=>L.bandwidth===f.bandwidth)[0];if(i===!1){const L=m||u[0]||l[0];if(L&&L.playlist){let R="sortedPlaylistReps";return m&&(R="bandwidthBestRep"),u[0]&&(R="enabledPlaylistReps"),Gp(`choosing ${qI(L)} using ${R} with options`,o),L.playlist}return Gp("could not choose a playlist with options",o),null}const x=c.filter(L=>L.width&&L.height);vc(x,(L,R)=>L.width-R.width);const _=x.filter(L=>L.width===n&&L.height===r);f=_[_.length-1];const g=_.filter(L=>L.bandwidth===f.bandwidth)[0];let k,E,w;g||(k=x.filter(L=>L.width>n||L.height>r),E=k.filter(L=>L.width===k[0].width&&L.height===k[0].height),f=E[E.length-1],w=E.filter(L=>L.bandwidth===f.bandwidth)[0]);let S;if(s.leastPixelDiffSelector){const L=x.map(R=>(R.pixelDiff=Math.abs(R.width-n)+Math.abs(R.height-r),R));vc(L,(R,D)=>R.pixelDiff===D.pixelDiff?D.bandwidth-R.bandwidth:R.pixelDiff-D.pixelDiff),S=L[0]}const O=S||w||g||m||u[0]||l[0];if(O&&O.playlist){let L="sortedPlaylistReps";return S?L="leastPixelDiffRep":w?L="resolutionPlusOneRep":g?L="resolutionBestRep":m?L="bandwidthBestRep":u[0]&&(L="enabledPlaylistReps"),Gp(`choosing ${qI(O)} using ${L} with options`,o),O.playlist}return Gp("could not choose a playlist with options",o),null};const WI=function(){let t=this.useDevicePixelRatio&&q.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),oN(this.playlists.main,this.systemBandwidth,parseInt(Vg(this.tech_.el(),"width"),10)*t,parseInt(Vg(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},Qie=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&q.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),oN(this.playlists.main,e,parseInt(Vg(this.tech_.el(),"width"),10)*r,parseInt(Vg(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)}},Jie=function(t){const{main:e,currentTime:n,bandwidth:r,duration:i,segmentDuration:s,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,u=e.playlists.filter(_=>!Br.isIncompatible(_));let c=u.filter(Br.isEnabled);c.length||(c=u.filter(_=>!Br.isDisabled(_)));const m=c.filter(Br.hasAttribute.bind(null,"BANDWIDTH")).map(_=>{const k=l.getSyncPoint(_,i,a,n)?1:2,w=Br.estimateSegmentRequestTime(s,r,_)*k-o;return{playlist:_,rebufferingImpact:w}}),x=m.filter(_=>_.rebufferingImpact<=0);return vc(x,(_,g)=>_S(g.playlist,_.playlist)),x.length?x[0]:(vc(m,(_,g)=>_.rebufferingImpact-g.rebufferingImpact),m[0]||null)},Zie=function(){const t=this.playlists.main.playlists.filter(Br.isEnabled);return vc(t,(n,r)=>_S(n,r)),t.filter(n=>!!Uh(this.playlists.main,n).video)[0]||null},ese=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function aN(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const tse=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const i=e.textTracks().getTrackById(r);if(i)t[n]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=n,a=n,l=!1;const u=s[r];u&&(o=u.label,a=u.language,l=u.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:o,language:a},!1).track}}},nse=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=q.WebKitDataCue||q.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(o=>{const a=new r(i.startTime+n,i.endTime+n,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[s].addCue(a)}):t[s].addCue(new r(i.startTime+n,i.endTime+n,i.text))})},rse=function(t){Object.defineProperties(t.frame,{id:{get(){return J.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return J.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return J.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},ise=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const i=q.WebKitDataCue||q.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(c=>{const f=c.cueTime+n;typeof f!="number"||q.isNaN(f)||f<0||!(f<1/0)||!c.frames||!c.frames.length||c.frames.forEach(m=>{const x=new i(f,f,m.value||m.url||m.data||"");x.frame=m,x.value=m,rse(x),s.addCue(x)})}),!s.cues||!s.cues.length))return;const o=s.cues,a=[];for(let c=0;c<o.length;c++)o[c]&&a.push(o[c]);const l=a.reduce((c,f)=>{const m=c[f.startTime]||[];return m.push(f),c[f.startTime]=m,c},{}),u=Object.keys(l).sort((c,f)=>Number(c)-Number(f));u.forEach((c,f)=>{const m=l[c],x=isFinite(r)?r:c,_=Number(u[f+1])||x;m.forEach(g=>{g.endTime=_})})},sse={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},ose=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),ase=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=q.WebKitDataCue||q.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(ose.has(s))continue;const o=new r(i.startTime,i.endTime,"");o.id=i.id,o.type="com.apple.quicktime.HLS",o.value={key:sse[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(o)}i.processDateRange()})},GI=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,J.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},yh=function(t,e,n){let r,i;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime>=t&&i.endTime<=e&&n.removeCue(i)},lse=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const i=e[r],s=`${i.startTime}-${i.endTime}-${i.text}`;n[s]?t.removeCue(i):n[s]=i}},use=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*bl.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)},cse=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)},dse=(t,e,n,r)=>{const i=Math.ceil((e-r)*bl.ONE_SECOND_IN_TS),s=Math.ceil((n-r)*bl.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=s););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),o.splice(l,a-l+1),o},hse=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(s!==r[i]||t[s]!==e[s])return!1}return!0},fse=function(t,e,n){e=e||[];const r=[];let i=0;for(let s=0;s<e.length;s++){const o=e[s];if(t===o.timeline&&(r.push(s),i+=o.duration,i>n))return s}return r.length===0?0:r[r.length-1]},nh=1,pse=500,KI=t=>typeof t=="number"&&isFinite(t),Kp=1/60,mse=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,gse=(t,e,n)=>{let r=e-zn.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const i=e-n;return Math.min(i,r)},Nu=t=>{const{startOfSegment:e,duration:n,segment:r,part:i,playlist:{mediaSequence:s,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:c}=t,f=a.length-1;let m="mediaIndex/partIndex increment";t.getMediaInfoForTime?m=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(m="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(m+=` with independent ${t.independent}`);const x=typeof u=="number",_=t.segment.uri?"segment":"pre-segment",g=x?AL({preloadSegment:r})-1:0;return`${_} [${s+l}/${s+f}]`+(x?` part [${u}/${g}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(x?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${c}] selected by [${m}] playlist [${o}]`},XI=t=>`${t}TimingInfo`,yse=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:i})=>!i&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,Rb=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:i})=>{if(e===n)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(r==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},vse=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),r=e&&n,i=r&&e.to!==n.to;return!!(r&&e.from!==-1&&n.from!==-1&&i)},_se=t=>{t&&(t.pause(),t.resetEverything(),t.load())},bse=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},ia=t=>{const e=t.pendingSegment_;if(!e)return;if(Rb({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&vse(t.timelineChangeController_)){if(t.sourceType_==="dash"&&bse(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}_se(t)}},Tse=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:i,end:s}=r;let o;typeof i=="bigint"||typeof s=="bigint"?o=q.BigInt(s)-q.BigInt(i):typeof i=="number"&&typeof s=="number"&&(o=s-i),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},YI=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Ms:!1,xse=(t,e)=>{if(e!=="hls")return null;const n=Tse({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,i=YI({segmentDuration:n,maxDuration:r*2}),s=YI({segmentDuration:n,maxDuration:r}),o=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:o}:null},cl=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:n,isMediaInitialization:r}};class Ob extends J.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Wi(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():ia(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(G({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():ia(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(G({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():ia(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():ia(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return P_.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&P_.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Jn();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:i}=e;if(r&&n&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=zg(e);let i=this.initSegments_[r];return n&&!i&&e.bytes&&(this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,n=!1){if(!e)return null;const r=VL(e);let i=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!i&&e.bytes&&(this.keyCache_[r]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e)return;const r=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${k_(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${o}]`),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&P_.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},i=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const o=()=>{s--,s===0&&r()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,o)),(i||this.loaderType_==="main")&&(this.gopBuffer_=dse(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,o));for(const a in this.inbandTextTracks_)yh(e,n,this.inbandTextTracks_[a]);yh(e,n,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=q.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=q.setTimeout(this.monitorBufferTick_.bind(this),pse)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:cl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const i=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,o=!i||!i.parts||r+1===i.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&o}chooseNextRequest_(){const e=this.buffered_(),n=k_(e)||0,r=pS(e,this.currentTime_()),i=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=fse(this.currentTimeline_,o,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const m=o[this.mediaIndex],x=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=m.end?m.end:n,m.parts&&m.parts[x+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=x+1):a.mediaIndex=this.mediaIndex+1}else{let m,x,_;const g=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${g}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const k=this.getSyncInfoFromMediaSequenceSync_(g);if(!k){const E="No sync info found while using media sequence sync";return this.error({message:E,metadata:{errorType:J.Error.StreamingFailedToSelectNextSegment,error:new Error(E)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${k.start} --> ${k.end})`),m=k.segmentIndex,x=k.partIndex,_=k.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const k=Br.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:g,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});m=k.segmentIndex,x=k.partIndex,_=k.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${g}`:`currentTime ${g}`,a.mediaIndex=m,a.startOfSegment=_,a.partIndex=x,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=o[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!c&&!u.independent)if(a.partIndex===0){const m=o[a.mediaIndex-1],x=m.parts&&m.parts.length&&m.parts[m.parts.length-1];x&&x.independent&&(a.mediaIndex-=1,a.partIndex=m.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const i=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:i,startOfSegment:s,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=r.segments[i],f=typeof a=="number"&&c.parts[a],m={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:f?a:null,isSyncRequest:o,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:f&&f.duration||c.duration,segment:c,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},x=typeof l<"u"?l:this.isPendingTimestampOffset_;m.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:x});const _=k_(this.sourceUpdater_.audioBuffered());return typeof _=="number"&&(m.audioAppendStart=_-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(m.gopsToAlignWith=use(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),m}timestampOffsetForSegment_(e){return yse(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,i=this.pendingSegment_.duration,s=Br.estimateSegmentRequestTime(i,r,this.playlist_,e.bytesReceived),o=jre(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=o)return;const a=Jie({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=s-o-a.rebufferingImpact;let c=.5;o<=Ms&&(c=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*zn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Nu(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:r,hasVideo:i}=n,s={segmentInfo:cl({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},hse(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():ia(this))))}handleTimingInfo_(e,n,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,o=XI(n);s[o]=s[o]||{},s[o][r]=i,this.logger_(`timinginfo: ${n} - ${r} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():ia(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(o=>{s[o.stream]=s[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=s[o.stream];a.startTime=Math.min(a.startTime,o.startTime+i),a.endTime=Math.max(a.endTime,o.endTime+i),a.captions.push(o)}),Object.keys(s).forEach(o=>{const{startTime:a,endTime:l,captions:u}=s[o],c=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${o}`),tse(c,this.vhs_.tech_,o),yh(a,l,c[o]),nse({captionArray:u,inbandTextTracks:c,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Rb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:i,isMuxed:s}=n;return!(i&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||Rb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){ia(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[XI(n.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let o;s&&(o=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:o,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==r.mediaIndex||i.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:i}){if(r){const s=zg(r);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},i){const s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Tl(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Tl(o).join(", "));const a=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(l-a<=nh&&c-u<=nh){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${Tl(s).join(", ")}, video buffer: ${Tl(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const m=this.currentTime_()-nh;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${m}`),this.remove(0,m,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${nh}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=q.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},nh*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},i){if(i){if(i.code===BL){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:J.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i,bytes:s}){if(!s){const a=[i];let l=i.byteLength;r&&(a.unshift(r),l+=r.byteLength),s=ese({bytes:l,segments:a})}const o={segmentInfo:cl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,i[s].transmuxedPresentationStart=r.start.presentation,i[s].transmuxedDecodeStart=r.start.decode,i[s].transmuxedPresentationEnd=r.end.presentation,i[s].transmuxedDecodeEnd=r.end.decode,i[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:i}=n;if(!i||!i.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){ia(this),this.loadQueue_.push(()=>{const n=G({},e,{forceTimestampOffset:!0});G(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,o=r||i&&s;this.logger_(`Requesting
${aN(e.uri)}
${Nu(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Wie({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_(`${Nu(e)} logged from transmuxer stream ${u} as a ${l}: ${a}`)},triggerSegmentEventFn:({type:a,segment:l,keyInfo:u,trackInfo:c,timingInfo:f})=>{const x={segmentInfo:cl({segment:l})};u&&(x.keyInfo=u),c&&(x.trackInfo=c),f&&(x.timingInfo=f),this.trigger({type:a,metadata:x})}})}trimBackBuffer_(e){const n=gse(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,o={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===n.timeline&&(a.videoTimingInfo?o.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(o.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(n.key),o.key.iv=l}return n.map&&(o.map=this.initSegmentForMap(n.map)),o}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<Kp){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Kp}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Bs.ABORTED)return;if(this.pause(),e.code===Bs.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),i.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=cse(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=n.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==i+s?i:a.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:i,isMuxed:s}=n,o=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=mse(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),i=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:cl({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=xse(e,this.sourceType_);if(n&&(n.severity==="warn"?J.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Nu(e)}`);return}this.logger_(`Appended ${Nu(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,i=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,o=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||o){this.logger_(`bad ${s?"segment":"part"} ${Nu(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Kp){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Kp}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(i-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,i=n.end;if(!KI(r)||!KI(i))return;yh(r,i,this.segmentMetadataTrack_);const s=q.WebKitDataCue||q.VTTCue,o={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:i},a=JSON.stringify(o),l=new s(r,i,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}}function ho(){}const lN=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Sse=["video","audio"],Lb=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},Ese=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},_c=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),_c("audio",e),_c("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Lb(t,e))){if(r.type!==t){if(n=Ese(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,_c(t,e);return}}},uN=(t,e)=>{const n=e[`${t}Buffer`],r=lN(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Rs=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,ri={appendBuffer:(t,e,n)=>(r,i)=>{const s=i[`${r}Buffer`];if(Rs(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(o){i.logger_(`Error with code ${o.code} `+(o.code===BL?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),i.queuePending[r]=null,n(o)}}},remove:(t,e)=>(n,r)=>{const i=r[`${n}Buffer`];if(Rs(r.mediaSource,i)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{i.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];Rs(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){J.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){J.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Rs(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){J.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=lN(t),i=yf(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",n[`on${r}UpdateEnd_`]),s.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(uN(t,e),!!Rs(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){J.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],i=yf(t);if(!Rs(n.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),o=n.codecs[e];if(o.substring(0,o.indexOf("."))===s)return;const l={codecsChangeInfo:{from:o,to:t}};n.trigger({type:"codecschange",metadata:l}),n.logger_(`changing ${e}Buffer codec from ${o} to ${t}`);try{r.changeType(i),n.codecs[e]=t}catch(u){l.errorType=J.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,n.error_=u,n.trigger("error"),J.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},ii=({type:t,sourceUpdater:e,action:n,doneFn:r,name:i})=>{e.queue.push({type:t,action:n,doneFn:r,name:i}),_c(t,e)},QI=(t,e)=>n=>{const r=e[`${t}Buffered`](),i=Fre(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}_c(t,e)};class cN extends J.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>_c("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Wi("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=QI("video",this),this.onAudioUpdateEnd_=QI("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){ii({type:"mediaSource",sourceUpdater:this,action:ri.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){ii({type:e,sourceUpdater:this,action:ri.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){J.log.error("removeSourceBuffer is not supported!");return}ii({type:"mediaSource",sourceUpdater:this,action:ri.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!J.browser.IS_FIREFOX&&q.MediaSource&&q.MediaSource.prototype&&typeof q.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return q.SourceBuffer&&q.SourceBuffer.prototype&&typeof q.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){J.log.error("changeType is not supported!");return}ii({type:e,sourceUpdater:this,action:ri.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const o=n;if(ii({type:i,sourceUpdater:this,action:ri.appendBuffer(s,r||{mediaIndex:-1},o),doneFn:n,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Rs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Jn()}videoBuffered(){return Rs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Jn()}buffered(){const e=Rs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Rs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():Ure(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=ho){ii({type:"mediaSource",sourceUpdater:this,action:ri.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=ho){typeof e!="string"&&(e=void 0),ii({type:"mediaSource",sourceUpdater:this,action:ri.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=ho){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}ii({type:"audio",sourceUpdater:this,action:ri.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=ho){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}ii({type:"video",sourceUpdater:this,action:ri.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!(Lb("audio",this)||Lb("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ii({type:"audio",sourceUpdater:this,action:ri.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(ii({type:"video",sourceUpdater:this,action:ri.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&ii({type:"audio",sourceUpdater:this,action:ri.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&ii({type:"video",sourceUpdater:this,action:ri.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Sse.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>uN(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const JI=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),wse=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},ZI=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class Cse extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Ase extends Ob{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Jn();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return Jn([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=zg(e);let i=this.initSegments_[r];if(n&&!i&&e.bytes){const s=ZI.byteLength+e.bytes.byteLength,o=new Uint8Array(s);o.set(e.bytes),o.set(ZI,e.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){yh(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Bs.TIMEOUT&&this.handleTimeout_(),e.code===Bs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=n.map.bytes),i.bytes=n.bytes,typeof q.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(o){this.stopForError({message:o.message,metadata:{errorType:J.Error.StreamingVttParserError,error:o}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new q.VTTCue(o.startTime,o.endTime,o.text):o)}),lse(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let n,r=!1;if(typeof q.WebVTT!="function")throw new Cse;typeof q.TextDecoder=="function"?n=new q.TextDecoder("utf8"):(n=q.WebVTT.StringDecoder(),r=!0);const i=new q.WebVTT.Parser(q,q.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=o=>{e.timestampmap=o},i.onparsingerror=o=>{J.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;r&&(o=JI(o)),i.parse(o)}let s=e.bytes;r&&(s=JI(s)),i.parse(s),i.flush()}updateTimeMapping_(e,n,r){const i=e.segment;if(!n)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:o}=e.timestampmap,l=s/bl.ONE_SECOND_IN_TS-o+n.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,f=s===0?u.startTime+l:this.handleRollover_(u.startTime+l,n.time);u.startTime=Math.max(f,0),u.endTime=Math.max(f+c,0)}),!r.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(u,c-i.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*bl.ONE_SECOND_IN_TS;const i=n*bl.ONE_SECOND_IN_TS;let s;for(i<r?s=-8589934592:s=8589934592;Math.abs(r-i)>4294967296;)r+=s;return r/bl.ONE_SECOND_IN_TS}}const Ise=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},kse=function(t,e,n=0){if(!t.segments)return;let r=n,i;for(let s=0;s<t.segments.length;s++){const o=t.segments[s];if(i||(i=Ise(e,r+o.duration/2)),i){if("cueIn"in o){i.endTime=r,i.adEndTime=r,r+=o.duration,i=null;continue}if(r<i.endTime){r+=o.duration;continue}i.endTime+=o.duration}else if("cueOut"in o&&(i=new q.VTTCue(r,r+o.duration,o.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(o.cueOut),e.addCue(i)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);i=new q.VTTCue(r,r+o.duration,""),i.adStartTime=r-a,i.adEndTime=i.adStartTime+l,e.addCue(i)}r+=o.duration}};class ek{constructor({start:e,end:n,segmentIndex:r,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Dse{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class dN{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(r,i),!!this.isReliable_)return this.updateStorage_(i,r,this.calculateBaseTime_(r,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const i of r)if(i.isInRange(e))return i}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,r){const i=new Map;let s=`
`,o=r,a=n;this.start_=o,e.forEach((l,u)=>{const c=this.storage_.get(a),f=o,m=f+l.duration,x=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),_=new ek({start:f,end:m,appended:x,segmentIndex:u});l.syncInfo=_;let g=o;const k=(l.parts||[]).map((E,w)=>{const S=g,O=g+E.duration,L=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[w]&&c.partsSyncInfo[w].isAppended),R=new ek({start:S,end:O,appended:L,segmentIndex:u,partIndex:w});return g=O,s+=`Media Sequence: ${a}.${w} | Range: ${S} --> ${O} | Appended: ${L}
`,E.syncInfo=R,R});i.set(a,new Dse(_,k)),s+=`${aN(l.resolvedUri)} | Media Sequence: ${a} | Range: ${f} --> ${m} | Appended: ${x}
`,a++,o=m}),this.end_=o,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,n){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:n:0}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class tk extends dN{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n){if(!this.storage_.size){const r=this.parent_.getSyncInfoForMediaSequence(e);return r?r.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n)}}const Pse=86400,R_=[{name:"VOD",run:(t,e,n,r,i)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,i,s)=>{const o=t.getMediaSequenceSync(s);if(!o||!o.isReliable)return null;const a=o.getSyncInfoForTime(i);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,o=null;const a=Eb(e);i=i||0;for(let l=0;l<a.length;l++){const u=e.endList||i===0?l:a.length-(l+1),c=a[u],f=c.segment,m=t.timelineToDatetimeMappings[f.timeline];if(!m||!f.dateTimeObject)continue;let _=f.dateTimeObject.getTime()/1e3+m;if(f.parts&&typeof c.partIndex=="number")for(let k=0;k<c.partIndex;k++)_+=f.parts[k].duration;const g=Math.abs(i-_);if(o!==null&&(g===0||o<g))break;o=g,s={time:_,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(t,e,n,r,i)=>{let s=null,o=null;i=i||0;const a=Eb(e);for(let l=0;l<a.length;l++){const u=e.endList||i===0?l:a.length-(l+1),c=a[u],f=c.segment,m=c.part&&c.part.start||f&&f.start;if(f.timeline===r&&typeof m<"u"){const x=Math.abs(i-m);if(o!==null&&o<x)break;(!s||o===null||o>=x)&&(o=x,s={time:m,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,r,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,c=t.discontinuities[u];if(c){const f=Math.abs(i-c.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,r,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Rse extends J.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new dN,r=new tk(n),i=new tk(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:i},this.logger_=Wi("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,i,s){if(n!==1/0)return R_.find(({name:l})=>l==="VOD").run(this,e,n);const o=this.runStrategies_(e,n,r,i,s);if(!o.length)return null;for(const a of o){const{syncPoint:l,strategy:u}=a,{segmentIndex:c,time:f}=l;if(c<0)continue;const m=e.segments[c],x=f,_=x+m.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${c}. Time: [${x} -> ${_}]}`),i>=x&&i<_)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(o,{key:"time",value:i})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+Fh({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,i,s){const o=[];for(let a=0;a<R_.length;a++){const l=R_[a],u=l.run(this,e,n,r,i,s);u&&(u.strategy=l.name,o.push({strategy:l.name,syncPoint:u}))}return o}selectSyncPoint_(e,n){let r=e[0].syncPoint,i=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[n.key]-n.value);a<i&&(i=a,r=e[o].syncPoint,s=e[o].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>Pse){J.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let i=r-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),i=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const i=e.segment,s=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),a=e.startOfSegment,l=n.end+o.mapping;else if(o)a=n.start+o.mapping,l=n.end+o.mapping;else return!1;return s&&(s.start=a,s.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let i=0;i<n.discontinuityStarts.length;i++){const s=n.discontinuityStarts[i],o=n.discontinuitySequence+i+1,a=s-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;a<0?u=r.start-Fh({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):u=r.end+Fh({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Ose extends J.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Lse=YL(QL(function(){var t=function(){function g(){this.listeners={}}var k=g.prototype;return k.on=function(w,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push(S)},k.off=function(w,S){if(!this.listeners[w])return!1;var O=this.listeners[w].indexOf(S);return this.listeners[w]=this.listeners[w].slice(0),this.listeners[w].splice(O,1),O>-1},k.trigger=function(w){var S=this.listeners[w];if(S)if(arguments.length===2)for(var O=S.length,L=0;L<O;++L)S[L].call(this,arguments[1]);else for(var R=Array.prototype.slice.call(arguments,1),D=S.length,P=0;P<D;++P)S[P].apply(this,R)},k.dispose=function(){this.listeners={}},k.pipe=function(w){this.on("data",function(S){w.push(S)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const n=function(){const g=[[[],[],[],[],[]],[[],[],[],[],[]]],k=g[0],E=g[1],w=k[4],S=E[4];let O,L,R;const D=[],P=[];let M,B,$,V,F,se;for(O=0;O<256;O++)P[(D[O]=O<<1^(O>>7)*283)^O]=O;for(L=R=0;!w[L];L^=M||1,R=P[R]||1)for(V=R^R<<1^R<<2^R<<3^R<<4,V=V>>8^V&255^99,w[L]=V,S[V]=L,$=D[B=D[M=D[L]]],se=$*16843009^B*65537^M*257^L*16843008,F=D[V]*257^V*16843008,O=0;O<4;O++)k[O][L]=F=F<<24^F>>>8,E[O][V]=se=se<<24^se>>>8;for(O=0;O<5;O++)k[O]=k[O].slice(0),E[O]=E[O].slice(0);return g};let r=null;class i{constructor(k){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let E,w,S;const O=this._tables[0][4],L=this._tables[1],R=k.length;let D=1;if(R!==4&&R!==6&&R!==8)throw new Error("Invalid aes key size");const P=k.slice(0),M=[];for(this._key=[P,M],E=R;E<4*R+28;E++)S=P[E-1],(E%R===0||R===8&&E%R===4)&&(S=O[S>>>24]<<24^O[S>>16&255]<<16^O[S>>8&255]<<8^O[S&255],E%R===0&&(S=S<<8^S>>>24^D<<24,D=D<<1^(D>>7)*283)),P[E]=P[E-R]^S;for(w=0;E;w++,E--)S=P[w&3?E:E-4],E<=4||w<4?M[w]=S:M[w]=L[0][O[S>>>24]]^L[1][O[S>>16&255]]^L[2][O[S>>8&255]]^L[3][O[S&255]]}decrypt(k,E,w,S,O,L){const R=this._key[1];let D=k^R[0],P=S^R[1],M=w^R[2],B=E^R[3],$,V,F;const se=R.length/4-2;let ce,ue=4;const le=this._tables[1],ee=le[0],fe=le[1],ye=le[2],ke=le[3],Se=le[4];for(ce=0;ce<se;ce++)$=ee[D>>>24]^fe[P>>16&255]^ye[M>>8&255]^ke[B&255]^R[ue],V=ee[P>>>24]^fe[M>>16&255]^ye[B>>8&255]^ke[D&255]^R[ue+1],F=ee[M>>>24]^fe[B>>16&255]^ye[D>>8&255]^ke[P&255]^R[ue+2],B=ee[B>>>24]^fe[D>>16&255]^ye[P>>8&255]^ke[M&255]^R[ue+3],ue+=4,D=$,P=V,M=F;for(ce=0;ce<4;ce++)O[(3&-ce)+L]=Se[D>>>24]<<24^Se[P>>16&255]<<16^Se[M>>8&255]<<8^Se[B&255]^R[ue++],$=D,D=P,P=M,M=B,B=$}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(k){this.jobs.push(k),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},a=function(g,k,E){const w=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),S=new i(Array.prototype.slice.call(k)),O=new Uint8Array(g.byteLength),L=new Int32Array(O.buffer);let R,D,P,M,B,$,V,F,se;for(R=E[0],D=E[1],P=E[2],M=E[3],se=0;se<w.length;se+=4)B=o(w[se]),$=o(w[se+1]),V=o(w[se+2]),F=o(w[se+3]),S.decrypt(B,$,V,F,L,se),L[se]=o(L[se]^R),L[se+1]=o(L[se+1]^D),L[se+2]=o(L[se+2]^P),L[se+3]=o(L[se+3]^M),R=B,D=$,P=V,M=F;return O};class l{constructor(k,E,w,S){const O=l.STEP,L=new Int32Array(k.buffer),R=new Uint8Array(k.byteLength);let D=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(L.subarray(D,D+O),E,w,R)),D=O;D<L.length;D+=O)w=new Uint32Array([o(L[D-4]),o(L[D-3]),o(L[D-2]),o(L[D-1])]),this.asyncStream_.push(this.decryptChunk_(L.subarray(D,D+O),E,w,R));this.asyncStream_.push(function(){S(null,e(R))})}static get STEP(){return 32e3}decryptChunk_(k,E,w,S){return function(){const O=a(k,E,w);S.set(O,k.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var f=c,m=function(k){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(k):k&&k.buffer instanceof ArrayBuffer},x=f.BigInt||Number;x("0x1"),x("0x100"),x("0x10000"),x("0x1000000"),x("0x100000000"),x("0x10000000000"),x("0x1000000000000"),x("0x100000000000000"),x("0x10000000000000000"),function(){var g=new Uint16Array([65484]),k=new Uint8Array(g.buffer,g.byteOffset,g.byteLength);return k[0]===255?"big":k[0]===204?"little":"unknown"}();const _=function(g){const k={};return Object.keys(g).forEach(E=>{const w=g[E];m(w)?k[E]={bytes:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength}:k[E]=w}),k};self.onmessage=function(g){const k=g.data,E=new Uint8Array(k.encrypted.bytes,k.encrypted.byteOffset,k.encrypted.byteLength),w=new Uint32Array(k.key.bytes,k.key.byteOffset,k.key.byteLength/4),S=new Uint32Array(k.iv.bytes,k.iv.byteOffset,k.iv.byteLength/4);new l(E,w,S,function(O,L){self.postMessage(_({source:k.source,decrypted:L}),[L.buffer])})}}));var Nse=XL(Lse);const Mse=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},hN=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Nb=(t,e)=>{e.activePlaylistLoader=t,t.load()},Fse=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),o=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(o&&l&&o.id===l.id)&&(i.lastGroup_=o,i.lastTrack_=s,hN(n,i),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&r.resetEverything();return}n.resyncLoader(),Nb(o.playlistLoader,i)}},Bse=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},Use=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:s}}=e,o=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&o&&u.id===o.id)&&(s.lastGroup_=a,s.lastTrack_=o,hN(r,s),!!a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const c=e.vhs.playlistController_,f=c.selectPlaylist();if(c.media()===f)return;s.logger_(`track change. Switching main audio from ${u.id} to ${o.id}`),n.pause(),i.resetEverything(),c.fastQualityChange_(f);return}if(t==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}r.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){Nb(a.playlistLoader,s);return}r.track&&r.track(o),r.resetEverything(),Nb(a.playlistLoader,s)}},qg={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,i=n.activeTrack(),s=n.activeGroup(),o=(s.filter(l=>l.default)[0]||s[0]).id,a=n.tracks[o];if(i===a){r({error:{message:"Problem encountered loading the default audio track."}});return}J.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===a;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;J.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},nk={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:i,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",qg[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:o}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),s.track(o.activeTrack()),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",qg[t](t,n))}},jse={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,f=ep(c.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},f&&(o[t].main.default.playlists=c.main.playlists));for(const m in o[t]){a[m]||(a[m]=[]);for(const x in o[t][m]){let _=o[t][m][x],g;if(f?(u(`AUDIO group '${m}' label '${x}' is a main playlist`),_.isMainPlaylist=!0,g=null):r==="vhs-json"&&_.playlists?g=new Zu(_.playlists[0],n,s):_.resolvedUri?g=new Zu(_.resolvedUri,n,s):_.playlists&&r==="dash"?g=new Db(_.playlists[0],n,s,c):g=null,_=wt({id:x,playlistLoader:g},_),nk[t](t,_.playlistLoader,e),a[m].push(_),typeof l[x]>"u"){const k=new J.AudioTrack({id:x,kind:Mse(_),enabled:!1,language:_.language,default:_.default,label:x});l[x]=k}}}i.on("error",qg[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:i,segmentLoaders:{[t]:s},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const f in a[t]){l[f]||(l[f]=[]);for(const m in a[t][f]){if(!r.options_.useForcedSubtitles&&a[t][f][m].forced)continue;let x=a[t][f][m],_;if(i==="hls")_=new Zu(x.resolvedUri,r,o);else if(i==="dash"){if(!x.playlists.filter(k=>k.excludeUntil!==1/0).length)return;_=new Db(x.playlists[0],r,o,c)}else i==="vhs-json"&&(_=new Zu(x.playlists?x.playlists[0]:x.resolvedUri,r,o));if(x=wt({id:m,playlistLoader:_},x),nk[t](t,x.playlistLoader,e),l[f].push(x),typeof u[m]>"u"){const g=n.addRemoteTextTrack({id:m,kind:"subtitles",default:x.default&&x.autoselect,language:x.language,label:m},!1).track;u[m]=g}}}s.on("error",qg[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const o in r[t]){i[o]||(i[o]=[]);for(const a in r[t][o]){const l=r[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=wt(c,u[c.instreamId])),c.default===void 0&&delete c.default,i[o].push(wt({id:a},l)),typeof s[a]>"u"){const f=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[a]=f}}}}},fN=(t,e)=>{for(let n=0;n<t.length;n++)if(yS(e,t[n])||t[n].playlists&&fN(t[n].playlists,e))return!0;return!1},$se=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:i}}}=e,s=r.media();if(!s)return null;let o=null;s.attributes[t]&&(o=i[s.attributes[t]]);const a=Object.keys(i);if(!o)if(t==="AUDIO"&&a.length>1&&ep(e.main))for(let l=0;l<a.length;l++){const u=i[a[l]];if(fN(u,s)){o=u;break}}else i.main?o=i.main:a.length===1&&(o=i[a[0]]);return typeof n>"u"?o:n===null||!o?null:o.filter(l=>l.id===n.id)[0]||null},zse={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},Hse=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},Vse=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{jse[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:i,segmentLoaders:{["AUDIO"]:s,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=$se(u,t),e[u].activeTrack=zse[u](u,t),e[u].onGroupChanged=Fse(u,t),e[u].onGroupChanging=Bse(u,t),e[u].onTrackChanged=Use(u,t),e[u].getActiveGroup=Hse(u,t)});const a=e.AUDIO.activeGroup();if(a){const u=(a.filter(f=>f.default)[0]||a[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},qse=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ho,activeTrack:ho,getActiveGroup:ho,onGroupChanged:ho,onTrackChanged:ho,lastTrack_:null,logger_:Wi(`MediaGroups[${e}]`)}}),t};class rk{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Fr(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class Wse extends J.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new rk,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Wi("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=Fr(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(s,o)=>{if(s){if(o.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(o.status===429){const u=o.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let a;try{a=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:J.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(a);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new q.URL(e),r=new q.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(q.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new q.URL(e),r=this.getPathway(),i=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,r)}if(i){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,i)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!n(i))return i}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=q.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){q.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new rk}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(Fr(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Gse=10;let oo;const Kse=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Xse=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Yse=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:o,bufferBasedABR:a,log:l}){if(!r)return J.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(r.id===t.id)return!1;const c=!!Ju(e,n).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const f=pS(e,n),m=a?zn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:zn.MAX_BUFFER_LOW_WATER_LINE;if(o<m)return l(`${u} as duration < max low water line (${o} < ${m})`),!0;const x=r.attributes.BANDWIDTH,_=t.attributes.BANDWIDTH;if(x<_&&(!a||f<s)){let g=`${u} as next bandwidth < current bandwidth (${x} < ${_})`;return a&&(g+=` and forwardBuffer < bufferHighWaterLine (${f} < ${s})`),l(g),!0}if((!a||x>_)&&f>=i){let g=`${u} as forwardBuffer >= bufferLowWaterLine (${f} >= ${i})`;return a&&(g+=` and next bandwidth > current bandwidth (${x} > ${_})`),l(g),!0}return l(`not ${u} as no switching criteria met`),!1};class Qse extends J.EventTarget{constructor(e){super();const{src:n,withCredentials:r,tech:i,bandwidth:s,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:f,bufferBasedABR:m,leastPixelDiffSelector:x,captionServices:_}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:g}=e;(g===null||typeof g>"u")&&(g=1/0),oo=o,this.bufferBasedABR=!!m,this.leastPixelDiffSelector=!!x,this.withCredentials=r,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=g,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:g,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=qse(),this.mediaSource=new q.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Jn(),this.hasPlayed_=!1,this.syncController_=new Rse(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Nse,this.sourceUpdater_=new cN(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Ose,this.keyStatusMap_=new Map;const k={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Db(n,this.vhs_,wt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Zu(n,this.vhs_,wt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Ob(wt(k,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Ob(wt(k,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Ase(wt(k,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((S,O)=>{function L(){i.off("vttjserror",R),S()}function R(){i.off("vttjsloaded",L),O()}i.one("vttjsloaded",L),i.one("vttjserror",R),i.addWebVttScript_()})}),e);const E=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new Wse(this.vhs_.xhr,E),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Kse.forEach(S=>{this[S+"_"]=Xse.bind(this,S)}),this.logger_=Wi("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const w=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(w,()=>{const S=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-S,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const i=this.media(),s=i&&(i.id||i.uri),o=e&&(e.id||e.uri);if(s&&s!==o){this.logger_(`switch media ${s} -> ${o} from ${n}`);const a={renditionInfo:{id:o,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,i=this.contentSteeringController_.getPathway();if(r&&i){const o=(r.length?r[0].playlists:r.playlists).filter(a=>a.attributes.serviceLocation===i);o.length&&this.mediaTypes_[e].activePlaylistLoader.media(o[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=q.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(q.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,i=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const a=r.main||i.length&&r[i[0]];for(const l in a)if(a[l].default){s={label:l};break}}if(!s)return n;const o=[];for(const a in r)if(r[a][s.label]){const l=r[a][s.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a&&o.push(c)}}return o.length?o:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;wb(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),Vse({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;wb(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,r=>{this.player_.trigger(G({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let i=!0;const s=Object.keys(r.AUDIO);for(const o in r.AUDIO)for(const a in r.AUDIO[o])r.AUDIO[o][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),oo.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),o=this.tech_.buffered();return Yse({buffered:o,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.sourceType_==="dash"&&this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const i=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Gse}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,i=>{this.player_.trigger(G({},i))}),this.audioSegmentLoader_.on(r,i=>{this.player_.trigger(G({},i))}),this.subtitleSegmentLoader_.on(r,i=>{this.player_.trigger(G({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let i=r;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(r+s,n.start(0)):i=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const i=oo.Playlist.playlistEnd(e,r),s=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return i-s<=Fs;const a=o.end(o.length-1);return a-s<=Fs&&i-a<=Fs}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(Xy),o=s.length===1&&s[0]===e;if(i.length===1&&r!==1/0)return J.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const _=this.pathwayAttribute_(e),g=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(_),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(_)},g);return}let x=!1;i.forEach(_=>{if(_===e)return;const g=_.excludeUntil;typeof g<"u"&&g!==1/0&&(x=!0,delete _.excludeUntil)}),x&&(J.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+r*1e3,e.excludeUntil=a,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:J.log.warn,c=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=l.targetDuration/2*1e3||5*1e3,m=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=f;return this.switchMedia_(l,"exclude",o||m)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],i=e==="all";(i||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&r.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this[`${o}SegmentLoader_`];a&&(e===o||e==="all")&&r.push(a)}),r.forEach(o=>n.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const n=Ju(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:oo.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let n=this.mainPlaylistLoader_.media();if(!n)return;let r=this.syncController_.getExpiredTime(n,this.duration());if(r===null)return;const i=this.mainPlaylistLoader_.main,s=oo.Playlist.seekable(n,r,oo.Playlist.liveEdgeDelay(i,n));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(n,this.duration()),r===null||(e=oo.Playlist.seekable(n,r,oo.Playlist.liveEdgeDelay(i,n)),e.length===0)))return;let o,a;if(this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Jn([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a)return;this.logger_(`seekable updated [${wL(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const n=this.tech_.buffered();let r=oo.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=Uh(this.main(),n),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=r.video||e.main.videoCodec||fee),e.main.isMuxed&&(i.video+=`,${r.audio||e.main.audioCodec||BA}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||BA,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,c)=>u?bm(c):m_(c),a={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!o(e[u].isFmp4,i[u])){const c=e[u].isFmp4?"browser":"muxer";a[c]=a[c]||[],a[c].push(i[u]),u==="audio"&&(l=c)}}),s&&l&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==n&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const u=Object.keys(a).reduce((c,f)=>(c&&(c+=", "),c+=`${f} does not support codec(s): "${a[f].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const f=(ks(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,m=(ks(i[c]||"")[0]||{}).type;f&&m&&f.toLowerCase()!==m.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${i[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const i=e[r];if(n.indexOf(i.id)!==-1)return;n.push(i.id);const s=Uh(this.main,i),o=[];s.audio&&!m_(s.audio)&&!bm(s.audio)&&o.push(`audio codec ${s.audio}`),s.video&&!m_(s.video)&&!bm(s.video)&&o.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&o.push(`text codec ${s.text}`),o.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${o.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,i=Hg(ks(e)),s=VI(i),o=i.video&&ks(i.video)[0]||null,a=i.audio&&ks(i.audio)[0]||null;Object.keys(r).forEach(l=>{const u=r[l];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const c=[],f=Uh(this.mainPlaylistLoader_.main,u),m=VI(f);if(!(!f.audio&&!f.video)){if(m!==s&&c.push(`codec count "${m}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const x=f.video&&ks(f.video)[0]||null,_=f.audio&&ks(f.audio)[0]||null;x&&o&&x.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`video codec "${x.type}" !== "${o.type}"`),_&&a&&_.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`audio codec "${_.type}" !== "${a.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),kse(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=zn.GOAL_BUFFER_LENGTH,r=zn.GOAL_BUFFER_LENGTH_RATE,i=Math.max(n,zn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=zn.BUFFER_LOW_WATER_LINE,r=zn.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(n,zn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,zn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return zn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){GI(this.inbandTextTracks_,"com.apple.streaming",this.tech_),ase({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();GI(this.inbandTextTracks_,e,this.tech_),ise({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:i,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,r=>{this.trigger(G({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),o=[];for(const a of n.playlists){const l=a.attributes.serviceLocation;if(l&&(o.push(l),!s.has(l)))return!0}return!!(!o.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,i=new Set;let s=!1;Object.keys(r).forEach(o=>{const a=r[o],l=this.pathwayAttribute_(a),u=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!u&&(delete a.excludeUntil,delete a.lastExcludeReason_,s=!0);const f=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&u&&f&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(o=>{const a=this.mediaTypes_[o];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||i&&i.size){for(const[o,a]of r.entries())i.get(o)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(o));for(const[o,a]of i.entries()){const l=r.get(o);if(!l){n.filter(c=>c.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(a,c)}),this.contentSteeringController_.addAvailablePathway(o);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(o))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,i=n["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==i[s])return!1;for(const s in i)if(r[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=this.mainPlaylistLoader_.getKeyIdSet(r);!i||!i.size||i.forEach(s=>{const o="usable",a=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===o,l=r.lastExcludeReason_===n&&r.excludeUntil===1/0;a?a&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${o}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${o}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===n;i&&s&&(delete r.excludeUntil,J.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const s=(typeof e=="string"?e:wse(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Jse=(t,e,n)=>r=>{const i=t.main.playlists[e],s=gS(i),o=Xy(i);if(typeof r>"u")return o;r?delete i.disabled:i.disabled=!0;const a={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return r!==o&&!s&&(n(i),r?t.trigger({type:"renditionenabled",metadata:a}):t.trigger({type:"renditiondisabled",metadata:a})),r};class Zse{constructor(e,n,r){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(n.attributes){const o=n.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Uh(i.main(),n),this.playlist=n,this.id=r,this.enabled=Jse(e.playlists,n.id,s)}}const eoe=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=ep(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!gS(r)).map((r,i)=>new Zse(t,r,r.id)):[]}},ik=["seeking","seeked","pause","playing","error"];class toe extends J.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Wi("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},o[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),o[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(f=>{o[`${f}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(ik,s),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(ik,s),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(c=>{o[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),o[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&q.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=q.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],i=r.buffered_(),s=$re(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const o={bufferedRanges:i};n.trigger({type:"bufferedrangeschanged",metadata:o}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:Tl(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+Fs>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Jn([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),r=this.tech_.currentTime(),i=this.afterSeekableWindow_(n,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,r)){const _=n.start(0);s=_+(_===n.end(0)?0:Fs)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${wL(n)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,c=this.media(),f=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Ms)*2,m=[l,u];for(let _=0;_<m.length;_++){if(!m[_])continue;if(pS(m[_],r)<f)return!1}const x=Wp(a,r);return x.length===0?!1:(s=x.start(0)+Fs,this.logger_(`Buffered region starts (${x.start(0)})  just beyond seek point (${r}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=Ju(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=Wp(i,n);return o.length>0?(this.logger_(`Stopped at ${n} and seeking to ${o.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Fs;const o=!r.endList,a=typeof r.partTargetDuration=="number";return o&&(a||i)&&(s=e.end(e.length-1)+r.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let i;if(e.length&&n.length){const s=Ju(e,r-3),o=Ju(e,r),a=Ju(n,r);a.length&&!o.length&&s.length&&(i={start:s.end(0),end:a.end(0)})}else Wp(e,r).length||(i=this.gapFromVideoUnderflow_(e,r));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),i=Wp(n,r);if(this.resetTimeUpdate_(),i.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Ms);const s={gapInfo:{from:r,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const r=Bre(e);for(let i=0;i<r.length;i++){const s=r.start(i),o=r.end(i);if(n-s<4&&n-s>2)return{start:s,end:o}}return null}}const noe={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},pN=function(t,e){let n=0,r=0;const i=wt(noe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},o=function(c){c!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-n<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){J.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),i.getSource.call(t,o)},l=function(){t.off("loadedmetadata",s),t.off("error",a),t.off("dispose",l)},u=function(c){l(),pN(t,c)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=u},roe=function(t){pN(this,t)};var mN="3.13.3",ioe="7.0.3",soe="1.3.0",ooe="7.1.0",aoe="4.0.1";const rn={PlaylistLoader:Zu,Playlist:Br,utils:die,STANDARD_PLAYLIST_SELECTOR:WI,INITIAL_PLAYLIST_SELECTOR:Zie,lastBandwidthSelector:WI,movingAverageBandwidthSelector:Qie,comparePlaylistBandwidth:_S,comparePlaylistResolution:Yie,xhr:zL()};Object.keys(zn).forEach(t=>{Object.defineProperty(rn,t,{get(){return J.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),zn[t]},set(e){if(J.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){J.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}zn[t]=e}})});const gN="videojs-vhs",yN=function(t,e){const n=e.media();let r=-1;for(let i=0;i<t.length;i++)if(t[i].id===n.id){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},loe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),yN(t,e.playlists)};rn.canPlaySource=function(){return J.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const uoe=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=Hg(ks(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const i=yf(r.video),s=yf(r.audio),o={};for(const a in t)o[a]={},s&&(o[a].audioContentType=s),i&&(o[a].videoContentType=i),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return wt(t,o)},coe=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const i=e.reduce((s,o)=>{const a=r.contentProtection[o];return a&&a.pssh&&(s[o]={pssh:a.pssh}),s},{});return Object.keys(i).length&&n.push(i),n},[]),doe=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=n?r.concat([n]):r,s=coe(i,Object.keys(e)),o=[],a=[];return s.forEach(l=>{a.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},f=>{if(f){c(f);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},hoe=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const i=uoe(e,n,r);return i?(t.currentSource().keySystems=i,i&&!t.eme?(J.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},vN=()=>{if(!q.localStorage)return null;const t=q.localStorage.getItem(gN);if(!t)return null;try{return JSON.parse(t)}catch{return null}},foe=t=>{if(!q.localStorage)return!1;let e=vN();e=e?wt(e,t):t;try{q.localStorage.setItem(gN,JSON.stringify(e))}catch{return!1}return e},poe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,_N=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},bN=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},TN=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},xN=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};rn.supportsNativeHls=function(){if(!pe||!pe.createElement)return!1;const t=pe.createElement("video");return J.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();rn.supportsNativeDash=function(){return!pe||!pe.createElement||!J.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(pe.createElement("video").canPlayType("application/dash+xml"))}();rn.supportsTypeNatively=t=>t==="hls"?rn.supportsNativeHls:t==="dash"?rn.supportsNativeDash:!1;rn.isSupported=function(){return J.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};rn.xhr.onRequest=function(t){_N(rn.xhr,t)};rn.xhr.onResponse=function(t){bN(rn.xhr,t)};rn.xhr.offRequest=function(t){TN(rn.xhr,t)};rn.xhr.offResponse=function(t){xN(rn.xhr,t)};const moe=J.getComponent("Component");class SN extends moe{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=Wi("VhsHandler"),n.options_&&n.options_.playerId){const i=J.getPlayer(n.options_.playerId);this.player_=i}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(pe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=pe.fullscreenElement||pe.webkitFullscreenElement||pe.mozFullScreenElement||pe.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=wt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=vN();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=zn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===zn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=poe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=rn,this.options_.sourceType=m3(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new Qse(this.options_);const r=wt({liveRangeSafeTimeDelta:Fs},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new toe(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=J.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),s.error(o)});const i=this.options_.bufferBasedABR?rn.movingAverageBandwidthSelector(.55):rn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=rn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const o=q.navigator.connection||q.navigator.mozConnection||q.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&s>=a?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(s+o))},set(){J.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Tl(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Tl(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&foe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{eoe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=q.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),doe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=hoe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=J.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{loe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{yN(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":mN,"mux.js":ioe,"mpd-parser":soe,"m3u8-parser":ooe,"aes-decrypter":aoe}}version(){return this.constructor.version()}canChangeType(){return cN.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&q.URL.revokeObjectURL&&(q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return vie({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,i=2){return GL({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{_N(this.xhr,e)},this.xhr.onResponse=e=>{bN(this.xhr,e)},this.xhr.offRequest=e=>{TN(this.xhr,e)},this.xhr.offResponse=e=>{xN(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,i=>{this.player_.trigger(G({},i))})}),n.forEach(r=>{this.playbackWatcher_.on(r,i=>{this.player_.trigger(G({},i))})})}}const Wg={name:"videojs-http-streaming",VERSION:mN,canHandleSource(t,e={}){const n=wt(J.options,e);return Wg.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=wt(J.options,n);return e.vhs=new SN(t,e,r),e.vhs.xhr=zL(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=m3(t);if(!n)return"";const r=Wg.getOverrideNative(e);return!rn.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(J.browser.IS_ANY_SAFARI||J.browser.IS_IOS),{overrideNative:r=n}=e;return r}},goe=()=>bm("avc1.4d400d,mp4a.40.2");goe()&&J.getTech("Html5").registerSourceHandler(Wg,0);J.VhsHandler=SN;J.VhsSourceHandler=Wg;J.Vhs=rn;J.use||J.registerComponent("Vhs",rn);J.options.vhs=J.options.vhs||{};(!J.getPlugin||!J.getPlugin("reloadSourceOnError"))&&J.registerPlugin("reloadSourceOnError",roe);const yoe=()=>{const t=N.useRef(null),e=N.useRef(null),n={controls:!0,sources:[{src:nZ,type:"video/mp4"}]};return N.useEffect(()=>{const r=e.current;if(!r){const i=t.current;if(!i)return;e.current=J(i,n)}return()=>{r&&(r.dispose(),e.current=null)}},[n,t,e]),I.jsx("div",{"data-vjs-player":!0,children:I.jsx("video",{ref:t,className:"video-js vjs-big-play-centered vjs-theme-sea"})})},voe=()=>I.jsxs("div",{className:"feed-page",children:[I.jsx("div",{className:"explore-header",children:I.jsx("h2",{children:"Explore"})}),I.jsxs("div",{className:"explore-content",children:[I.jsx("h2",{children:"Trends for you"}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in India"}),I.jsx("h4",{children:"#IndiaAtOlympics"}),I.jsx("p",{className:"tweet-num",children:"4,371 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in India"}),I.jsx("h4",{children:"#UPSC"}),I.jsx("p",{className:"tweet-num",children:"1,535 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in India"}),I.jsx("h4",{children:"#DelhiRains"}),I.jsx("p",{className:"tweet-num",children:"2,151 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in India"}),I.jsx("h4",{children:"#NEETPG"}),I.jsx("p",{className:"tweet-num",children:"1,538 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in India"}),I.jsx("h4",{children:"#Boxing"}),I.jsx("p",{className:"tweet-num",children:"10.7K posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Events  Trending"}),I.jsx("h4",{children:"Deepika Kumari"}),I.jsx("p",{className:"tweet-num",children:"1,371 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Sports  Trending"}),I.jsx("h4",{children:"#DurandCup2024"}),I.jsx("p",{className:"tweet-num",children:"2,039 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in India"}),I.jsx("h4",{children:"#PujaKhedkar"}),I.jsx("p",{className:"tweet-num",children:"4,027 posts"})]}),I.jsxs("div",{className:"trend-news",children:[I.jsx("p",{className:"trending-place",children:"Trending in Business & finance"}),I.jsx("h4",{children:"Lincoln Financial Field"}),I.jsx("p",{className:"tweet-num",children:"1,590 posts"})]})]})]}),_oe=()=>I.jsxs("div",{className:"feed-page",children:[I.jsx("div",{className:"notification-header",children:I.jsx("h2",{children:"Notifications"})}),I.jsxs("div",{className:"notification-content",children:[I.jsxs("h1",{children:["Nothing to see here ",I.jsx("br",{})," yet"]}),I.jsxs("p",{children:["From likes to reposts and a whole lot more, this",I.jsx("br",{}),"is where all the action happens."]})]})]}),boe=()=>I.jsxs("div",{className:"feed-page",children:[I.jsx("div",{className:"notification-header",children:I.jsx("h2",{children:"Messages"})}),I.jsxs("div",{className:"notification-content",children:[I.jsxs("h1",{children:["Welcome to your",I.jsx("br",{}),"inbox!"]}),I.jsxs("p",{children:["Drop a line, share posts and more with private",I.jsx("br",{}),"conversations between you and others on Twitter. "]})]}),I.jsx("div",{className:"login-btn",children:I.jsx("button",{type:"submit",className:"msg-btn",children:"Write a message"})})]}),Toe=()=>{const[t,e]=N.useState([]),n=N.useContext(Zl),r=N.useContext(Vf),s=N.useContext(Jl).loggedInUser;return N.useEffect(()=>{fetch("https://twitter-clone-0b2e.onrender.com/bookmarkUserPost?bookmark=true").then(a=>a.json()).then(async a=>{e(a),console.log(a)})},[n.postStatus,r.bookmarkStatus,s]),I.jsxs("div",{className:"feed-page",children:[I.jsxs("div",{className:"bookmark-header",children:[I.jsx("h2",{children:"Bookmark"}),I.jsxs("p",{children:["@",s.username]})]}),I.jsxs("div",{className:"bookmark-content",style:{display:t.length===0?"block":"none"},children:[I.jsx("h1",{children:"Save posts for later"}),I.jsxs("p",{children:["Bookmark posts to easily find them again in the",I.jsx("br",{})," future."]})]}),t.slice().reverse().map(o=>I.jsx(yx,{post:o,changePostStatus:n.changePostStatus},o._id))]})},xoe=()=>I.jsxs("div",{className:"feed-page",children:[I.jsx("div",{className:"communities-header",children:I.jsx("h2",{children:"Communities"})}),I.jsx("div",{className:"notification-content",children:I.jsx("h1",{children:"No Communities yet--"})})]}),Soe="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8PEA8PDQ8QDQ0NDw8NDQ0NDxANDQ0NFRIWFhURFRUYHSggGBolHRUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OFxAQGi0lFx0tKysrLS0tLS0tLS0rKystLSstLS0tLS0rNy0tNy0tKzc3KystKy0rLSsrKystKysrK//AABEIAIABigMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAAAQIEBQMGB//EADUQAQABAgMFBwEHBAMAAAAAAAABAhEDITEEBSJBURITFDJTYaGBI0Jxc4Ky4VJykfBDwdH/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAgED/8QAGxEBAQEBAAMBAAAAAAAAAAAAAAERMRIhUQL/2gAMAwEAAhEDEQA/AP1YB1cxFQBQARUBUJAAUEUAIlFQFQAUEkFQAFRQSRSAAACAARUBQAEVAVFAEUAAARUBQAQAAIAUAAQBQABAFEUARQAgARSAIRQAAARQC7Ga4jKZzIxKesZ6AyRjGJHWM9CMSMs4z0BkMYrjrGemerIFEsAogCgACAKAAIAoAAgCgACAKioCgAAAAAAASgoAESAioCgAXAASZ66K094bR3dM1RHFfsUX8ul5qsDZ7ynrGl/oxxMaIiZmezTFpmqdLdI93BnbMX1K/pNnniY1dXnqqqtp2pmbK8U+Tax941zNsP7OjlEeafeZeXjsb1KvhrjcZrY8djepV8Hjsb1KvhrhjNbeFvHFic6u3HOmq2f1dfZsemqntU3mnnGtVE9J9nzrLDxKqZvTVNM9aZsWNlfSziU9Y92US+c8Zi+pX/l0t3bXNcVdrzUWqmqI89PumxUrpAMaAAAAAAAAAAAAAAAAISAoAAICgAAgAKAigIoAQioCooA5e+Y4afzJ+vC6jl758tP5k/tbOsvHJAWhYpmZiIi8zlERzl1tl3XTGeJxVf0x5Y/9eW5sG81Vz93hp/GdZ/3qu9drmJ7uibREccxrN+Sb8VPrd7GDGVsOPbhu8to3bRV5eCrlMeWfo4dm7u7a5oqimZvRVNrT92Z0mDDY1sbCmiZpqi0x/t2Ds74wb0RXzom0/wBsuM2XWWYN/dE8WJy+z16cUNBvbonixOX2ev6oLwjuSCIWoAAICgAAgKAACAqKAIqQAKWAC6AohcFBAULoCygAKigBAACAsIqArl75jhj8yf2uo5e+Y4afzJ/a2dZeOSAtDr7lngqjnFV/ho7ypmMWu/Oe1H4TBu/ae7rz8tWVXt0l1tr2SnFiJvaqI4aozy/7hPKrscBlh0zM0xGszER/ltzuvFv92fe7e2HYIw57VU9qvlbSn8C2MxnvObYVfvaPreHBdDeu1RVMUUzemmbzMaTV/Dnn54Ub26fNicuDX9UNFvbpnixOXBr+qG0juSEpdC1EuAohcFC6Aoly4KCXBRLlwUEuCoqAKICgAAAAAAAShICglgBQACAEUAcvfPlpy/5J158LqNPbtm7ymadJvFdMzpM2tMEZXBGzOwY3pz9LSngMb06vheoxrtjZtsrw8qZvT/TVnH8L4HG9Or4PA43p1fB6b7bUb3n04v8A3fw19o3hiVxbyUzrFPP6sPAY3p1fB4DG9Or4ZkPbXGx4DG9Or4XwGN6dXw3WY1m9uieLE5cGv6oeXgMb06vh0N37HOHftZV15WjPs0xN5uWtkdEBCwAAAAAAIAAAAAAAQCAWEVLAAoIKAiooIKgAACpZQEUABAUABJi+uce8XVAScOnpGeuSd3TnlGeejMBh3dPSM9Tu6ekZs4AYThx0jPUnDpzyjNmAwnDjpGep3dPSM9WaAxnDjpGerKKYjKIiPwABQBFRQRRAFAEBQAQBUUBFQAAFS4AoAAAAAAACLKAKAEAAAAAAIoCKAAgAtkAVFQBYCIAAAAAAAAAAAAAAAABAAVAB/9k=";var bS={},Eoe=Xt;Object.defineProperty(bS,"__esModule",{value:!0});var EN=bS.default=void 0,woe=Eoe(mn()),Coe=I;EN=bS.default=(0,woe.default)((0,Coe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var TS={},Aoe=Xt;Object.defineProperty(TS,"__esModule",{value:!0});var wN=TS.default=void 0,Ioe=Aoe(mn()),koe=I;wN=TS.default=(0,Ioe.default)((0,koe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var xS={},Doe=Xt;Object.defineProperty(xS,"__esModule",{value:!0});var CN=xS.default=void 0,Poe=Doe(mn()),Roe=I;CN=xS.default=(0,Poe.default)((0,Roe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var SS={},Ooe=Xt;Object.defineProperty(SS,"__esModule",{value:!0});var AN=SS.default=void 0,Loe=Ooe(mn()),Noe=I;AN=SS.default=(0,Loe.default)((0,Noe.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn");var ES={},Moe=Xt;Object.defineProperty(ES,"__esModule",{value:!0});var IN=ES.default=void 0,Foe=Moe(mn()),Boe=I;IN=ES.default=(0,Foe.default)((0,Boe.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");const Uoe=()=>{const t={position:"absolute",top:"70px",left:"360px",width:"520px",height:"490px",backgroundColor:"white",borderRadius:"25px",boxShadow:"0px 0px 10px grey"},n=N.useContext(Jl).loggedInUser,r=N.useContext(Zl),i=N.useContext(ux),[s,o]=N.useState(!1),[a,l]=N.useState(n.name),[u,c]=N.useState(""),[f,m]=N.useState(""),[x,_]=N.useState(""),g=()=>{o(!1)},k=async()=>{const E={name:a,bio:u,location:f,dob:x};at.patch(`https://twitter-clone-0b2e.onrender.com/userUpdates/${n.email}`,E).then(S=>console.log(S)),o(!1),await i.toggleEditStatus();const w={name:a};console.log(n.name),at.patch(`https://twitter-clone-0b2e.onrender.com/postUpdates/${n._id}`,w).then(S=>console.log(S)),r.changePostStatus()};return I.jsxs("div",{children:[I.jsx("button",{className:"editProfile-btn",onClick:()=>o(!0),children:"Edit Profile"}),I.jsx(LO,{open:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:I.jsxs(FX,{sx:t,children:[I.jsxs("div",{className:"editpage-header",children:[I.jsx(To,{style:{position:"absolute",top:"4px",left:"2px",zIndex:"1"},onClick:g,children:I.jsx(fx,{className:"close-icon",style:{transform:"scale(1.2)"}})}),I.jsx("h2",{className:"editpage-heading",children:"Edit Profile"}),I.jsx("button",{className:"editpage-savebtn",onClick:k,children:" Save"})]}),I.jsxs("div",{className:"fill-content",children:[I.jsx(c_,{className:"textfield",label:"Name",variant:"filled",onChange:E=>l(E.target.value),defaultValue:n.name,style:{width:"93%",marginLeft:"15px",border:"1px solid grey"}}),I.jsx(c_,{className:"textfield",label:"Bio",variant:"filled",onChange:E=>c(E.target.value),defaultValue:n.bio?n.bio:"",style:{width:"93%",marginLeft:"15px",marginTop:"25px",border:"1px solid grey"}}),I.jsx(c_,{className:"textfield",label:"Location",variant:"filled",onChange:E=>m(E.target.value),defaultValue:n.location?n.location:"",style:{width:"93%",marginLeft:"15px",marginTop:"25px",border:"1px solid grey"}})]})]})})]})},joe=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(),i=N.useContext(Ql),s=N.useContext(Zl),o=N.useContext(Vf),a=N.useContext(Ey),l=N.useContext(cx),u=Ba(),c=Kl(mi),[f,m]=NJ();N.useEffect(()=>{if(c){const E=c[0].email;fetch(`https://twitter-clone-0b2e.onrender.com/loggedInUser?email=${E}`).then(w=>w.json()).then(w=>{m(w[0])})}},[n]),N.useEffect(()=>{fetch(`https://twitter-clone-0b2e.onrender.com/userPost?email=${f.email}`).then(E=>E.json()).then(async E=>{e(E),console.log(E)})},[s.postStatus,o.bookmarkStatus,a.likeStatus,f]);const x=()=>{"Notification"in window&&Notification.requestPermission().then(E=>{console.log(E==="granted"?"Notification permission granted.":"Notification permission denied.")})},_=()=>{l.setNotificationsEnabled(!l.notificationsEnabled),localStorage.setItem("notificationsEnabled",!l.notificationsEnabled),l.notificationsEnabled||x()},g=E=>{const w=E.target.files[0],S=new FormData;S.set("image",w),at.post("https://api.imgbb.com/1/upload?key=2f52efed5e338fab7b042d1a5725375c",S).then(O=>{const L=O.data.data.display_url;console.log(L);const R={coverImage:L};at.patch(`https://twitter-clone-0b2e.onrender.com/userUpdates/${f.email}`,R).then(D=>console.log(D)),r(L)})},k=E=>{const w=E.target.files[0],S=new FormData;S.set("image",w),at.post("https://api.imgbb.com/1/upload?key=2f52efed5e338fab7b042d1a5725375c",S).then(O=>{const L=O.data.data.display_url;console.log(L);const R={profileImage:L};at.patch(`https://twitter-clone-0b2e.onrender.com/userUpdates/${f.email}`,R).then(D=>console.log(D)),i.setProfileImage(L),at.patch(`https://twitter-clone-0b2e.onrender.com/postUpdates/${f._id}`,R).then(D=>console.log(D))})};return I.jsx(I.Fragment,{children:I.jsxs("div",{children:[I.jsxs("div",{className:"backgroundimage",children:[I.jsxs("div",{className:"mainpage-header",children:[I.jsx(To,{style:{position:"relative",top:"-3px"},onClick:()=>u("/home"),children:I.jsx(EN,{})}),I.jsxs("div",{className:"header-container",children:[I.jsxs("div",{className:"header-info",children:[I.jsx("h2",{children:f.name}),I.jsxs("p",{children:[t.length," posts"]})]}),I.jsxs("label",{children:[I.jsx("input",{style:{scale:"1.4",marginRight:"10px"},type:"checkbox",checked:l.notificationsEnabled,onChange:_}),"Enable Notifications"]})]})]}),I.jsxs("div",{className:"cover-image",children:[f.coverImage?I.jsx("img",{src:f.coverImage,style:{width:"100%",height:"100%",objectFit:"cover"}}):I.jsx("img",{src:Soe,style:{width:"100%",height:"100%",objectFit:"cover"}}),I.jsx("label",{htmlFor:"coverimage",className:"select-coverimage",children:I.jsx(wN,{style:{scale:"1.2",color:"white",paddingTop:"5px"}})}),I.jsx("input",{type:"file",id:"coverimage",style:{display:"none"},onChange:g})]}),I.jsx(Uoe,{loggedInUser:f}),I.jsxs("div",{className:"profile-image",children:[f.profileImage?I.jsx("img",{src:f.profileImage,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):I.jsx(xy,{style:{scale:"3.85",marginLeft:"58px",marginTop:"57px"}}),I.jsx("label",{htmlFor:"profileimage",className:"select-profileimage",style:{marginLeft:f.profileImage?"111px":"120px",top:f.profileImage?"-38px":"15px"},children:I.jsx(CN,{style:{scale:"1.4",color:"white",paddingTop:"8px"}})}),I.jsx("input",{type:"file",id:"profileimage",style:{display:"none"},onChange:k})]}),I.jsxs("div",{className:"profile-info",children:[I.jsx("h2",{children:f.name}),I.jsxs("p",{children:["@",f.username]})]}),I.jsx("div",{className:"bio",style:{display:f.bio?"block":"none"},children:I.jsx("p",{children:f.bio})}),I.jsxs("div",{className:"additional-info",children:[I.jsxs("div",{className:"location",style:{display:f.location?"flex":"none"},children:[I.jsx(AN,{style:{scale:"0.9"}}),I.jsx("p",{children:f.location})]}),I.jsxs("div",{className:"joiningDate",children:[I.jsx(IN,{style:{scale:"0.9"}}),I.jsx("p",{children:"Joined July 2024"})]})]})]}),I.jsx("div",{className:"posts",children:I.jsx("h3",{children:"Tweets"})}),I.jsx("div",{className:"post-status",style:{display:t.length!==0?"none":"block"},children:I.jsx("h2",{children:"You haven't posted anything"})}),t.slice().reverse().map(E=>I.jsx(yx,{post:E,changePostStatus:s.changePostStatus},E._id))]})})},$oe=()=>I.jsx("div",{className:"feed-page",children:I.jsx("div",{className:"profilePage",children:I.jsx(joe,{})})}),zoe=()=>I.jsx("div",{className:"feed-page",children:I.jsx("h2",{className:"page-title",children:"Welcome to More"})}),Hoe=()=>{const[t,e]=N.useState(""),[n,r,i]=VU(mi),[s,o]=N.useState(""),[a,l]=N.useState(null);Ba(),N.useEffect(()=>{t&&fetch(`https://twitter-clone-0b2e.onrender.com/loggedInUser?email=${t}`).then(f=>f.json()).then(f=>{console.log(f[0]),l(`${f[0].lastRequested?f[0].lastRequested:null}`)}),o("")},[t]);const u=async()=>{const f=new Date;if(console.log(f),a){const m=new Date(a);if(console.log(m),f.getTime()-m.getTime()<864e5){o("You can only request a password reset once a day.");return}}try{await n(t,c)&&alert("Sent email");const x={lastRequested:f};at.patch(`https://twitter-clone-0b2e.onrender.com/userUpdates/${t}`,x).then(_=>console.log(_))}catch(m){console.log(m.message)}},c={url:"http://localhost:5175/login"};return i?I.jsx("div",{children:I.jsxs("p",{children:["Error: ",i.message]})}):r?I.jsx("p",{children:"Sending..."}):I.jsx("div",{className:"forgetPass-container",children:I.jsxs("div",{className:"box-container",children:[I.jsx(Xl,{className:"Twitter-icon",style:{scale:"1.9",marginTop:"25px",marginLeft:"230px"}}),I.jsx("h1",{className:"main-heading",children:"Find your Twitter account"}),I.jsxs("div",{className:"forgetPass-detail",children:["Enter the email associated with your account to change your ",I.jsx("br",{}),"password."]}),s&&I.jsx("p",{style:{color:"red",marginTop:"20px"},children:s}),I.jsx("input",{type:"email",required:!0,className:"email form-option",placeholder:"Email",onChange:f=>{e(f.target.value)},style:{color:"black"}}),I.jsx("div",{className:"next-btn",children:I.jsx("button",{type:"submit",className:"btn",onClick:u,children:"Reset Password"})})]})})},Voe=()=>{const[t,e]=N.useState(""),[n,r,i]=KU(mi),s=async()=>{await n(t)&&alert("Updated password");const a={password:t};at.patch(`https://twitter-clone-0b2e.onrender.com/userUpdates/${loggedInUser.email}`,a).then(l=>console.log(l))};return i?I.jsx("div",{children:I.jsxs("p",{children:["Error: ",i.message]})}):r?I.jsx("p",{children:"Updating..."}):I.jsx("div",{className:"forgetPass-container",children:I.jsxs("div",{className:"box-container",children:[I.jsx(Xl,{className:"Twitter-icon",style:{scale:"1.9",marginTop:"25px",marginLeft:"230px"}}),I.jsx("h1",{className:"main-heading",children:"Find your Twitter account"}),I.jsx("div",{className:"forgetPass-detail",children:"Create new password"}),I.jsx("input",{type:"text",className:"email form-option",onChange:o=>{e(o.target.value)},style:{color:"black"}}),I.jsx("p",{children:"or"}),I.jsx("button",{children:"Generate random password"}),I.jsx("div",{className:"next-btn",children:I.jsx("button",{className:"btn",onClick:s,children:"Set Password"})})]})})};function qoe(){const t=lW([{path:"/",element:I.jsx(aJ,{})},{path:"/login",element:I.jsx(FQ,{})},{path:"/signup",element:I.jsx(BQ,{})},{path:"/password-reset",element:I.jsx(Hoe,{})},{path:"/password-set",element:I.jsx(Voe,{})},{path:"/video",element:I.jsx(yoe,{})},{path:"/home",element:I.jsx(tZ,{children:I.jsx(eZ,{})}),children:[{index:!0,element:I.jsx(CA,{})},{path:"feed",element:I.jsx(CA,{})},{path:"explore",element:I.jsx(voe,{})},{path:"notifications",element:I.jsx(_oe,{})},{path:"messages",element:I.jsx(boe,{})},{path:"bookmark",element:I.jsx(Toe,{})},{path:"communities",element:I.jsx(xoe,{})},{path:"profile",element:I.jsx($oe,{})},{path:"more",element:I.jsx(zoe,{})}]},{path:"/page-loading",element:I.jsx(r3,{})}]);return I.jsx(I.Fragment,{children:I.jsx(yW,{router:t})})}O_.createRoot(document.getElementById("root")).render(I.jsx(qoe,{}));
